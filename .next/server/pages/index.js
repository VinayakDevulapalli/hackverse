/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/index";
exports.ids = ["pages/index"];
exports.modules = {

/***/ "./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2F&preferredRegion=&absolutePagePath=.%2Fpages%2Findex.js&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!":
/*!*****************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2F&preferredRegion=&absolutePagePath=.%2Fpages%2Findex.js&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D! ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   getServerSideProps: () => (/* binding */ getServerSideProps),\n/* harmony export */   getStaticPaths: () => (/* binding */ getStaticPaths),\n/* harmony export */   getStaticProps: () => (/* binding */ getStaticProps),\n/* harmony export */   reportWebVitals: () => (/* binding */ reportWebVitals),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   unstable_getServerProps: () => (/* binding */ unstable_getServerProps),\n/* harmony export */   unstable_getServerSideProps: () => (/* binding */ unstable_getServerSideProps),\n/* harmony export */   unstable_getStaticParams: () => (/* binding */ unstable_getStaticParams),\n/* harmony export */   unstable_getStaticPaths: () => (/* binding */ unstable_getStaticPaths),\n/* harmony export */   unstable_getStaticProps: () => (/* binding */ unstable_getStaticProps)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages/module.compiled */ \"./node_modules/next/dist/server/future/route-modules/pages/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var private_next_pages_document__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! private-next-pages/_document */ \"./node_modules/next/dist/pages/_document.js\");\n/* harmony import */ var private_next_pages_document__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(private_next_pages_document__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var private_next_pages_app__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! private-next-pages/_app */ \"./pages/_app.js\");\n/* harmony import */ var _pages_index_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./pages/index.js */ \"./pages/index.js\");\n\n\n\n// Import the app and document modules.\n\n\n// Import the userland code.\n\n// Re-export the component (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_js__WEBPACK_IMPORTED_MODULE_5__, \"default\"));\n// Re-export methods.\nconst getStaticProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_js__WEBPACK_IMPORTED_MODULE_5__, \"getStaticProps\");\nconst getStaticPaths = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_js__WEBPACK_IMPORTED_MODULE_5__, \"getStaticPaths\");\nconst getServerSideProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_js__WEBPACK_IMPORTED_MODULE_5__, \"getServerSideProps\");\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_js__WEBPACK_IMPORTED_MODULE_5__, \"config\");\nconst reportWebVitals = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_js__WEBPACK_IMPORTED_MODULE_5__, \"reportWebVitals\");\n// Re-export legacy methods.\nconst unstable_getStaticProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_js__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getStaticProps\");\nconst unstable_getStaticPaths = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_js__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getStaticPaths\");\nconst unstable_getStaticParams = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_js__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getStaticParams\");\nconst unstable_getServerProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_js__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getServerProps\");\nconst unstable_getServerSideProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_js__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getServerSideProps\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES,\n        page: \"/index\",\n        pathname: \"/\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    components: {\n        App: private_next_pages_app__WEBPACK_IMPORTED_MODULE_4__[\"default\"],\n        Document: (private_next_pages_document__WEBPACK_IMPORTED_MODULE_3___default())\n    },\n    userland: _pages_index_js__WEBPACK_IMPORTED_MODULE_5__\n});\n\n//# sourceMappingURL=pages.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTJnBhZ2U9JTJGJnByZWZlcnJlZFJlZ2lvbj0mYWJzb2x1dGVQYWdlUGF0aD0uJTJGcGFnZXMlMkZpbmRleC5qcyZhYnNvbHV0ZUFwcFBhdGg9cHJpdmF0ZS1uZXh0LXBhZ2VzJTJGX2FwcCZhYnNvbHV0ZURvY3VtZW50UGF0aD1wcml2YXRlLW5leHQtcGFnZXMlMkZfZG9jdW1lbnQmbWlkZGxld2FyZUNvbmZpZ0Jhc2U2ND1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQStGO0FBQ2hDO0FBQ0w7QUFDMUQ7QUFDb0Q7QUFDVjtBQUMxQztBQUM2QztBQUM3QztBQUNBLGlFQUFlLHdFQUFLLENBQUMsNENBQVEsWUFBWSxFQUFDO0FBQzFDO0FBQ08sdUJBQXVCLHdFQUFLLENBQUMsNENBQVE7QUFDckMsdUJBQXVCLHdFQUFLLENBQUMsNENBQVE7QUFDckMsMkJBQTJCLHdFQUFLLENBQUMsNENBQVE7QUFDekMsZUFBZSx3RUFBSyxDQUFDLDRDQUFRO0FBQzdCLHdCQUF3Qix3RUFBSyxDQUFDLDRDQUFRO0FBQzdDO0FBQ08sZ0NBQWdDLHdFQUFLLENBQUMsNENBQVE7QUFDOUMsZ0NBQWdDLHdFQUFLLENBQUMsNENBQVE7QUFDOUMsaUNBQWlDLHdFQUFLLENBQUMsNENBQVE7QUFDL0MsZ0NBQWdDLHdFQUFLLENBQUMsNENBQVE7QUFDOUMsb0NBQW9DLHdFQUFLLENBQUMsNENBQVE7QUFDekQ7QUFDTyx3QkFBd0IseUdBQWdCO0FBQy9DO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsV0FBVztBQUNYLGdCQUFnQjtBQUNoQixLQUFLO0FBQ0wsWUFBWTtBQUNaLENBQUM7O0FBRUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iYW5rLXN0YXRlbWVudC1yZWFkZXIvPzE0M2QiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGFnZXNSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL3BhZ2VzL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSBhcHAgYW5kIGRvY3VtZW50IG1vZHVsZXMuXG5pbXBvcnQgRG9jdW1lbnQgZnJvbSBcInByaXZhdGUtbmV4dC1wYWdlcy9fZG9jdW1lbnRcIjtcbmltcG9ydCBBcHAgZnJvbSBcInByaXZhdGUtbmV4dC1wYWdlcy9fYXBwXCI7XG4vLyBJbXBvcnQgdGhlIHVzZXJsYW5kIGNvZGUuXG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiLi9wYWdlcy9pbmRleC5qc1wiO1xuLy8gUmUtZXhwb3J0IHRoZSBjb21wb25lbnQgKHNob3VsZCBiZSB0aGUgZGVmYXVsdCBleHBvcnQpLlxuZXhwb3J0IGRlZmF1bHQgaG9pc3QodXNlcmxhbmQsIFwiZGVmYXVsdFwiKTtcbi8vIFJlLWV4cG9ydCBtZXRob2RzLlxuZXhwb3J0IGNvbnN0IGdldFN0YXRpY1Byb3BzID0gaG9pc3QodXNlcmxhbmQsIFwiZ2V0U3RhdGljUHJvcHNcIik7XG5leHBvcnQgY29uc3QgZ2V0U3RhdGljUGF0aHMgPSBob2lzdCh1c2VybGFuZCwgXCJnZXRTdGF0aWNQYXRoc1wiKTtcbmV4cG9ydCBjb25zdCBnZXRTZXJ2ZXJTaWRlUHJvcHMgPSBob2lzdCh1c2VybGFuZCwgXCJnZXRTZXJ2ZXJTaWRlUHJvcHNcIik7XG5leHBvcnQgY29uc3QgY29uZmlnID0gaG9pc3QodXNlcmxhbmQsIFwiY29uZmlnXCIpO1xuZXhwb3J0IGNvbnN0IHJlcG9ydFdlYlZpdGFscyA9IGhvaXN0KHVzZXJsYW5kLCBcInJlcG9ydFdlYlZpdGFsc1wiKTtcbi8vIFJlLWV4cG9ydCBsZWdhY3kgbWV0aG9kcy5cbmV4cG9ydCBjb25zdCB1bnN0YWJsZV9nZXRTdGF0aWNQcm9wcyA9IGhvaXN0KHVzZXJsYW5kLCBcInVuc3RhYmxlX2dldFN0YXRpY1Byb3BzXCIpO1xuZXhwb3J0IGNvbnN0IHVuc3RhYmxlX2dldFN0YXRpY1BhdGhzID0gaG9pc3QodXNlcmxhbmQsIFwidW5zdGFibGVfZ2V0U3RhdGljUGF0aHNcIik7XG5leHBvcnQgY29uc3QgdW5zdGFibGVfZ2V0U3RhdGljUGFyYW1zID0gaG9pc3QodXNlcmxhbmQsIFwidW5zdGFibGVfZ2V0U3RhdGljUGFyYW1zXCIpO1xuZXhwb3J0IGNvbnN0IHVuc3RhYmxlX2dldFNlcnZlclByb3BzID0gaG9pc3QodXNlcmxhbmQsIFwidW5zdGFibGVfZ2V0U2VydmVyUHJvcHNcIik7XG5leHBvcnQgY29uc3QgdW5zdGFibGVfZ2V0U2VydmVyU2lkZVByb3BzID0gaG9pc3QodXNlcmxhbmQsIFwidW5zdGFibGVfZ2V0U2VydmVyU2lkZVByb3BzXCIpO1xuLy8gQ3JlYXRlIGFuZCBleHBvcnQgdGhlIHJvdXRlIG1vZHVsZSB0aGF0IHdpbGwgYmUgY29uc3VtZWQuXG5leHBvcnQgY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgUGFnZXNSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuUEFHRVMsXG4gICAgICAgIHBhZ2U6IFwiL2luZGV4XCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9cIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiBcIlwiLFxuICAgICAgICBmaWxlbmFtZTogXCJcIlxuICAgIH0sXG4gICAgY29tcG9uZW50czoge1xuICAgICAgICBBcHAsXG4gICAgICAgIERvY3VtZW50XG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2F&preferredRegion=&absolutePagePath=.%2Fpages%2Findex.js&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "./components/OCRBankStatementReader.js":
/*!**********************************************!*\
  !*** ./components/OCRBankStatementReader.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ OCRBankStatementReader)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_parsers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/parsers */ \"./components/parsers/index.js\");\n/* harmony import */ var _utils_constants_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils/constants.js */ \"./components/utils/constants.js\");\n/* harmony import */ var _lib_supabase__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/supabase */ \"./lib/supabase.js\");\n/* harmony import */ var tesseract_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! tesseract.js */ \"tesseract.js\");\n/* harmony import */ var tesseract_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(tesseract_js__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var pdfjs_dist__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! pdfjs-dist */ \"pdfjs-dist\");\n/* harmony import */ var pdfjs_dist__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(pdfjs_dist__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _lib_datastore__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../lib/datastore */ \"./lib/datastore.js\");\n// components/OCRBankStatementReader.js\n\n\n\n\n // You'll need to create this\n\n\n\nif (false) {}\nfunction OCRBankStatementReader({ onProcessComplete }) {\n    const [file, setFile] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [selectedBank, setSelectedBank] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(_utils_constants_js__WEBPACK_IMPORTED_MODULE_3__.DEFAULT_BANK);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [ocrProgress, setOcrProgress] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [useOCR, setUseOCR] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [ocrOutput, setOcrOutput] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [cleanedOutput, setCleanedOutput] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [simplifiedOutput, setSimplifiedOutput] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [categorizedOutput, setCategorizedOutput] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [aiAnalysis, setAiAnalysis] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [aiLoading, setAiLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [aiError, setAiError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [saveLoading, setSaveLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [saveSuccess, setSaveSuccess] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Parse categorized output into structured data\n    const parseCategorizedData = (categorizedText)=>{\n        const transactions = [];\n        const lines = categorizedText.split(\"\\n\");\n        console.log(\"Parsing categorized data, total lines:\", lines.length);\n        for (const line of lines){\n            const trimmedLine = line.trim();\n            if (!trimmedLine || trimmedLine.startsWith(\"=\") || trimmedLine.includes(\"PAGE\")) continue;\n            console.log(\"Processing line:\", trimmedLine);\n            // Check if line has pipe separators (your format: date | description | amount | type)\n            if (trimmedLine.includes(\"|\")) {\n                const parts = trimmedLine.split(\"|\").map((part)=>part.trim());\n                if (parts.length >= 4) {\n                    const [dateStr, description, amountStr, transactionType] = parts;\n                    console.log(\"Pipe-separated parts:\", {\n                        dateStr,\n                        description,\n                        amountStr,\n                        transactionType\n                    });\n                    // Parse date - handle DD/MM/YY format\n                    let parsedDate;\n                    try {\n                        const dateMatch = dateStr.match(/(\\d{1,2})\\/(\\d{1,2})\\/(\\d{2,4})/);\n                        if (dateMatch) {\n                            let [, day, month, year] = dateMatch;\n                            // Convert 2-digit year to 4-digit\n                            if (year.length === 2) {\n                                year = parseInt(year) < 50 ? `20${year}` : `19${year}`;\n                            }\n                            // Assuming DD/MM/YY format based on your data\n                            parsedDate = new Date(`${year}-${month.padStart(2, \"0\")}-${day.padStart(2, \"0\")}`).toISOString();\n                        } else {\n                            console.log(\"Date format not recognized:\", dateStr);\n                            continue;\n                        }\n                    } catch (e) {\n                        console.log(\"Invalid date format:\", dateStr, e);\n                        continue;\n                    }\n                    // Parse amount\n                    const cleanAmount = amountStr.replace(/[,\\s]/g, \"\");\n                    let numericAmount = parseFloat(cleanAmount);\n                    if (isNaN(numericAmount)) {\n                        console.log(\"Invalid amount:\", amountStr);\n                        continue;\n                    }\n                    // Handle DEBIT/CREDIT - make debits negative\n                    if (transactionType.toUpperCase().includes(\"DEBIT\")) {\n                        numericAmount = Math.abs(numericAmount);\n                    } else if (transactionType.toUpperCase().includes(\"CREDIT\")) {\n                        numericAmount = Math.abs(numericAmount);\n                    }\n                    const transaction = {\n                        date: parsedDate,\n                        description: description || \"Unknown Transaction\",\n                        amount: numericAmount,\n                        category: transactionType || \"Uncategorized\",\n                        bank: selectedBank,\n                        raw_text: trimmedLine\n                    };\n                    console.log(\"Successfully parsed transaction:\", transaction);\n                    transactions.push(transaction);\n                } else {\n                    console.log(\"Line has pipes but insufficient parts:\", parts);\n                }\n            } else {\n                // Fallback to original parsing for non-pipe formats\n                const dateMatch = trimmedLine.match(/(\\d{1,2}\\/\\d{1,2}\\/\\d{2,4})/);\n                const amountMatch = trimmedLine.match(/(\\d+\\.?\\d{0,2})/);\n                if (dateMatch && amountMatch) {\n                    console.log(\"Fallback parsing for line without pipes\");\n                // Continue with fallback logic if needed\n                } else {\n                    console.log(\"Skipping line - no recognizable format:\", trimmedLine);\n                }\n            }\n        }\n        console.log(\"Total transactions parsed:\", transactions.length);\n        return transactions;\n    };\n    // Save to Supabase\n    const saveToDatabase = async ()=>{\n        if (!categorizedOutput) {\n            setError(\"No data to save. Please process a statement first.\");\n            return;\n        }\n        setSaveLoading(true);\n        setSaveSuccess(false);\n        setError(\"\");\n        try {\n            // Parse the categorized output into structured data\n            const transactions = parseCategorizedData(categorizedOutput);\n            if (transactions.length === 0) {\n                throw new Error(\"No valid transactions found to save\");\n            }\n            // Map parsed data to the specific columns in your 'transactions' table\n            const transactionsToInsert = transactions.map((transaction)=>({\n                    date: transaction.date,\n                    receiver_sender: transaction.description,\n                    amount: transaction.amount,\n                    transaction_type: transaction.category\n                }));\n            // Insert all transactions in a single batch\n            const { error } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_4__.supabase.from(\"transactions\").insert(transactionsToInsert);\n            if (error) throw error;\n            setSaveSuccess(true);\n            setOcrProgress(`Successfully saved ${transactions.length} transactions to database!`);\n        } catch (err) {\n            console.error(\"Database save error:\", err);\n            setError(\"Failed to save to database: \" + err.message);\n        } finally{\n            setSaveLoading(false);\n        }\n    };\n    const convertPDFToImages = async (file)=>{\n        try {\n            const arrayBuffer = await file.arrayBuffer();\n            const pdf = await pdfjs_dist__WEBPACK_IMPORTED_MODULE_6__.getDocument(arrayBuffer).promise;\n            const images = [];\n            for(let i = 1; i <= pdf.numPages; i++){\n                setOcrProgress(`Converting page ${i} of ${pdf.numPages} to image...`);\n                const page = await pdf.getPage(i);\n                const scale = 2.0;\n                const viewport = page.getViewport({\n                    scale\n                });\n                const canvas = document.createElement(\"canvas\");\n                const context = canvas.getContext(\"2d\");\n                canvas.height = viewport.height;\n                canvas.width = viewport.width;\n                await page.render({\n                    canvasContext: context,\n                    viewport\n                }).promise;\n                const imageData = canvas.toDataURL(\"image/png\");\n                images.push(imageData);\n            }\n            return images;\n        } catch (error) {\n            throw new Error(\"Failed to convert PDF to images: \" + error.message);\n        }\n    };\n    const performOCR = async (images)=>{\n        let fullText = \"\";\n        for(let i = 0; i < images.length; i++){\n            setOcrProgress(`Processing page ${i + 1} of ${images.length} with OCR...`);\n            try {\n                const { data: { text } } = await tesseract_js__WEBPACK_IMPORTED_MODULE_5___default().recognize(images[i], \"eng\", {\n                    logger: (m)=>{\n                        if (m.status === \"recognizing text\") {\n                            setOcrProgress(`Page ${i + 1}: ${Math.round(m.progress * 100)}% complete`);\n                        }\n                    },\n                    tessedit_pageseg_mode: 4,\n                    preserve_interword_spaces: \"1\"\n                });\n                fullText += `=== PAGE ${i + 1} ===\\n${text}\\n\\n`;\n            } catch (error) {\n                console.error(\"OCR error on page\", i + 1, error);\n                throw new Error(`OCR failed on page ${i + 1}: ${error.message}`);\n            }\n        }\n        return fullText;\n    };\n    const extractTextFromPDF = async (file)=>{\n        try {\n            const arrayBuffer = await file.arrayBuffer();\n            const pdf = await pdfjs_dist__WEBPACK_IMPORTED_MODULE_6__.getDocument(arrayBuffer).promise;\n            let fullText = \"\";\n            for(let i = 1; i <= pdf.numPages; i++){\n                const page = await pdf.getPage(i);\n                const textContent = await page.getTextContent();\n                const pageText = textContent.items.map((item)=>item.str).join(\" \");\n                fullText += pageText + \"\\n\";\n            }\n            return fullText;\n        } catch (error) {\n            throw new Error(\"Failed to extract text from PDF: \" + error.message);\n        }\n    };\n    const handleFileUpload = async (event)=>{\n        const uploadedFile = event.target.files[0];\n        if (!uploadedFile) return;\n        if (!uploadedFile.type.includes(\"pdf\")) {\n            setError(\"Please upload a PDF file\");\n            return;\n        }\n        setFile(uploadedFile);\n        setLoading(true);\n        setError(\"\");\n        setOcrProgress(\"\");\n        setOcrOutput(\"\");\n        setCleanedOutput(\"\");\n        setSimplifiedOutput(\"\");\n        setCategorizedOutput(\"\");\n        setSaveSuccess(false);\n        if (onProcessComplete) onProcessComplete(false);\n        try {\n            const parser = (0,_components_parsers__WEBPACK_IMPORTED_MODULE_2__.getParser)(selectedBank);\n            let extractedText = \"\";\n            if (useOCR) {\n                const images = await convertPDFToImages(uploadedFile);\n                extractedText = await performOCR(images);\n                setOcrProgress(\"OCR completed! Processing...\");\n            } else {\n                setOcrProgress(\"Extracting text from PDF...\");\n                extractedText = await extractTextFromPDF(uploadedFile);\n            }\n            setOcrOutput(extractedText);\n            const cleaned = parser.cleanOCROutput(extractedText);\n            setCleanedOutput(cleaned);\n            const simplified = parser.cleanOCROutputSimplified(extractedText);\n            setSimplifiedOutput(simplified);\n            const categorized = parser.categorizeTransactions(simplified);\n            setCategorizedOutput(categorized);\n            (0,_lib_datastore__WEBPACK_IMPORTED_MODULE_7__.updateBankData)(categorized);\n            if (!extractedText.trim()) {\n                setError(\"No text found. Try enabling OCR mode for image-based PDFs.\");\n                setLoading(false);\n                return;\n            }\n            setOcrProgress(`Processing completed using ${_utils_constants_js__WEBPACK_IMPORTED_MODULE_3__.SUPPORTED_BANKS[selectedBank].name} parser!`);\n            if (onProcessComplete) onProcessComplete(true);\n        } catch (err) {\n            console.error(\"Processing error:\", err);\n            setError(\"Error processing PDF: \" + err.message);\n            setOcrProgress(\"\");\n            if (onProcessComplete) onProcessComplete(false);\n        } finally{\n            setLoading(false);\n        }\n    };\n    const handleBankSelection = (bankCode)=>{\n        setSelectedBank(bankCode);\n        if (file) {\n            setOcrOutput(\"\");\n            setCleanedOutput(\"\");\n            setSimplifiedOutput(\"\");\n            setCategorizedOutput(\"\");\n            setSaveSuccess(false);\n            if (onProcessComplete) onProcessComplete(false);\n        }\n    };\n    const handleAiAnalysis = async ()=>{\n        if (!categorizedOutput) {\n            setAiError(\"No categorized data is available to analyze.\");\n            return;\n        }\n        setAiLoading(true);\n        setAiError(\"\");\n        setAiAnalysis(\"\");\n        try {\n            const response = await fetch(\"/api/analyze\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    categorizedData: categorizedOutput\n                })\n            });\n            const data = await response.json();\n            if (!response.ok) {\n                throw new Error(data.details || \"An unknown error occurred during analysis.\");\n            }\n            setAiAnalysis(data.analysis);\n        } catch (err) {\n            console.error(\"AI Analysis Error:\", err);\n            setAiError(err.message);\n        } finally{\n            setAiLoading(false);\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"bg-white rounded-lg shadow-lg p-6\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                className: \"text-3xl font-bold text-gray-900 mb-8 text-center\",\n                children: \"Upload Documents\"\n            }, void 0, false, {\n                fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/OCRBankStatementReader.js\",\n                lineNumber: 332,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mb-6\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center gap-3 mb-4\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center justify-center w-8 h-8 rounded-full bg-blue-600 text-white font-bold text-lg\",\n                                children: \"1\"\n                            }, void 0, false, {\n                                fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/OCRBankStatementReader.js\",\n                                lineNumber: 338,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                className: \"text-lg font-semibold text-gray-800\",\n                                children: \"Select Your Bank\"\n                            }, void 0, false, {\n                                fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/OCRBankStatementReader.js\",\n                                lineNumber: 341,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/OCRBankStatementReader.js\",\n                        lineNumber: 337,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\",\n                        children: Object.entries(_utils_constants_js__WEBPACK_IMPORTED_MODULE_3__.SUPPORTED_BANKS).map(([code, bank])=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                onClick: ()=>handleBankSelection(code),\n                                className: `p-4 border-2 rounded-lg cursor-pointer transition-colors ${selectedBank === code ? \"border-blue-500 bg-blue-50 text-blue-900\" : code === \"HDFC\" ? \"border-gray-300 bg-white hover:border-gray-400\" : \"border-gray-200 bg-gray-50 text-gray-400 cursor-not-allowed\"}`,\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                        className: \"font-semibold\",\n                                        children: bank.name\n                                    }, void 0, false, {\n                                        fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/OCRBankStatementReader.js\",\n                                        lineNumber: 354,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-sm mt-1\",\n                                        children: bank.description\n                                    }, void 0, false, {\n                                        fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/OCRBankStatementReader.js\",\n                                        lineNumber: 355,\n                                        columnNumber: 15\n                                    }, this),\n                                    selectedBank === code && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"mt-2\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-blue-100 text-blue-800\",\n                                            children: \"Selected\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/OCRBankStatementReader.js\",\n                                            lineNumber: 358,\n                                            columnNumber: 19\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/OCRBankStatementReader.js\",\n                                        lineNumber: 357,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, code, true, {\n                                fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/OCRBankStatementReader.js\",\n                                lineNumber: 346,\n                                columnNumber: 13\n                            }, this))\n                    }, void 0, false, {\n                        fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/OCRBankStatementReader.js\",\n                        lineNumber: 344,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/OCRBankStatementReader.js\",\n                lineNumber: 336,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mb-6 flex items-center justify-center\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex items-center space-x-4 bg-gray-100 p-4 rounded-lg\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                        className: \"flex items-center cursor-pointer\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                type: \"checkbox\",\n                                checked: useOCR,\n                                onChange: (e)=>setUseOCR(e.target.checked),\n                                className: \"mr-2\"\n                            }, void 0, false, {\n                                fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/OCRBankStatementReader.js\",\n                                lineNumber: 371,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"text-sm font-medium\",\n                                children: \"Use OCR Mode (Better for complex layouts)\"\n                            }, void 0, false, {\n                                fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/OCRBankStatementReader.js\",\n                                lineNumber: 372,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/OCRBankStatementReader.js\",\n                        lineNumber: 370,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/OCRBankStatementReader.js\",\n                    lineNumber: 369,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/OCRBankStatementReader.js\",\n                lineNumber: 368,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mb-8\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center justify-center w-full\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                            className: \"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100 transition-colors\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex flex-col items-center justify-center pt-5 pb-6\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                            className: \"w-8 h-8 mb-4 text-gray-500\",\n                                            fill: \"none\",\n                                            stroke: \"currentColor\",\n                                            viewBox: \"0 0 24 24\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                strokeLinecap: \"round\",\n                                                strokeLinejoin: \"round\",\n                                                strokeWidth: 2,\n                                                d: \"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/OCRBankStatementReader.js\",\n                                                lineNumber: 384,\n                                                columnNumber: 17\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/OCRBankStatementReader.js\",\n                                            lineNumber: 383,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"mb-2 text-sm text-gray-500\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"font-semibold\",\n                                                    children: \"Click to upload\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/OCRBankStatementReader.js\",\n                                                    lineNumber: 387,\n                                                    columnNumber: 17\n                                                }, this),\n                                                \" your \",\n                                                _utils_constants_js__WEBPACK_IMPORTED_MODULE_3__.SUPPORTED_BANKS[selectedBank].name,\n                                                \" statement\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/OCRBankStatementReader.js\",\n                                            lineNumber: 386,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-xs text-gray-500\",\n                                            children: \"PDF files only\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/OCRBankStatementReader.js\",\n                                            lineNumber: 389,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/OCRBankStatementReader.js\",\n                                    lineNumber: 382,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                    type: \"file\",\n                                    className: \"hidden\",\n                                    accept: \".pdf\",\n                                    onChange: handleFileUpload,\n                                    disabled: loading\n                                }, void 0, false, {\n                                    fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/OCRBankStatementReader.js\",\n                                    lineNumber: 391,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/OCRBankStatementReader.js\",\n                            lineNumber: 381,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/OCRBankStatementReader.js\",\n                        lineNumber: 380,\n                        columnNumber: 9\n                    }, this),\n                    file && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mt-4 text-sm text-gray-600\",\n                        children: [\n                            \" Selected file: \",\n                            file.name,\n                            \" | Bank: \",\n                            _utils_constants_js__WEBPACK_IMPORTED_MODULE_3__.SUPPORTED_BANKS[selectedBank].name,\n                            \" \"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/OCRBankStatementReader.js\",\n                        lineNumber: 395,\n                        columnNumber: 19\n                    }, this),\n                    loading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mt-4 flex flex-col items-center justify-center\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mb-2\"\n                            }, void 0, false, {\n                                fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/OCRBankStatementReader.js\",\n                                lineNumber: 398,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"text-gray-600\",\n                                children: ocrProgress || \"Processing...\"\n                            }, void 0, false, {\n                                fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/OCRBankStatementReader.js\",\n                                lineNumber: 399,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/OCRBankStatementReader.js\",\n                        lineNumber: 397,\n                        columnNumber: 11\n                    }, this),\n                    error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mt-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded\",\n                        children: [\n                            \" \",\n                            error,\n                            \" \"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/OCRBankStatementReader.js\",\n                        lineNumber: 402,\n                        columnNumber: 20\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/OCRBankStatementReader.js\",\n                lineNumber: 379,\n                columnNumber: 7\n            }, this),\n            (ocrOutput || categorizedOutput) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-2 gap-6 mb-8\",\n                children: [\n                    ocrOutput && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                className: \"text-lg font-semibold mb-3\",\n                                children: \"Raw OCR Output:\"\n                            }, void 0, false, {\n                                fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/OCRBankStatementReader.js\",\n                                lineNumber: 409,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                                value: ocrOutput,\n                                readOnly: true,\n                                className: \"w-full h-64 p-4 border border-gray-300 rounded-lg font-mono text-xs bg-gray-50\"\n                            }, void 0, false, {\n                                fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/OCRBankStatementReader.js\",\n                                lineNumber: 410,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/OCRBankStatementReader.js\",\n                        lineNumber: 408,\n                        columnNumber: 13\n                    }, this),\n                    categorizedOutput && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                className: \"text-lg font-semibold mb-3\",\n                                children: [\n                                    \" Categorization (\",\n                                    _utils_constants_js__WEBPACK_IMPORTED_MODULE_3__.SUPPORTED_BANKS[selectedBank].name,\n                                    \"): \"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/OCRBankStatementReader.js\",\n                                lineNumber: 415,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                                value: categorizedOutput,\n                                readOnly: true,\n                                className: \"w-full h-64 p-4 border border-purple-300 rounded-lg font-mono text-xs bg-purple-50\"\n                            }, void 0, false, {\n                                fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/OCRBankStatementReader.js\",\n                                lineNumber: 416,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mt-2 flex gap-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>navigator.clipboard.writeText(categorizedOutput),\n                                        className: \"px-3 py-1 bg-purple-600 text-white text-sm rounded hover:bg-purple-700\",\n                                        children: \"Copy Categorized Data\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/OCRBankStatementReader.js\",\n                                        lineNumber: 418,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: saveToDatabase,\n                                        disabled: saveLoading || saveSuccess,\n                                        className: `px-3 py-1 text-white text-sm rounded transition-colors ${saveSuccess ? \"bg-green-600 hover:bg-green-700\" : saveLoading ? \"bg-gray-400 cursor-not-allowed\" : \"bg-blue-600 hover:bg-blue-700\"}`,\n                                        children: saveLoading ? \"Saving...\" : saveSuccess ? \"Saved \" : \"Save to Database\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/OCRBankStatementReader.js\",\n                                        lineNumber: 421,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/OCRBankStatementReader.js\",\n                                lineNumber: 417,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/OCRBankStatementReader.js\",\n                        lineNumber: 414,\n                        columnNumber: 13\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/OCRBankStatementReader.js\",\n                lineNumber: 406,\n                columnNumber: 9\n            }, this),\n            categorizedOutput && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-6 border-t pt-6\",\n                children: [\n                    saveSuccess && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mt-4 bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                children: \"Success!\"\n                            }, void 0, false, {\n                                fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/OCRBankStatementReader.js\",\n                                lineNumber: 444,\n                                columnNumber: 11\n                            }, this),\n                            \" Bank statement data has been saved to your database.\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/OCRBankStatementReader.js\",\n                        lineNumber: 443,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                        className: \"text-lg font-semibold mb-3 mt-3 text-indigo-800\",\n                        children: \"Financial Insights\"\n                    }, void 0, false, {\n                        fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/OCRBankStatementReader.js\",\n                        lineNumber: 447,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: handleAiAnalysis,\n                        disabled: aiLoading,\n                        className: \"px-4 py-2 bg-indigo-600 text-white font-semibold rounded-lg shadow-sm hover:bg-indigo-700 disabled:bg-indigo-300 disabled:cursor-not-allowed transition-colors\",\n                        children: aiLoading ? \"Analyzing...\" : \"Analyze with Watsonx AI\"\n                    }, void 0, false, {\n                        fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/OCRBankStatementReader.js\",\n                        lineNumber: 448,\n                        columnNumber: 11\n                    }, this),\n                    aiLoading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mt-4 flex items-center text-gray-600\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"animate-spin rounded-full h-5 w-5 border-b-2 border-indigo-600 mr-3\"\n                            }, void 0, false, {\n                                fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/OCRBankStatementReader.js\",\n                                lineNumber: 453,\n                                columnNumber: 17\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                children: \"Contacting Watsonx.ai for insights... Please wait.\"\n                            }, void 0, false, {\n                                fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/OCRBankStatementReader.js\",\n                                lineNumber: 454,\n                                columnNumber: 17\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/OCRBankStatementReader.js\",\n                        lineNumber: 452,\n                        columnNumber: 15\n                    }, this),\n                    aiError && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mt-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                children: \"Error:\"\n                            }, void 0, false, {\n                                fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/OCRBankStatementReader.js\",\n                                lineNumber: 459,\n                                columnNumber: 15\n                            }, this),\n                            \" \",\n                            aiError\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/OCRBankStatementReader.js\",\n                        lineNumber: 458,\n                        columnNumber: 13\n                    }, this),\n                    aiAnalysis && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mt-4 p-4 border border-indigo-200 rounded-lg bg-indigo-50\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                className: \"text-md font-semibold mb-2 text-indigo-900\",\n                                children: \"AI Financial Summary:\"\n                            }, void 0, false, {\n                                fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/OCRBankStatementReader.js\",\n                                lineNumber: 464,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-sm text-gray-800 whitespace-pre-wrap\",\n                                children: aiAnalysis\n                            }, void 0, false, {\n                                fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/OCRBankStatementReader.js\",\n                                lineNumber: 465,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/OCRBankStatementReader.js\",\n                        lineNumber: 463,\n                        columnNumber: 13\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/OCRBankStatementReader.js\",\n                lineNumber: 441,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mb-5 mt-7 p-4 border border-pink-200 bg-pink-50 rounded-lg\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                        className: \"text-lg font-semibold text-pink-800 mb-2\",\n                        children: \"Instructions\"\n                    }, void 0, false, {\n                        fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/OCRBankStatementReader.js\",\n                        lineNumber: 473,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                        className: \"list-disc list-inside text-sm text-gray-700 space-y-1\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                children: \"Select your bank before uploading a PDF statement.\"\n                            }, void 0, false, {\n                                fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/OCRBankStatementReader.js\",\n                                lineNumber: 475,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                children: [\n                                    \"If your PDF is image-based, enable \",\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                        children: \"OCR Mode\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/OCRBankStatementReader.js\",\n                                        lineNumber: 476,\n                                        columnNumber: 50\n                                    }, this),\n                                    \" for better results.\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/OCRBankStatementReader.js\",\n                                lineNumber: 476,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                children: \"After uploading, the system will extract, clean, and categorize transactions automatically.\"\n                            }, void 0, false, {\n                                fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/OCRBankStatementReader.js\",\n                                lineNumber: 477,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                children: \"You can review raw OCR text and categorized transactions in the panels below.\"\n                            }, void 0, false, {\n                                fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/OCRBankStatementReader.js\",\n                                lineNumber: 478,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                children: [\n                                    \"Once satisfied, click \",\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                        children: \"Save to Database\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/OCRBankStatementReader.js\",\n                                        lineNumber: 479,\n                                        columnNumber: 37\n                                    }, this),\n                                    \" to store the transactions.\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/OCRBankStatementReader.js\",\n                                lineNumber: 479,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                children: [\n                                    \"Optionally, generate an \",\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                        children: \"AI-powered financial analysis\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/OCRBankStatementReader.js\",\n                                        lineNumber: 480,\n                                        columnNumber: 39\n                                    }, this),\n                                    \" for deeper insights.\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/OCRBankStatementReader.js\",\n                                lineNumber: 480,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/OCRBankStatementReader.js\",\n                        lineNumber: 474,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/OCRBankStatementReader.js\",\n                lineNumber: 472,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/OCRBankStatementReader.js\",\n        lineNumber: 331,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9jb21wb25lbnRzL09DUkJhbmtTdGF0ZW1lbnRSZWFkZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLHVDQUF1Qzs7QUFFTjtBQUNpQjtBQUNtQjtBQUMxQixDQUFDLDZCQUE2QjtBQUNwQztBQUNFO0FBRVc7QUFFbEQsSUFBSSxLQUFrQixFQUFhLEVBRWxDO0FBRWMsU0FBU1csdUJBQXVCLEVBQUVDLGlCQUFpQixFQUFFO0lBQ2xFLE1BQU0sQ0FBQ0MsTUFBTUMsUUFBUSxHQUFHZCwrQ0FBUUEsQ0FBQztJQUNqQyxNQUFNLENBQUNlLGNBQWNDLGdCQUFnQixHQUFHaEIsK0NBQVFBLENBQUNHLDZEQUFZQTtJQUM3RCxNQUFNLENBQUNjLFNBQVNDLFdBQVcsR0FBR2xCLCtDQUFRQSxDQUFDO0lBQ3ZDLE1BQU0sQ0FBQ21CLE9BQU9DLFNBQVMsR0FBR3BCLCtDQUFRQSxDQUFDO0lBQ25DLE1BQU0sQ0FBQ3FCLGFBQWFDLGVBQWUsR0FBR3RCLCtDQUFRQSxDQUFDO0lBQy9DLE1BQU0sQ0FBQ3VCLFFBQVFDLFVBQVUsR0FBR3hCLCtDQUFRQSxDQUFDO0lBQ3JDLE1BQU0sQ0FBQ3lCLFdBQVdDLGFBQWEsR0FBRzFCLCtDQUFRQSxDQUFDO0lBQzNDLE1BQU0sQ0FBQzJCLGVBQWVDLGlCQUFpQixHQUFHNUIsK0NBQVFBLENBQUM7SUFDbkQsTUFBTSxDQUFDNkIsa0JBQWtCQyxvQkFBb0IsR0FBRzlCLCtDQUFRQSxDQUFDO0lBQ3pELE1BQU0sQ0FBQytCLG1CQUFtQkMscUJBQXFCLEdBQUdoQywrQ0FBUUEsQ0FBQztJQUMzRCxNQUFNLENBQUNpQyxZQUFZQyxjQUFjLEdBQUdsQywrQ0FBUUEsQ0FBQztJQUM3QyxNQUFNLENBQUNtQyxXQUFXQyxhQUFhLEdBQUdwQywrQ0FBUUEsQ0FBQztJQUMzQyxNQUFNLENBQUNxQyxTQUFTQyxXQUFXLEdBQUd0QywrQ0FBUUEsQ0FBQztJQUN2QyxNQUFNLENBQUN1QyxhQUFhQyxlQUFlLEdBQUd4QywrQ0FBUUEsQ0FBQztJQUMvQyxNQUFNLENBQUN5QyxhQUFhQyxlQUFlLEdBQUcxQywrQ0FBUUEsQ0FBQztJQUUvQyxnREFBZ0Q7SUFDaEQsTUFBTTJDLHVCQUF1QixDQUFDQztRQUM1QixNQUFNQyxlQUFlLEVBQUU7UUFDdkIsTUFBTUMsUUFBUUYsZ0JBQWdCRyxLQUFLLENBQUM7UUFFcENDLFFBQVFDLEdBQUcsQ0FBQywwQ0FBMENILE1BQU1JLE1BQU07UUFFbEUsS0FBSyxNQUFNQyxRQUFRTCxNQUFPO1lBQ3hCLE1BQU1NLGNBQWNELEtBQUtFLElBQUk7WUFDN0IsSUFBSSxDQUFDRCxlQUFlQSxZQUFZRSxVQUFVLENBQUMsUUFBUUYsWUFBWUcsUUFBUSxDQUFDLFNBQVM7WUFFakZQLFFBQVFDLEdBQUcsQ0FBQyxvQkFBb0JHO1lBRWhDLHNGQUFzRjtZQUN0RixJQUFJQSxZQUFZRyxRQUFRLENBQUMsTUFBTTtnQkFDN0IsTUFBTUMsUUFBUUosWUFBWUwsS0FBSyxDQUFDLEtBQUtVLEdBQUcsQ0FBQ0MsQ0FBQUEsT0FBUUEsS0FBS0wsSUFBSTtnQkFFMUQsSUFBSUcsTUFBTU4sTUFBTSxJQUFJLEdBQUc7b0JBQ3JCLE1BQU0sQ0FBQ1MsU0FBU0MsYUFBYUMsV0FBV0MsZ0JBQWdCLEdBQUdOO29CQUUzRFIsUUFBUUMsR0FBRyxDQUFDLHlCQUF5Qjt3QkFBRVU7d0JBQVNDO3dCQUFhQzt3QkFBV0M7b0JBQWdCO29CQUV4RixzQ0FBc0M7b0JBQ3RDLElBQUlDO29CQUNKLElBQUk7d0JBQ0YsTUFBTUMsWUFBWUwsUUFBUU0sS0FBSyxDQUFDO3dCQUNoQyxJQUFJRCxXQUFXOzRCQUNiLElBQUksR0FBR0UsS0FBS0MsT0FBT0MsS0FBSyxHQUFHSjs0QkFDM0Isa0NBQWtDOzRCQUNsQyxJQUFJSSxLQUFLbEIsTUFBTSxLQUFLLEdBQUc7Z0NBQ3JCa0IsT0FBT0MsU0FBU0QsUUFBUSxLQUFLLENBQUMsRUFBRSxFQUFFQSxLQUFLLENBQUMsR0FBRyxDQUFDLEVBQUUsRUFBRUEsS0FBSyxDQUFDOzRCQUN4RDs0QkFDQSw4Q0FBOEM7NEJBQzlDTCxhQUFhLElBQUlPLEtBQUssQ0FBQyxFQUFFRixLQUFLLENBQUMsRUFBRUQsTUFBTUksUUFBUSxDQUFDLEdBQUcsS0FBSyxDQUFDLEVBQUVMLElBQUlLLFFBQVEsQ0FBQyxHQUFHLEtBQUssQ0FBQyxFQUFFQyxXQUFXO3dCQUNoRyxPQUFPOzRCQUNMeEIsUUFBUUMsR0FBRyxDQUFDLCtCQUErQlU7NEJBQzNDO3dCQUNGO29CQUNGLEVBQUUsT0FBT2MsR0FBRzt3QkFDVnpCLFFBQVFDLEdBQUcsQ0FBQyx3QkFBd0JVLFNBQVNjO3dCQUM3QztvQkFDRjtvQkFFQSxlQUFlO29CQUNmLE1BQU1DLGNBQWNiLFVBQVVjLE9BQU8sQ0FBQyxVQUFVO29CQUNoRCxJQUFJQyxnQkFBZ0JDLFdBQVdIO29CQUUvQixJQUFJSSxNQUFNRixnQkFBZ0I7d0JBQ3hCNUIsUUFBUUMsR0FBRyxDQUFDLG1CQUFtQlk7d0JBQy9CO29CQUNGO29CQUVBLDZDQUE2QztvQkFDN0MsSUFBSUMsZ0JBQWdCaUIsV0FBVyxHQUFHeEIsUUFBUSxDQUFDLFVBQVU7d0JBQ25EcUIsZ0JBQWdCSSxLQUFLQyxHQUFHLENBQUNMO29CQUMzQixPQUFPLElBQUlkLGdCQUFnQmlCLFdBQVcsR0FBR3hCLFFBQVEsQ0FBQyxXQUFXO3dCQUMzRHFCLGdCQUFnQkksS0FBS0MsR0FBRyxDQUFDTDtvQkFDM0I7b0JBRUEsTUFBTU0sY0FBYzt3QkFDbEJDLE1BQU1wQjt3QkFDTkgsYUFBYUEsZUFBZTt3QkFDNUJ3QixRQUFRUjt3QkFDUlMsVUFBVXZCLG1CQUFtQjt3QkFDN0J3QixNQUFNdkU7d0JBQ053RSxVQUFVbkM7b0JBQ1o7b0JBRUFKLFFBQVFDLEdBQUcsQ0FBQyxvQ0FBb0NpQztvQkFDaERyQyxhQUFhMkMsSUFBSSxDQUFDTjtnQkFDcEIsT0FBTztvQkFDTGxDLFFBQVFDLEdBQUcsQ0FBQywwQ0FBMENPO2dCQUN4RDtZQUNGLE9BQU87Z0JBQ0wsb0RBQW9EO2dCQUNwRCxNQUFNUSxZQUFZWixZQUFZYSxLQUFLLENBQUM7Z0JBQ3BDLE1BQU13QixjQUFjckMsWUFBWWEsS0FBSyxDQUFDO2dCQUV0QyxJQUFJRCxhQUFheUIsYUFBYTtvQkFDNUJ6QyxRQUFRQyxHQUFHLENBQUM7Z0JBQ1oseUNBQXlDO2dCQUMzQyxPQUFPO29CQUNMRCxRQUFRQyxHQUFHLENBQUMsMkNBQTJDRztnQkFDekQ7WUFDRjtRQUNGO1FBRUFKLFFBQVFDLEdBQUcsQ0FBQyw4QkFBOEJKLGFBQWFLLE1BQU07UUFDN0QsT0FBT0w7SUFDVDtJQUVBLG1CQUFtQjtJQUNuQixNQUFNNkMsaUJBQWlCO1FBQ3JCLElBQUksQ0FBQzNELG1CQUFtQjtZQUN0QlgsU0FBUztZQUNUO1FBQ0Y7UUFFQW9CLGVBQWU7UUFDZkUsZUFBZTtRQUNmdEIsU0FBUztRQUVULElBQUk7WUFDRixvREFBb0Q7WUFDcEQsTUFBTXlCLGVBQWVGLHFCQUFxQlo7WUFFMUMsSUFBSWMsYUFBYUssTUFBTSxLQUFLLEdBQUc7Z0JBQzdCLE1BQU0sSUFBSXlDLE1BQU07WUFDbEI7WUFFQSx1RUFBdUU7WUFDdkUsTUFBTUMsdUJBQXVCL0MsYUFBYVksR0FBRyxDQUFDeUIsQ0FBQUEsY0FBZ0I7b0JBQzVEQyxNQUFNRCxZQUFZQyxJQUFJO29CQUN0QlUsaUJBQWlCWCxZQUFZdEIsV0FBVztvQkFDeEN3QixRQUFRRixZQUFZRSxNQUFNO29CQUMxQlUsa0JBQWtCWixZQUFZRyxRQUFRO2dCQUN4QztZQUVBLDRDQUE0QztZQUM1QyxNQUFNLEVBQUVsRSxLQUFLLEVBQUUsR0FBRyxNQUFNZixtREFBUUEsQ0FDN0IyRixJQUFJLENBQUMsZ0JBQ0xDLE1BQU0sQ0FBQ0o7WUFFVixJQUFJekUsT0FBTyxNQUFNQTtZQUVqQnVCLGVBQWU7WUFDZnBCLGVBQWUsQ0FBQyxtQkFBbUIsRUFBRXVCLGFBQWFLLE1BQU0sQ0FBQywwQkFBMEIsQ0FBQztRQUV0RixFQUFFLE9BQU8rQyxLQUFLO1lBQ1pqRCxRQUFRN0IsS0FBSyxDQUFDLHdCQUF3QjhFO1lBQ3RDN0UsU0FBUyxpQ0FBaUM2RSxJQUFJQyxPQUFPO1FBQ3ZELFNBQVU7WUFDUjFELGVBQWU7UUFDakI7SUFDRjtJQUVBLE1BQU0yRCxxQkFBcUIsT0FBT3RGO1FBQ2hDLElBQUk7WUFDRixNQUFNdUYsY0FBYyxNQUFNdkYsS0FBS3VGLFdBQVc7WUFDMUMsTUFBTUMsTUFBTSxNQUFNL0YsbURBQW9CLENBQUM4RixhQUFhRyxPQUFPO1lBQzNELE1BQU1DLFNBQVMsRUFBRTtZQUNqQixJQUFLLElBQUlDLElBQUksR0FBR0EsS0FBS0osSUFBSUssUUFBUSxFQUFFRCxJQUFLO2dCQUN0Q25GLGVBQWUsQ0FBQyxnQkFBZ0IsRUFBRW1GLEVBQUUsSUFBSSxFQUFFSixJQUFJSyxRQUFRLENBQUMsWUFBWSxDQUFDO2dCQUNwRSxNQUFNQyxPQUFPLE1BQU1OLElBQUlPLE9BQU8sQ0FBQ0g7Z0JBQy9CLE1BQU1JLFFBQVE7Z0JBQ2QsTUFBTUMsV0FBV0gsS0FBS0ksV0FBVyxDQUFDO29CQUFFRjtnQkFBTTtnQkFDMUMsTUFBTUcsU0FBU0MsU0FBU0MsYUFBYSxDQUFDO2dCQUN0QyxNQUFNQyxVQUFVSCxPQUFPSSxVQUFVLENBQUM7Z0JBQ2xDSixPQUFPSyxNQUFNLEdBQUdQLFNBQVNPLE1BQU07Z0JBQy9CTCxPQUFPTSxLQUFLLEdBQUdSLFNBQVNRLEtBQUs7Z0JBQzdCLE1BQU1YLEtBQUtZLE1BQU0sQ0FBQztvQkFBRUMsZUFBZUw7b0JBQVNMO2dCQUFTLEdBQUdQLE9BQU87Z0JBQy9ELE1BQU1rQixZQUFZVCxPQUFPVSxTQUFTLENBQUM7Z0JBQ25DbEIsT0FBT2hCLElBQUksQ0FBQ2lDO1lBQ2Q7WUFDQSxPQUFPakI7UUFDVCxFQUFFLE9BQU9yRixPQUFPO1lBQ2QsTUFBTSxJQUFJd0UsTUFBTSxzQ0FBc0N4RSxNQUFNK0UsT0FBTztRQUNyRTtJQUNGO0lBRUEsTUFBTXlCLGFBQWEsT0FBT25CO1FBQ3hCLElBQUlvQixXQUFXO1FBQ2YsSUFBSyxJQUFJbkIsSUFBSSxHQUFHQSxJQUFJRCxPQUFPdEQsTUFBTSxFQUFFdUQsSUFBSztZQUN0Q25GLGVBQWUsQ0FBQyxnQkFBZ0IsRUFBRW1GLElBQUksRUFBRSxJQUFJLEVBQUVELE9BQU90RCxNQUFNLENBQUMsWUFBWSxDQUFDO1lBQ3pFLElBQUk7Z0JBQ0YsTUFBTSxFQUFFMkUsTUFBTSxFQUFFQyxJQUFJLEVBQUUsRUFBRSxHQUFHLE1BQU16SCw2REFBbUIsQ0FDbERtRyxNQUFNLENBQUNDLEVBQUUsRUFBRSxPQUFPO29CQUNoQnVCLFFBQVFDLENBQUFBO3dCQUNOLElBQUlBLEVBQUVDLE1BQU0sS0FBSyxvQkFBb0I7NEJBQ25DNUcsZUFBZSxDQUFDLEtBQUssRUFBRW1GLElBQUksRUFBRSxFQUFFLEVBQUV6QixLQUFLbUQsS0FBSyxDQUFDRixFQUFFRyxRQUFRLEdBQUcsS0FBSyxVQUFVLENBQUM7d0JBQzNFO29CQUNGO29CQUNBQyx1QkFBdUI7b0JBQ3ZCQywyQkFBMkI7Z0JBQzdCO2dCQUVGVixZQUFZLENBQUMsU0FBUyxFQUFFbkIsSUFBSSxFQUFFLE1BQU0sRUFBRXFCLEtBQUssSUFBSSxDQUFDO1lBQ2xELEVBQUUsT0FBTzNHLE9BQU87Z0JBQ2Q2QixRQUFRN0IsS0FBSyxDQUFDLHFCQUFxQnNGLElBQUksR0FBR3RGO2dCQUMxQyxNQUFNLElBQUl3RSxNQUFNLENBQUMsbUJBQW1CLEVBQUVjLElBQUksRUFBRSxFQUFFLEVBQUV0RixNQUFNK0UsT0FBTyxDQUFDLENBQUM7WUFDakU7UUFDRjtRQUNBLE9BQU8wQjtJQUNUO0lBRUEsTUFBTVcscUJBQXFCLE9BQU8xSDtRQUNoQyxJQUFJO1lBQ0YsTUFBTXVGLGNBQWMsTUFBTXZGLEtBQUt1RixXQUFXO1lBQzFDLE1BQU1DLE1BQU0sTUFBTS9GLG1EQUFvQixDQUFDOEYsYUFBYUcsT0FBTztZQUMzRCxJQUFJcUIsV0FBVztZQUNmLElBQUssSUFBSW5CLElBQUksR0FBR0EsS0FBS0osSUFBSUssUUFBUSxFQUFFRCxJQUFLO2dCQUN0QyxNQUFNRSxPQUFPLE1BQU1OLElBQUlPLE9BQU8sQ0FBQ0g7Z0JBQy9CLE1BQU0rQixjQUFjLE1BQU03QixLQUFLOEIsY0FBYztnQkFDN0MsTUFBTUMsV0FBV0YsWUFBWUcsS0FBSyxDQUFDbEYsR0FBRyxDQUFDbUYsQ0FBQUEsT0FBUUEsS0FBS0MsR0FBRyxFQUFFQyxJQUFJLENBQUM7Z0JBQzlEbEIsWUFBWWMsV0FBVztZQUN6QjtZQUNBLE9BQU9kO1FBQ1QsRUFBRSxPQUFPekcsT0FBTztZQUNkLE1BQU0sSUFBSXdFLE1BQU0sc0NBQXNDeEUsTUFBTStFLE9BQU87UUFDckU7SUFDRjtJQUVBLE1BQU02QyxtQkFBbUIsT0FBT0M7UUFDOUIsTUFBTUMsZUFBZUQsTUFBTUUsTUFBTSxDQUFDQyxLQUFLLENBQUMsRUFBRTtRQUMxQyxJQUFJLENBQUNGLGNBQWM7UUFDbkIsSUFBSSxDQUFDQSxhQUFhRyxJQUFJLENBQUM3RixRQUFRLENBQUMsUUFBUTtZQUN0Q25DLFNBQVM7WUFDVDtRQUNGO1FBQ0FOLFFBQVFtSTtRQUNSL0gsV0FBVztRQUNYRSxTQUFTO1FBQ1RFLGVBQWU7UUFDZkksYUFBYTtRQUNiRSxpQkFBaUI7UUFDakJFLG9CQUFvQjtRQUNwQkUscUJBQXFCO1FBQ3JCVSxlQUFlO1FBQ2YsSUFBSTlCLG1CQUFtQkEsa0JBQWtCO1FBRXpDLElBQUk7WUFDRixNQUFNeUksU0FBU3BKLDhEQUFTQSxDQUFDYztZQUN6QixJQUFJdUksZ0JBQWdCO1lBQ3BCLElBQUkvSCxRQUFRO2dCQUNWLE1BQU1pRixTQUFTLE1BQU1MLG1CQUFtQjhDO2dCQUN4Q0ssZ0JBQWdCLE1BQU0zQixXQUFXbkI7Z0JBQ2pDbEYsZUFBZTtZQUNqQixPQUFPO2dCQUNMQSxlQUFlO2dCQUNmZ0ksZ0JBQWdCLE1BQU1mLG1CQUFtQlU7WUFDM0M7WUFDQXZILGFBQWE0SDtZQUNiLE1BQU1DLFVBQVVGLE9BQU9HLGNBQWMsQ0FBQ0Y7WUFDdEMxSCxpQkFBaUIySDtZQUNqQixNQUFNRSxhQUFhSixPQUFPSyx3QkFBd0IsQ0FBQ0o7WUFDbkR4SCxvQkFBb0IySDtZQUNwQixNQUFNRSxjQUFjTixPQUFPTyxzQkFBc0IsQ0FBQ0g7WUFDbER6SCxxQkFBcUIySDtZQUNyQnBKLDhEQUFjQSxDQUFDb0o7WUFDZixJQUFJLENBQUNMLGNBQWNqRyxJQUFJLElBQUk7Z0JBQ3pCakMsU0FBUztnQkFDVEYsV0FBVztnQkFDWDtZQUNGO1lBQ0FJLGVBQWUsQ0FBQywyQkFBMkIsRUFBRXBCLGdFQUFlLENBQUNhLGFBQWEsQ0FBQzhJLElBQUksQ0FBQyxRQUFRLENBQUM7WUFDekYsSUFBSWpKLG1CQUFtQkEsa0JBQWtCO1FBQzNDLEVBQUUsT0FBT3FGLEtBQUs7WUFDWmpELFFBQVE3QixLQUFLLENBQUMscUJBQXFCOEU7WUFDbkM3RSxTQUFTLDJCQUEyQjZFLElBQUlDLE9BQU87WUFDL0M1RSxlQUFlO1lBQ2YsSUFBSVYsbUJBQW1CQSxrQkFBa0I7UUFDM0MsU0FBVTtZQUNSTSxXQUFXO1FBQ2I7SUFDRjtJQUVBLE1BQU00SSxzQkFBc0IsQ0FBQ0M7UUFDM0IvSSxnQkFBZ0IrSTtRQUNoQixJQUFJbEosTUFBTTtZQUNSYSxhQUFhO1lBQ2JFLGlCQUFpQjtZQUNqQkUsb0JBQW9CO1lBQ3BCRSxxQkFBcUI7WUFDckJVLGVBQWU7WUFDZixJQUFJOUIsbUJBQW1CQSxrQkFBa0I7UUFDM0M7SUFDRjtJQUVBLE1BQU1vSixtQkFBbUI7UUFDdkIsSUFBSSxDQUFDakksbUJBQW1CO1lBQ3RCTyxXQUFXO1lBQ1g7UUFDRjtRQUNBRixhQUFhO1FBQ2JFLFdBQVc7UUFDWEosY0FBYztRQUNkLElBQUk7WUFDRixNQUFNK0gsV0FBVyxNQUFNQyxNQUFNLGdCQUFnQjtnQkFDM0NDLFFBQVE7Z0JBQ1JDLFNBQVM7b0JBQ1AsZ0JBQWdCO2dCQUNsQjtnQkFDQUMsTUFBTUMsS0FBS0MsU0FBUyxDQUFDO29CQUFFQyxpQkFBaUJ6STtnQkFBa0I7WUFDNUQ7WUFDQSxNQUFNOEYsT0FBTyxNQUFNb0MsU0FBU1EsSUFBSTtZQUNoQyxJQUFJLENBQUNSLFNBQVNTLEVBQUUsRUFBRTtnQkFDaEIsTUFBTSxJQUFJL0UsTUFBTWtDLEtBQUs4QyxPQUFPLElBQUk7WUFDbEM7WUFDQXpJLGNBQWMyRixLQUFLK0MsUUFBUTtRQUM3QixFQUFFLE9BQU8zRSxLQUFLO1lBQ1pqRCxRQUFRN0IsS0FBSyxDQUFDLHNCQUFzQjhFO1lBQ3BDM0QsV0FBVzJELElBQUlDLE9BQU87UUFDeEIsU0FBVTtZQUNSOUQsYUFBYTtRQUNmO0lBQ0Y7SUFFQSxxQkFDRSw4REFBQ3lJO1FBQUlDLFdBQVU7OzBCQUNiLDhEQUFDQztnQkFBR0QsV0FBVTswQkFBb0Q7Ozs7OzswQkFJbEUsOERBQUNEO2dCQUFJQyxXQUFVOztrQ0FDYiw4REFBQ0Q7d0JBQUlDLFdBQVU7OzBDQUNiLDhEQUFDRDtnQ0FBSUMsV0FBVTswQ0FBaUc7Ozs7OzswQ0FHaEgsOERBQUNFO2dDQUFHRixXQUFVOzBDQUFzQzs7Ozs7Ozs7Ozs7O2tDQUd0RCw4REFBQ0Q7d0JBQUlDLFdBQVU7a0NBQ1pHLE9BQU9DLE9BQU8sQ0FBQ2hMLGdFQUFlQSxFQUFFdUQsR0FBRyxDQUFDLENBQUMsQ0FBQzBILE1BQU03RixLQUFLLGlCQUNoRCw4REFBQ3VGO2dDQUFlTyxTQUFTLElBQU10QixvQkFBb0JxQjtnQ0FDakRMLFdBQVcsQ0FBQyx5REFBeUQsRUFDbkUvSixpQkFBaUJvSyxPQUNiLDZDQUNBQSxTQUFTLFNBQ1AsbURBQ0EsOERBQ1AsQ0FBQzs7a0RBQ0YsOERBQUNFO3dDQUFHUCxXQUFVO2tEQUFpQnhGLEtBQUt1RSxJQUFJOzs7Ozs7a0RBQ3hDLDhEQUFDeUI7d0NBQUVSLFdBQVU7a0RBQWdCeEYsS0FBSzFCLFdBQVc7Ozs7OztvQ0FDNUM3QyxpQkFBaUJvSyxzQkFDaEIsOERBQUNOO3dDQUFJQyxXQUFVO2tEQUNiLDRFQUFDUzs0Q0FBS1QsV0FBVTtzREFBMkY7Ozs7Ozs7Ozs7OzsrQkFadkdLOzs7Ozs7Ozs7Ozs7Ozs7OzBCQXNCaEIsOERBQUNOO2dCQUFJQyxXQUFVOzBCQUNiLDRFQUFDRDtvQkFBSUMsV0FBVTs4QkFDYiw0RUFBQ1U7d0JBQU1WLFdBQVU7OzBDQUNmLDhEQUFDVztnQ0FBTXJDLE1BQUs7Z0NBQVdzQyxTQUFTbks7Z0NBQVFvSyxVQUFVLENBQUNsSCxJQUFNakQsVUFBVWlELEVBQUV5RSxNQUFNLENBQUN3QyxPQUFPO2dDQUFHWixXQUFVOzs7Ozs7MENBQ2hHLDhEQUFDUztnQ0FBS1QsV0FBVTswQ0FBc0I7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7MEJBTzVDLDhEQUFDRDtnQkFBSUMsV0FBVTs7a0NBQ2IsOERBQUNEO3dCQUFJQyxXQUFVO2tDQUNiLDRFQUFDVTs0QkFBTVYsV0FBVTs7OENBQ2YsOERBQUNEO29DQUFJQyxXQUFVOztzREFDYiw4REFBQ2M7NENBQUlkLFdBQVU7NENBQTZCZSxNQUFLOzRDQUFPQyxRQUFPOzRDQUFlQyxTQUFRO3NEQUNwRiw0RUFBQ0M7Z0RBQUtDLGVBQWM7Z0RBQVFDLGdCQUFlO2dEQUFRQyxhQUFhO2dEQUFHQyxHQUFFOzs7Ozs7Ozs7OztzREFFdkUsOERBQUNkOzRDQUFFUixXQUFVOzs4REFDWCw4REFBQ1M7b0RBQUtULFdBQVU7OERBQWdCOzs7Ozs7Z0RBQXNCO2dEQUFPNUssZ0VBQWUsQ0FBQ2EsYUFBYSxDQUFDOEksSUFBSTtnREFBQzs7Ozs7OztzREFFbEcsOERBQUN5Qjs0Q0FBRVIsV0FBVTtzREFBd0I7Ozs7Ozs7Ozs7Ozs4Q0FFdkMsOERBQUNXO29DQUFNckMsTUFBSztvQ0FBTzBCLFdBQVU7b0NBQVN1QixRQUFPO29DQUFPVixVQUFVNUM7b0NBQWtCdUQsVUFBVXJMOzs7Ozs7Ozs7Ozs7Ozs7OztvQkFJN0ZKLHNCQUFTLDhEQUFDZ0s7d0JBQUlDLFdBQVU7OzRCQUE2Qjs0QkFBaUJqSyxLQUFLZ0osSUFBSTs0QkFBQzs0QkFBVTNKLGdFQUFlLENBQUNhLGFBQWEsQ0FBQzhJLElBQUk7NEJBQUM7Ozs7Ozs7b0JBQzdINUkseUJBQ0MsOERBQUM0Sjt3QkFBSUMsV0FBVTs7MENBQ2IsOERBQUNEO2dDQUFJQyxXQUFVOzs7Ozs7MENBQ2YsOERBQUNTO2dDQUFLVCxXQUFVOzBDQUFpQnpKLGVBQWU7Ozs7Ozs7Ozs7OztvQkFHbkRGLHVCQUFVLDhEQUFDMEo7d0JBQUlDLFdBQVU7OzRCQUFzRTs0QkFBRTNKOzRCQUFNOzs7Ozs7Ozs7Ozs7O1lBR3hHTSxDQUFBQSxhQUFhTSxpQkFBZ0IsbUJBQzdCLDhEQUFDOEk7Z0JBQUlDLFdBQVU7O29CQUNackosMkJBQ0MsOERBQUNvSjs7MENBQ0MsOERBQUNHO2dDQUFHRixXQUFVOzBDQUE2Qjs7Ozs7OzBDQUMzQyw4REFBQ3lCO2dDQUFTQyxPQUFPL0s7Z0NBQVdnTCxRQUFRO2dDQUFDM0IsV0FBVTs7Ozs7Ozs7Ozs7O29CQUdsRC9JLG1DQUNDLDhEQUFDOEk7OzBDQUNDLDhEQUFDRztnQ0FBR0YsV0FBVTs7b0NBQTZCO29DQUFrQjVLLGdFQUFlLENBQUNhLGFBQWEsQ0FBQzhJLElBQUk7b0NBQUM7Ozs7Ozs7MENBQ2hHLDhEQUFDMEM7Z0NBQVNDLE9BQU96SztnQ0FBbUIwSyxRQUFRO2dDQUFDM0IsV0FBVTs7Ozs7OzBDQUN2RCw4REFBQ0Q7Z0NBQUlDLFdBQVU7O2tEQUNiLDhEQUFDNEI7d0NBQU90QixTQUFTLElBQU11QixVQUFVQyxTQUFTLENBQUNDLFNBQVMsQ0FBQzlLO3dDQUFvQitJLFdBQVU7a0RBQTBFOzs7Ozs7a0RBRzdKLDhEQUFDNEI7d0NBQ0N0QixTQUFTMUY7d0NBQ1Q0RyxVQUFVL0osZUFBZUU7d0NBQ3pCcUksV0FBVyxDQUFDLHVEQUF1RCxFQUNqRXJJLGNBQ0ksb0NBQ0FGLGNBQ0UsbUNBQ0EsZ0NBQ1AsQ0FBQztrREFFREEsY0FBYyxjQUFjRSxjQUFjLFlBQVk7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztZQVFsRVYsbUNBQ0MsOERBQUM4STtnQkFBSUMsV0FBVTs7b0JBQ1pySSw2QkFDSCw4REFBQ29JO3dCQUFJQyxXQUFVOzswQ0FDYiw4REFBQ2dDOzBDQUFPOzs7Ozs7NEJBQWlCOzs7Ozs7O2tDQUd6Qiw4REFBQ3pCO3dCQUFHUCxXQUFVO2tDQUFrRDs7Ozs7O2tDQUNoRSw4REFBQzRCO3dCQUFPdEIsU0FBU3BCO3dCQUFrQnNDLFVBQVVuSzt3QkFBVzJJLFdBQVU7a0NBQy9EM0ksWUFBWSxpQkFBaUI7Ozs7OztvQkFFL0JBLDJCQUNHLDhEQUFDMEk7d0JBQUlDLFdBQVU7OzBDQUNiLDhEQUFDRDtnQ0FBSUMsV0FBVTs7Ozs7OzBDQUNmLDhEQUFDUzswQ0FBSzs7Ozs7Ozs7Ozs7O29CQUdYbEoseUJBQ0MsOERBQUN3STt3QkFBSUMsV0FBVTs7MENBQ2IsOERBQUNnQzswQ0FBTzs7Ozs7OzRCQUFlOzRCQUFFeks7Ozs7Ozs7b0JBRzVCSiw0QkFDQyw4REFBQzRJO3dCQUFJQyxXQUFVOzswQ0FDYiw4REFBQ2lDO2dDQUFHakMsV0FBVTswQ0FBNkM7Ozs7OzswQ0FDM0QsOERBQUNRO2dDQUFFUixXQUFVOzBDQUE2QzdJOzs7Ozs7Ozs7Ozs7Ozs7Ozs7MEJBT2xFLDhEQUFDNEk7Z0JBQUlDLFdBQVU7O2tDQUNiLDhEQUFDRTt3QkFBR0YsV0FBVTtrQ0FBMkM7Ozs7OztrQ0FDekQsOERBQUNrQzt3QkFBR2xDLFdBQVU7OzBDQUNaLDhEQUFDbUM7MENBQUc7Ozs7OzswQ0FDSiw4REFBQ0E7O29DQUFHO2tEQUFtQyw4REFBQ0g7a0RBQU87Ozs7OztvQ0FBaUI7Ozs7Ozs7MENBQ2hFLDhEQUFDRzswQ0FBRzs7Ozs7OzBDQUNKLDhEQUFDQTswQ0FBRzs7Ozs7OzBDQUNKLDhEQUFDQTs7b0NBQUc7a0RBQXNCLDhEQUFDSDtrREFBTzs7Ozs7O29DQUF5Qjs7Ozs7OzswQ0FDM0QsOERBQUNHOztvQ0FBRztrREFBd0IsOERBQUNIO2tEQUFPOzs7Ozs7b0NBQXNDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBT3BGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmFuay1zdGF0ZW1lbnQtcmVhZGVyLy4vY29tcG9uZW50cy9PQ1JCYW5rU3RhdGVtZW50UmVhZGVyLmpzPzkyZTUiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gY29tcG9uZW50cy9PQ1JCYW5rU3RhdGVtZW50UmVhZGVyLmpzXG5cbmltcG9ydCB7IHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgZ2V0UGFyc2VyIH0gZnJvbSAnLi4vY29tcG9uZW50cy9wYXJzZXJzJztcbmltcG9ydCB7IFNVUFBPUlRFRF9CQU5LUywgREVGQVVMVF9CQU5LIH0gZnJvbSAnLi91dGlscy9jb25zdGFudHMuanMnO1xuaW1wb3J0IHsgc3VwYWJhc2UgfSBmcm9tICcuLi9saWIvc3VwYWJhc2UnOyAvLyBZb3UnbGwgbmVlZCB0byBjcmVhdGUgdGhpc1xuaW1wb3J0IFRlc3NlcmFjdCBmcm9tICd0ZXNzZXJhY3QuanMnO1xuaW1wb3J0ICogYXMgcGRmanNMaWIgZnJvbSAncGRmanMtZGlzdCc7XG5cbmltcG9ydCB7IHVwZGF0ZUJhbmtEYXRhIH0gZnJvbSAnLi4vbGliL2RhdGFzdG9yZSc7XG5cbmlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICBwZGZqc0xpYi5HbG9iYWxXb3JrZXJPcHRpb25zLndvcmtlclNyYyA9IGBodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9wZGYuanMvJHtwZGZqc0xpYi52ZXJzaW9ufS9wZGYud29ya2VyLm1pbi5qc2A7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIE9DUkJhbmtTdGF0ZW1lbnRSZWFkZXIoeyBvblByb2Nlc3NDb21wbGV0ZSB9KSB7XG4gIGNvbnN0IFtmaWxlLCBzZXRGaWxlXSA9IHVzZVN0YXRlKG51bGwpO1xuICBjb25zdCBbc2VsZWN0ZWRCYW5rLCBzZXRTZWxlY3RlZEJhbmtdID0gdXNlU3RhdGUoREVGQVVMVF9CQU5LKTtcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW29jclByb2dyZXNzLCBzZXRPY3JQcm9ncmVzc10gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IFt1c2VPQ1IsIHNldFVzZU9DUl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtvY3JPdXRwdXQsIHNldE9jck91dHB1dF0gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IFtjbGVhbmVkT3V0cHV0LCBzZXRDbGVhbmVkT3V0cHV0XSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW3NpbXBsaWZpZWRPdXRwdXQsIHNldFNpbXBsaWZpZWRPdXRwdXRdID0gdXNlU3RhdGUoJycpO1xuICBjb25zdCBbY2F0ZWdvcml6ZWRPdXRwdXQsIHNldENhdGVnb3JpemVkT3V0cHV0XSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW2FpQW5hbHlzaXMsIHNldEFpQW5hbHlzaXNdID0gdXNlU3RhdGUoJycpO1xuICBjb25zdCBbYWlMb2FkaW5nLCBzZXRBaUxvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbYWlFcnJvciwgc2V0QWlFcnJvcl0gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IFtzYXZlTG9hZGluZywgc2V0U2F2ZUxvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc2F2ZVN1Y2Nlc3MsIHNldFNhdmVTdWNjZXNzXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICAvLyBQYXJzZSBjYXRlZ29yaXplZCBvdXRwdXQgaW50byBzdHJ1Y3R1cmVkIGRhdGFcbiAgY29uc3QgcGFyc2VDYXRlZ29yaXplZERhdGEgPSAoY2F0ZWdvcml6ZWRUZXh0KSA9PiB7XG4gICAgY29uc3QgdHJhbnNhY3Rpb25zID0gW107XG4gICAgY29uc3QgbGluZXMgPSBjYXRlZ29yaXplZFRleHQuc3BsaXQoJ1xcbicpO1xuICAgIFxuICAgIGNvbnNvbGUubG9nKCdQYXJzaW5nIGNhdGVnb3JpemVkIGRhdGEsIHRvdGFsIGxpbmVzOicsIGxpbmVzLmxlbmd0aCk7XG4gICAgXG4gICAgZm9yIChjb25zdCBsaW5lIG9mIGxpbmVzKSB7XG4gICAgICBjb25zdCB0cmltbWVkTGluZSA9IGxpbmUudHJpbSgpO1xuICAgICAgaWYgKCF0cmltbWVkTGluZSB8fCB0cmltbWVkTGluZS5zdGFydHNXaXRoKCc9JykgfHwgdHJpbW1lZExpbmUuaW5jbHVkZXMoJ1BBR0UnKSkgY29udGludWU7XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKCdQcm9jZXNzaW5nIGxpbmU6JywgdHJpbW1lZExpbmUpO1xuICAgICAgXG4gICAgICAvLyBDaGVjayBpZiBsaW5lIGhhcyBwaXBlIHNlcGFyYXRvcnMgKHlvdXIgZm9ybWF0OiBkYXRlIHwgZGVzY3JpcHRpb24gfCBhbW91bnQgfCB0eXBlKVxuICAgICAgaWYgKHRyaW1tZWRMaW5lLmluY2x1ZGVzKCd8JykpIHtcbiAgICAgICAgY29uc3QgcGFydHMgPSB0cmltbWVkTGluZS5zcGxpdCgnfCcpLm1hcChwYXJ0ID0+IHBhcnQudHJpbSgpKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPj0gNCkge1xuICAgICAgICAgIGNvbnN0IFtkYXRlU3RyLCBkZXNjcmlwdGlvbiwgYW1vdW50U3RyLCB0cmFuc2FjdGlvblR5cGVdID0gcGFydHM7XG4gICAgICAgICAgXG4gICAgICAgICAgY29uc29sZS5sb2coJ1BpcGUtc2VwYXJhdGVkIHBhcnRzOicsIHsgZGF0ZVN0ciwgZGVzY3JpcHRpb24sIGFtb3VudFN0ciwgdHJhbnNhY3Rpb25UeXBlIH0pO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIFBhcnNlIGRhdGUgLSBoYW5kbGUgREQvTU0vWVkgZm9ybWF0XG4gICAgICAgICAgbGV0IHBhcnNlZERhdGU7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGVNYXRjaCA9IGRhdGVTdHIubWF0Y2goLyhcXGR7MSwyfSlcXC8oXFxkezEsMn0pXFwvKFxcZHsyLDR9KS8pO1xuICAgICAgICAgICAgaWYgKGRhdGVNYXRjaCkge1xuICAgICAgICAgICAgICBsZXQgWywgZGF5LCBtb250aCwgeWVhcl0gPSBkYXRlTWF0Y2g7XG4gICAgICAgICAgICAgIC8vIENvbnZlcnQgMi1kaWdpdCB5ZWFyIHRvIDQtZGlnaXRcbiAgICAgICAgICAgICAgaWYgKHllYXIubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgICAgICAgeWVhciA9IHBhcnNlSW50KHllYXIpIDwgNTAgPyBgMjAke3llYXJ9YCA6IGAxOSR7eWVhcn1gO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIC8vIEFzc3VtaW5nIEREL01NL1lZIGZvcm1hdCBiYXNlZCBvbiB5b3VyIGRhdGFcbiAgICAgICAgICAgICAgcGFyc2VkRGF0ZSA9IG5ldyBEYXRlKGAke3llYXJ9LSR7bW9udGgucGFkU3RhcnQoMiwgJzAnKX0tJHtkYXkucGFkU3RhcnQoMiwgJzAnKX1gKS50b0lTT1N0cmluZygpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0RhdGUgZm9ybWF0IG5vdCByZWNvZ25pemVkOicsIGRhdGVTdHIpO1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnSW52YWxpZCBkYXRlIGZvcm1hdDonLCBkYXRlU3RyLCBlKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICAvLyBQYXJzZSBhbW91bnRcbiAgICAgICAgICBjb25zdCBjbGVhbkFtb3VudCA9IGFtb3VudFN0ci5yZXBsYWNlKC9bLFxcc10vZywgJycpO1xuICAgICAgICAgIGxldCBudW1lcmljQW1vdW50ID0gcGFyc2VGbG9hdChjbGVhbkFtb3VudCk7XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKGlzTmFOKG51bWVyaWNBbW91bnQpKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnSW52YWxpZCBhbW91bnQ6JywgYW1vdW50U3RyKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICAvLyBIYW5kbGUgREVCSVQvQ1JFRElUIC0gbWFrZSBkZWJpdHMgbmVnYXRpdmVcbiAgICAgICAgICBpZiAodHJhbnNhY3Rpb25UeXBlLnRvVXBwZXJDYXNlKCkuaW5jbHVkZXMoJ0RFQklUJykpIHtcbiAgICAgICAgICAgIG51bWVyaWNBbW91bnQgPSBNYXRoLmFicyhudW1lcmljQW1vdW50KTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHRyYW5zYWN0aW9uVHlwZS50b1VwcGVyQ2FzZSgpLmluY2x1ZGVzKCdDUkVESVQnKSkge1xuICAgICAgICAgICAgbnVtZXJpY0Ftb3VudCA9IE1hdGguYWJzKG51bWVyaWNBbW91bnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICBjb25zdCB0cmFuc2FjdGlvbiA9IHtcbiAgICAgICAgICAgIGRhdGU6IHBhcnNlZERhdGUsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogZGVzY3JpcHRpb24gfHwgJ1Vua25vd24gVHJhbnNhY3Rpb24nLFxuICAgICAgICAgICAgYW1vdW50OiBudW1lcmljQW1vdW50LFxuICAgICAgICAgICAgY2F0ZWdvcnk6IHRyYW5zYWN0aW9uVHlwZSB8fCAnVW5jYXRlZ29yaXplZCcsXG4gICAgICAgICAgICBiYW5rOiBzZWxlY3RlZEJhbmssXG4gICAgICAgICAgICByYXdfdGV4dDogdHJpbW1lZExpbmVcbiAgICAgICAgICB9O1xuICAgICAgICAgIFxuICAgICAgICAgIGNvbnNvbGUubG9nKCdTdWNjZXNzZnVsbHkgcGFyc2VkIHRyYW5zYWN0aW9uOicsIHRyYW5zYWN0aW9uKTtcbiAgICAgICAgICB0cmFuc2FjdGlvbnMucHVzaCh0cmFuc2FjdGlvbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ0xpbmUgaGFzIHBpcGVzIGJ1dCBpbnN1ZmZpY2llbnQgcGFydHM6JywgcGFydHMpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBGYWxsYmFjayB0byBvcmlnaW5hbCBwYXJzaW5nIGZvciBub24tcGlwZSBmb3JtYXRzXG4gICAgICAgIGNvbnN0IGRhdGVNYXRjaCA9IHRyaW1tZWRMaW5lLm1hdGNoKC8oXFxkezEsMn1cXC9cXGR7MSwyfVxcL1xcZHsyLDR9KS8pO1xuICAgICAgICBjb25zdCBhbW91bnRNYXRjaCA9IHRyaW1tZWRMaW5lLm1hdGNoKC8oXFxkK1xcLj9cXGR7MCwyfSkvKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChkYXRlTWF0Y2ggJiYgYW1vdW50TWF0Y2gpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnRmFsbGJhY2sgcGFyc2luZyBmb3IgbGluZSB3aXRob3V0IHBpcGVzJyk7XG4gICAgICAgICAgLy8gQ29udGludWUgd2l0aCBmYWxsYmFjayBsb2dpYyBpZiBuZWVkZWRcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnU2tpcHBpbmcgbGluZSAtIG5vIHJlY29nbml6YWJsZSBmb3JtYXQ6JywgdHJpbW1lZExpbmUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIGNvbnNvbGUubG9nKCdUb3RhbCB0cmFuc2FjdGlvbnMgcGFyc2VkOicsIHRyYW5zYWN0aW9ucy5sZW5ndGgpO1xuICAgIHJldHVybiB0cmFuc2FjdGlvbnM7XG4gIH07XG5cbiAgLy8gU2F2ZSB0byBTdXBhYmFzZVxuICBjb25zdCBzYXZlVG9EYXRhYmFzZSA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAoIWNhdGVnb3JpemVkT3V0cHV0KSB7XG4gICAgICBzZXRFcnJvcignTm8gZGF0YSB0byBzYXZlLiBQbGVhc2UgcHJvY2VzcyBhIHN0YXRlbWVudCBmaXJzdC4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzZXRTYXZlTG9hZGluZyh0cnVlKTtcbiAgICBzZXRTYXZlU3VjY2VzcyhmYWxzZSk7XG4gICAgc2V0RXJyb3IoJycpO1xuXG4gICAgdHJ5IHtcbiAgICAgIC8vIFBhcnNlIHRoZSBjYXRlZ29yaXplZCBvdXRwdXQgaW50byBzdHJ1Y3R1cmVkIGRhdGFcbiAgICAgIGNvbnN0IHRyYW5zYWN0aW9ucyA9IHBhcnNlQ2F0ZWdvcml6ZWREYXRhKGNhdGVnb3JpemVkT3V0cHV0KTtcbiAgICAgIFxuICAgICAgaWYgKHRyYW5zYWN0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyB2YWxpZCB0cmFuc2FjdGlvbnMgZm91bmQgdG8gc2F2ZScpO1xuICAgICAgfVxuXG4gICAgICAvLyBNYXAgcGFyc2VkIGRhdGEgdG8gdGhlIHNwZWNpZmljIGNvbHVtbnMgaW4geW91ciAndHJhbnNhY3Rpb25zJyB0YWJsZVxuICAgICAgY29uc3QgdHJhbnNhY3Rpb25zVG9JbnNlcnQgPSB0cmFuc2FjdGlvbnMubWFwKHRyYW5zYWN0aW9uID0+ICh7XG4gICAgICAgIGRhdGU6IHRyYW5zYWN0aW9uLmRhdGUsXG4gICAgICAgIHJlY2VpdmVyX3NlbmRlcjogdHJhbnNhY3Rpb24uZGVzY3JpcHRpb24sXG4gICAgICAgIGFtb3VudDogdHJhbnNhY3Rpb24uYW1vdW50LFxuICAgICAgICB0cmFuc2FjdGlvbl90eXBlOiB0cmFuc2FjdGlvbi5jYXRlZ29yeSxcbiAgICAgIH0pKTtcblxuICAgICAgLy8gSW5zZXJ0IGFsbCB0cmFuc2FjdGlvbnMgaW4gYSBzaW5nbGUgYmF0Y2hcbiAgICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCd0cmFuc2FjdGlvbnMnKVxuICAgICAgICAuaW5zZXJ0KHRyYW5zYWN0aW9uc1RvSW5zZXJ0KTtcblxuICAgICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvcjtcblxuICAgICAgc2V0U2F2ZVN1Y2Nlc3ModHJ1ZSk7XG4gICAgICBzZXRPY3JQcm9ncmVzcyhgU3VjY2Vzc2Z1bGx5IHNhdmVkICR7dHJhbnNhY3Rpb25zLmxlbmd0aH0gdHJhbnNhY3Rpb25zIHRvIGRhdGFiYXNlIWApO1xuICAgICAgXG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdEYXRhYmFzZSBzYXZlIGVycm9yOicsIGVycik7XG4gICAgICBzZXRFcnJvcignRmFpbGVkIHRvIHNhdmUgdG8gZGF0YWJhc2U6ICcgKyBlcnIubWVzc2FnZSk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldFNhdmVMb2FkaW5nKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgY29udmVydFBERlRvSW1hZ2VzID0gYXN5bmMgKGZpbGUpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgYXJyYXlCdWZmZXIgPSBhd2FpdCBmaWxlLmFycmF5QnVmZmVyKCk7XG4gICAgICBjb25zdCBwZGYgPSBhd2FpdCBwZGZqc0xpYi5nZXREb2N1bWVudChhcnJheUJ1ZmZlcikucHJvbWlzZTtcbiAgICAgIGNvbnN0IGltYWdlcyA9IFtdO1xuICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gcGRmLm51bVBhZ2VzOyBpKyspIHtcbiAgICAgICAgc2V0T2NyUHJvZ3Jlc3MoYENvbnZlcnRpbmcgcGFnZSAke2l9IG9mICR7cGRmLm51bVBhZ2VzfSB0byBpbWFnZS4uLmApO1xuICAgICAgICBjb25zdCBwYWdlID0gYXdhaXQgcGRmLmdldFBhZ2UoaSk7XG4gICAgICAgIGNvbnN0IHNjYWxlID0gMi4wO1xuICAgICAgICBjb25zdCB2aWV3cG9ydCA9IHBhZ2UuZ2V0Vmlld3BvcnQoeyBzY2FsZSB9KTtcbiAgICAgICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IHZpZXdwb3J0LmhlaWdodDtcbiAgICAgICAgY2FudmFzLndpZHRoID0gdmlld3BvcnQud2lkdGg7XG4gICAgICAgIGF3YWl0IHBhZ2UucmVuZGVyKHsgY2FudmFzQ29udGV4dDogY29udGV4dCwgdmlld3BvcnQgfSkucHJvbWlzZTtcbiAgICAgICAgY29uc3QgaW1hZ2VEYXRhID0gY2FudmFzLnRvRGF0YVVSTCgnaW1hZ2UvcG5nJyk7XG4gICAgICAgIGltYWdlcy5wdXNoKGltYWdlRGF0YSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gaW1hZ2VzO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBjb252ZXJ0IFBERiB0byBpbWFnZXM6ICcgKyBlcnJvci5tZXNzYWdlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgcGVyZm9ybU9DUiA9IGFzeW5jIChpbWFnZXMpID0+IHtcbiAgICBsZXQgZnVsbFRleHQgPSAnJztcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGltYWdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgc2V0T2NyUHJvZ3Jlc3MoYFByb2Nlc3NpbmcgcGFnZSAke2kgKyAxfSBvZiAke2ltYWdlcy5sZW5ndGh9IHdpdGggT0NSLi4uYCk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCB7IGRhdGE6IHsgdGV4dCB9IH0gPSBhd2FpdCBUZXNzZXJhY3QucmVjb2duaXplKFxuICAgICAgICAgIGltYWdlc1tpXSwgJ2VuZycsIHtcbiAgICAgICAgICAgIGxvZ2dlcjogbSA9PiB7XG4gICAgICAgICAgICAgIGlmIChtLnN0YXR1cyA9PT0gJ3JlY29nbml6aW5nIHRleHQnKSB7XG4gICAgICAgICAgICAgICAgc2V0T2NyUHJvZ3Jlc3MoYFBhZ2UgJHtpICsgMX06ICR7TWF0aC5yb3VuZChtLnByb2dyZXNzICogMTAwKX0lIGNvbXBsZXRlYCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0ZXNzZWRpdF9wYWdlc2VnX21vZGU6IDQsXG4gICAgICAgICAgICBwcmVzZXJ2ZV9pbnRlcndvcmRfc3BhY2VzOiAnMScsXG4gICAgICAgICAgfVxuICAgICAgICApO1xuICAgICAgICBmdWxsVGV4dCArPSBgPT09IFBBR0UgJHtpICsgMX0gPT09XFxuJHt0ZXh0fVxcblxcbmA7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdPQ1IgZXJyb3Igb24gcGFnZScsIGkgKyAxLCBlcnJvcik7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgT0NSIGZhaWxlZCBvbiBwYWdlICR7aSArIDF9OiAke2Vycm9yLm1lc3NhZ2V9YCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmdWxsVGV4dDtcbiAgfTtcblxuICBjb25zdCBleHRyYWN0VGV4dEZyb21QREYgPSBhc3luYyAoZmlsZSkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBhcnJheUJ1ZmZlciA9IGF3YWl0IGZpbGUuYXJyYXlCdWZmZXIoKTtcbiAgICAgIGNvbnN0IHBkZiA9IGF3YWl0IHBkZmpzTGliLmdldERvY3VtZW50KGFycmF5QnVmZmVyKS5wcm9taXNlO1xuICAgICAgbGV0IGZ1bGxUZXh0ID0gJyc7XG4gICAgICBmb3IgKGxldCBpID0gMTsgaSA8PSBwZGYubnVtUGFnZXM7IGkrKykge1xuICAgICAgICBjb25zdCBwYWdlID0gYXdhaXQgcGRmLmdldFBhZ2UoaSk7XG4gICAgICAgIGNvbnN0IHRleHRDb250ZW50ID0gYXdhaXQgcGFnZS5nZXRUZXh0Q29udGVudCgpO1xuICAgICAgICBjb25zdCBwYWdlVGV4dCA9IHRleHRDb250ZW50Lml0ZW1zLm1hcChpdGVtID0+IGl0ZW0uc3RyKS5qb2luKCcgJyk7XG4gICAgICAgIGZ1bGxUZXh0ICs9IHBhZ2VUZXh0ICsgJ1xcbic7XG4gICAgICB9XG4gICAgICByZXR1cm4gZnVsbFRleHQ7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGV4dHJhY3QgdGV4dCBmcm9tIFBERjogJyArIGVycm9yLm1lc3NhZ2UpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVGaWxlVXBsb2FkID0gYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgY29uc3QgdXBsb2FkZWRGaWxlID0gZXZlbnQudGFyZ2V0LmZpbGVzWzBdO1xuICAgIGlmICghdXBsb2FkZWRGaWxlKSByZXR1cm47XG4gICAgaWYgKCF1cGxvYWRlZEZpbGUudHlwZS5pbmNsdWRlcygncGRmJykpIHtcbiAgICAgIHNldEVycm9yKCdQbGVhc2UgdXBsb2FkIGEgUERGIGZpbGUnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2V0RmlsZSh1cGxvYWRlZEZpbGUpO1xuICAgIHNldExvYWRpbmcodHJ1ZSk7XG4gICAgc2V0RXJyb3IoJycpO1xuICAgIHNldE9jclByb2dyZXNzKCcnKTtcbiAgICBzZXRPY3JPdXRwdXQoJycpO1xuICAgIHNldENsZWFuZWRPdXRwdXQoJycpO1xuICAgIHNldFNpbXBsaWZpZWRPdXRwdXQoJycpO1xuICAgIHNldENhdGVnb3JpemVkT3V0cHV0KCcnKTtcbiAgICBzZXRTYXZlU3VjY2VzcyhmYWxzZSk7XG4gICAgaWYgKG9uUHJvY2Vzc0NvbXBsZXRlKSBvblByb2Nlc3NDb21wbGV0ZShmYWxzZSk7XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgcGFyc2VyID0gZ2V0UGFyc2VyKHNlbGVjdGVkQmFuayk7XG4gICAgICBsZXQgZXh0cmFjdGVkVGV4dCA9ICcnO1xuICAgICAgaWYgKHVzZU9DUikge1xuICAgICAgICBjb25zdCBpbWFnZXMgPSBhd2FpdCBjb252ZXJ0UERGVG9JbWFnZXModXBsb2FkZWRGaWxlKTtcbiAgICAgICAgZXh0cmFjdGVkVGV4dCA9IGF3YWl0IHBlcmZvcm1PQ1IoaW1hZ2VzKTtcbiAgICAgICAgc2V0T2NyUHJvZ3Jlc3MoJ09DUiBjb21wbGV0ZWQhIFByb2Nlc3NpbmcuLi4nKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNldE9jclByb2dyZXNzKCdFeHRyYWN0aW5nIHRleHQgZnJvbSBQREYuLi4nKTtcbiAgICAgICAgZXh0cmFjdGVkVGV4dCA9IGF3YWl0IGV4dHJhY3RUZXh0RnJvbVBERih1cGxvYWRlZEZpbGUpO1xuICAgICAgfVxuICAgICAgc2V0T2NyT3V0cHV0KGV4dHJhY3RlZFRleHQpO1xuICAgICAgY29uc3QgY2xlYW5lZCA9IHBhcnNlci5jbGVhbk9DUk91dHB1dChleHRyYWN0ZWRUZXh0KTtcbiAgICAgIHNldENsZWFuZWRPdXRwdXQoY2xlYW5lZCk7XG4gICAgICBjb25zdCBzaW1wbGlmaWVkID0gcGFyc2VyLmNsZWFuT0NST3V0cHV0U2ltcGxpZmllZChleHRyYWN0ZWRUZXh0KTtcbiAgICAgIHNldFNpbXBsaWZpZWRPdXRwdXQoc2ltcGxpZmllZCk7XG4gICAgICBjb25zdCBjYXRlZ29yaXplZCA9IHBhcnNlci5jYXRlZ29yaXplVHJhbnNhY3Rpb25zKHNpbXBsaWZpZWQpO1xuICAgICAgc2V0Q2F0ZWdvcml6ZWRPdXRwdXQoY2F0ZWdvcml6ZWQpO1xuICAgICAgdXBkYXRlQmFua0RhdGEoY2F0ZWdvcml6ZWQpO1xuICAgICAgaWYgKCFleHRyYWN0ZWRUZXh0LnRyaW0oKSkge1xuICAgICAgICBzZXRFcnJvcignTm8gdGV4dCBmb3VuZC4gVHJ5IGVuYWJsaW5nIE9DUiBtb2RlIGZvciBpbWFnZS1iYXNlZCBQREZzLicpO1xuICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc2V0T2NyUHJvZ3Jlc3MoYFByb2Nlc3NpbmcgY29tcGxldGVkIHVzaW5nICR7U1VQUE9SVEVEX0JBTktTW3NlbGVjdGVkQmFua10ubmFtZX0gcGFyc2VyIWApO1xuICAgICAgaWYgKG9uUHJvY2Vzc0NvbXBsZXRlKSBvblByb2Nlc3NDb21wbGV0ZSh0cnVlKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1Byb2Nlc3NpbmcgZXJyb3I6JywgZXJyKTtcbiAgICAgIHNldEVycm9yKCdFcnJvciBwcm9jZXNzaW5nIFBERjogJyArIGVyci5tZXNzYWdlKTtcbiAgICAgIHNldE9jclByb2dyZXNzKCcnKTtcbiAgICAgIGlmIChvblByb2Nlc3NDb21wbGV0ZSkgb25Qcm9jZXNzQ29tcGxldGUoZmFsc2UpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlQmFua1NlbGVjdGlvbiA9IChiYW5rQ29kZSkgPT4ge1xuICAgIHNldFNlbGVjdGVkQmFuayhiYW5rQ29kZSk7XG4gICAgaWYgKGZpbGUpIHtcbiAgICAgIHNldE9jck91dHB1dCgnJyk7XG4gICAgICBzZXRDbGVhbmVkT3V0cHV0KCcnKTtcbiAgICAgIHNldFNpbXBsaWZpZWRPdXRwdXQoJycpO1xuICAgICAgc2V0Q2F0ZWdvcml6ZWRPdXRwdXQoJycpO1xuICAgICAgc2V0U2F2ZVN1Y2Nlc3MoZmFsc2UpO1xuICAgICAgaWYgKG9uUHJvY2Vzc0NvbXBsZXRlKSBvblByb2Nlc3NDb21wbGV0ZShmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUFpQW5hbHlzaXMgPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKCFjYXRlZ29yaXplZE91dHB1dCkge1xuICAgICAgc2V0QWlFcnJvcignTm8gY2F0ZWdvcml6ZWQgZGF0YSBpcyBhdmFpbGFibGUgdG8gYW5hbHl6ZS4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2V0QWlMb2FkaW5nKHRydWUpO1xuICAgIHNldEFpRXJyb3IoJycpO1xuICAgIHNldEFpQW5hbHlzaXMoJycpO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL2FuYWx5emUnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBjYXRlZ29yaXplZERhdGE6IGNhdGVnb3JpemVkT3V0cHV0IH0pLFxuICAgICAgfSk7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZGF0YS5kZXRhaWxzIHx8ICdBbiB1bmtub3duIGVycm9yIG9jY3VycmVkIGR1cmluZyBhbmFseXNpcy4nKTtcbiAgICAgIH1cbiAgICAgIHNldEFpQW5hbHlzaXMoZGF0YS5hbmFseXNpcyk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdBSSBBbmFseXNpcyBFcnJvcjonLCBlcnIpO1xuICAgICAgc2V0QWlFcnJvcihlcnIubWVzc2FnZSk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldEFpTG9hZGluZyhmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSByb3VuZGVkLWxnIHNoYWRvdy1sZyBwLTZcIj5cbiAgICAgIDxoMSBjbGFzc05hbWU9XCJ0ZXh0LTN4bCBmb250LWJvbGQgdGV4dC1ncmF5LTkwMCBtYi04IHRleHQtY2VudGVyXCI+XG4gICAgICAgIFVwbG9hZCBEb2N1bWVudHNcbiAgICAgIDwvaDE+XG4gICAgICBcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNlwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0zIG1iLTRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHctOCBoLTggcm91bmRlZC1mdWxsIGJnLWJsdWUtNjAwIHRleHQtd2hpdGUgZm9udC1ib2xkIHRleHQtbGdcIj5cbiAgICAgICAgICAgIDFcbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LXNlbWlib2xkIHRleHQtZ3JheS04MDBcIj5TZWxlY3QgWW91ciBCYW5rPC9oMj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTIgbGc6Z3JpZC1jb2xzLTQgZ2FwLTRcIj5cbiAgICAgICAgICB7T2JqZWN0LmVudHJpZXMoU1VQUE9SVEVEX0JBTktTKS5tYXAoKFtjb2RlLCBiYW5rXSkgPT4gKFxuICAgICAgICAgICAgPGRpdiBrZXk9e2NvZGV9IG9uQ2xpY2s9eygpID0+IGhhbmRsZUJhbmtTZWxlY3Rpb24oY29kZSl9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17YHAtNCBib3JkZXItMiByb3VuZGVkLWxnIGN1cnNvci1wb2ludGVyIHRyYW5zaXRpb24tY29sb3JzICR7XG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRCYW5rID09PSBjb2RlXG4gICAgICAgICAgICAgICAgICA/ICdib3JkZXItYmx1ZS01MDAgYmctYmx1ZS01MCB0ZXh0LWJsdWUtOTAwJ1xuICAgICAgICAgICAgICAgICAgOiBjb2RlID09PSAnSERGQydcbiAgICAgICAgICAgICAgICAgICAgPyAnYm9yZGVyLWdyYXktMzAwIGJnLXdoaXRlIGhvdmVyOmJvcmRlci1ncmF5LTQwMCdcbiAgICAgICAgICAgICAgICAgICAgOiAnYm9yZGVyLWdyYXktMjAwIGJnLWdyYXktNTAgdGV4dC1ncmF5LTQwMCBjdXJzb3Itbm90LWFsbG93ZWQnXG4gICAgICAgICAgICAgIH1gfSA+XG4gICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkXCI+e2JhbmsubmFtZX08L2gzPlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIG10LTFcIj57YmFuay5kZXNjcmlwdGlvbn08L3A+XG4gICAgICAgICAgICAgIHtzZWxlY3RlZEJhbmsgPT09IGNvZGUgJiYgKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMlwiPlxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIHB4LTIgcHktMSByb3VuZGVkIHRleHQteHMgZm9udC1tZWRpdW0gYmctYmx1ZS0xMDAgdGV4dC1ibHVlLTgwMFwiPlxuICAgICAgICAgICAgICAgICAgICBTZWxlY3RlZFxuICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKSl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNiBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtNCBiZy1ncmF5LTEwMCBwLTQgcm91bmRlZC1sZ1wiPlxuICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBjdXJzb3ItcG9pbnRlclwiPlxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIGNoZWNrZWQ9e3VzZU9DUn0gb25DaGFuZ2U9eyhlKSA9PiBzZXRVc2VPQ1IoZS50YXJnZXQuY2hlY2tlZCl9IGNsYXNzTmFtZT1cIm1yLTJcIiAvPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bVwiPlxuICAgICAgICAgICAgICBVc2UgT0NSIE1vZGUgKEJldHRlciBmb3IgY29tcGxleCBsYXlvdXRzKVxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICBcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItOFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHctZnVsbFwiPlxuICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB3LWZ1bGwgaC0zMiBib3JkZXItMiBib3JkZXItZ3JheS0zMDAgYm9yZGVyLWRhc2hlZCByb3VuZGVkLWxnIGN1cnNvci1wb2ludGVyIGJnLWdyYXktNTAgaG92ZXI6YmctZ3JheS0xMDAgdHJhbnNpdGlvbi1jb2xvcnNcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcHQtNSBwYi02XCI+XG4gICAgICAgICAgICAgIDxzdmcgY2xhc3NOYW1lPVwidy04IGgtOCBtYi00IHRleHQtZ3JheS01MDBcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICAgICAgICA8cGF0aCBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlV2lkdGg9ezJ9IGQ9XCJNNyAxNmE0IDQgMCAwMS0uODgtNy45MDNBNSA1IDAgMTExNS45IDZMMTYgNmE1IDUgMCAwMTEgOS45TTE1IDEzbC0zLTNtMCAwbC0zIDNtMy0zdjEyXCIgLz5cbiAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTIgdGV4dC1zbSB0ZXh0LWdyYXktNTAwXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZFwiPkNsaWNrIHRvIHVwbG9hZDwvc3Bhbj4geW91ciB7U1VQUE9SVEVEX0JBTktTW3NlbGVjdGVkQmFua10ubmFtZX0gc3RhdGVtZW50XG4gICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwXCI+UERGIGZpbGVzIG9ubHk8L3A+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiZmlsZVwiIGNsYXNzTmFtZT1cImhpZGRlblwiIGFjY2VwdD1cIi5wZGZcIiBvbkNoYW5nZT17aGFuZGxlRmlsZVVwbG9hZH0gZGlzYWJsZWQ9e2xvYWRpbmd9IC8+XG4gICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIFxuICAgICAgICB7ZmlsZSAmJiAoPGRpdiBjbGFzc05hbWU9XCJtdC00IHRleHQtc20gdGV4dC1ncmF5LTYwMFwiPiBTZWxlY3RlZCBmaWxlOiB7ZmlsZS5uYW1lfSB8IEJhbms6IHtTVVBQT1JURURfQkFOS1Nbc2VsZWN0ZWRCYW5rXS5uYW1lfSA8L2Rpdj4pfVxuICAgICAgICB7bG9hZGluZyAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC00IGZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFuaW1hdGUtc3BpbiByb3VuZGVkLWZ1bGwgaC04IHctOCBib3JkZXItYi0yIGJvcmRlci1ibHVlLTYwMCBtYi0yXCI+PC9kaXY+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNjAwXCI+e29jclByb2dyZXNzIHx8ICdQcm9jZXNzaW5nLi4uJ308L3NwYW4+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG4gICAgICAgIHtlcnJvciAmJiAoPGRpdiBjbGFzc05hbWU9XCJtdC00IGJnLXJlZC01MCBib3JkZXIgYm9yZGVyLXJlZC0yMDAgdGV4dC1yZWQtNzAwIHB4LTQgcHktMyByb3VuZGVkXCI+IHtlcnJvcn0gPC9kaXY+KX1cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7KG9jck91dHB1dCB8fCBjYXRlZ29yaXplZE91dHB1dCkgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEgbGc6Z3JpZC1jb2xzLTIgeGw6Z3JpZC1jb2xzLTIgZ2FwLTYgbWItOFwiPlxuICAgICAgICAgIHtvY3JPdXRwdXQgJiYgKFxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1zZW1pYm9sZCBtYi0zXCI+UmF3IE9DUiBPdXRwdXQ6PC9oMj5cbiAgICAgICAgICAgICAgPHRleHRhcmVhIHZhbHVlPXtvY3JPdXRwdXR9IHJlYWRPbmx5IGNsYXNzTmFtZT1cInctZnVsbCBoLTY0IHAtNCBib3JkZXIgYm9yZGVyLWdyYXktMzAwIHJvdW5kZWQtbGcgZm9udC1tb25vIHRleHQteHMgYmctZ3JheS01MFwiIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICAgIHtjYXRlZ29yaXplZE91dHB1dCAmJiAoXG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LXNlbWlib2xkIG1iLTNcIj4gQ2F0ZWdvcml6YXRpb24gKHtTVVBQT1JURURfQkFOS1Nbc2VsZWN0ZWRCYW5rXS5uYW1lfSk6IDwvaDI+XG4gICAgICAgICAgICAgIDx0ZXh0YXJlYSB2YWx1ZT17Y2F0ZWdvcml6ZWRPdXRwdXR9IHJlYWRPbmx5IGNsYXNzTmFtZT1cInctZnVsbCBoLTY0IHAtNCBib3JkZXIgYm9yZGVyLXB1cnBsZS0zMDAgcm91bmRlZC1sZyBmb250LW1vbm8gdGV4dC14cyBiZy1wdXJwbGUtNTBcIiAvPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTIgZmxleCBnYXAtMlwiPlxuICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQoY2F0ZWdvcml6ZWRPdXRwdXQpfSBjbGFzc05hbWU9XCJweC0zIHB5LTEgYmctcHVycGxlLTYwMCB0ZXh0LXdoaXRlIHRleHQtc20gcm91bmRlZCBob3ZlcjpiZy1wdXJwbGUtNzAwXCIgPlxuICAgICAgICAgICAgICAgICAgQ29weSBDYXRlZ29yaXplZCBEYXRhXG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3NhdmVUb0RhdGFiYXNlfVxuICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3NhdmVMb2FkaW5nIHx8IHNhdmVTdWNjZXNzfVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgcHgtMyBweS0xIHRleHQtd2hpdGUgdGV4dC1zbSByb3VuZGVkIHRyYW5zaXRpb24tY29sb3JzICR7XG4gICAgICAgICAgICAgICAgICAgIHNhdmVTdWNjZXNzIFxuICAgICAgICAgICAgICAgICAgICAgID8gJ2JnLWdyZWVuLTYwMCBob3ZlcjpiZy1ncmVlbi03MDAnIFxuICAgICAgICAgICAgICAgICAgICAgIDogc2F2ZUxvYWRpbmcgXG4gICAgICAgICAgICAgICAgICAgICAgICA/ICdiZy1ncmF5LTQwMCBjdXJzb3Itbm90LWFsbG93ZWQnXG4gICAgICAgICAgICAgICAgICAgICAgICA6ICdiZy1ibHVlLTYwMCBob3ZlcjpiZy1ibHVlLTcwMCdcbiAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIHtzYXZlTG9hZGluZyA/ICdTYXZpbmcuLi4nIDogc2F2ZVN1Y2Nlc3MgPyAnU2F2ZWQg4pyTJyA6ICdTYXZlIHRvIERhdGFiYXNlJ31cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG5cbiAgICAgIHtjYXRlZ29yaXplZE91dHB1dCAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNiBib3JkZXItdCBwdC02XCI+XG4gICAgICAgICAge3NhdmVTdWNjZXNzICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC00IGJnLWdyZWVuLTUwIGJvcmRlciBib3JkZXItZ3JlZW4tMjAwIHRleHQtZ3JlZW4tNzAwIHB4LTQgcHktMyByb3VuZGVkXCI+XG4gICAgICAgICAgPHN0cm9uZz5TdWNjZXNzITwvc3Ryb25nPiBCYW5rIHN0YXRlbWVudCBkYXRhIGhhcyBiZWVuIHNhdmVkIHRvIHlvdXIgZGF0YWJhc2UuXG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LXNlbWlib2xkIG1iLTMgbXQtMyB0ZXh0LWluZGlnby04MDBcIj5GaW5hbmNpYWwgSW5zaWdodHM8L2gzPlxuICAgICAgICAgIDxidXR0b24gb25DbGljaz17aGFuZGxlQWlBbmFseXNpc30gZGlzYWJsZWQ9e2FpTG9hZGluZ30gY2xhc3NOYW1lPVwicHgtNCBweS0yIGJnLWluZGlnby02MDAgdGV4dC13aGl0ZSBmb250LXNlbWlib2xkIHJvdW5kZWQtbGcgc2hhZG93LXNtIGhvdmVyOmJnLWluZGlnby03MDAgZGlzYWJsZWQ6YmctaW5kaWdvLTMwMCBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWQgdHJhbnNpdGlvbi1jb2xvcnNcIiA+XG4gICAgICAgICAgICB7YWlMb2FkaW5nID8gJ0FuYWx5emluZy4uLicgOiAnQW5hbHl6ZSB3aXRoIFdhdHNvbnggQUknfVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIHthaUxvYWRpbmcgJiYgKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTQgZmxleCBpdGVtcy1jZW50ZXIgdGV4dC1ncmF5LTYwMFwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYW5pbWF0ZS1zcGluIHJvdW5kZWQtZnVsbCBoLTUgdy01IGJvcmRlci1iLTIgYm9yZGVyLWluZGlnby02MDAgbXItM1wiPjwvZGl2PlxuICAgICAgICAgICAgICAgIDxzcGFuPkNvbnRhY3RpbmcgV2F0c29ueC5haSBmb3IgaW5zaWdodHMuLi4gUGxlYXNlIHdhaXQuPC9zcGFuPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICAgIHthaUVycm9yICYmIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNCBiZy1yZWQtNTAgYm9yZGVyIGJvcmRlci1yZWQtMjAwIHRleHQtcmVkLTcwMCBweC00IHB5LTMgcm91bmRlZFwiPlxuICAgICAgICAgICAgICA8c3Ryb25nPkVycm9yOjwvc3Ryb25nPiB7YWlFcnJvcn1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgICAge2FpQW5hbHlzaXMgJiYgKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC00IHAtNCBib3JkZXIgYm9yZGVyLWluZGlnby0yMDAgcm91bmRlZC1sZyBiZy1pbmRpZ28tNTBcIj5cbiAgICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cInRleHQtbWQgZm9udC1zZW1pYm9sZCBtYi0yIHRleHQtaW5kaWdvLTkwMFwiPkFJIEZpbmFuY2lhbCBTdW1tYXJ5OjwvaDQ+XG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTgwMCB3aGl0ZXNwYWNlLXByZS13cmFwXCI+e2FpQW5hbHlzaXN9PC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuXG4gICAgICB7Lyog4pyFIE5ldyBJbnN0cnVjdGlvbnMgU2VjdGlvbiAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNSBtdC03IHAtNCBib3JkZXIgYm9yZGVyLXBpbmstMjAwIGJnLXBpbmstNTAgcm91bmRlZC1sZ1wiPlxuICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LXNlbWlib2xkIHRleHQtcGluay04MDAgbWItMlwiPkluc3RydWN0aW9uczwvaDI+XG4gICAgICAgIDx1bCBjbGFzc05hbWU9XCJsaXN0LWRpc2MgbGlzdC1pbnNpZGUgdGV4dC1zbSB0ZXh0LWdyYXktNzAwIHNwYWNlLXktMVwiPlxuICAgICAgICAgIDxsaT5TZWxlY3QgeW91ciBiYW5rIGJlZm9yZSB1cGxvYWRpbmcgYSBQREYgc3RhdGVtZW50LjwvbGk+XG4gICAgICAgICAgPGxpPklmIHlvdXIgUERGIGlzIGltYWdlLWJhc2VkLCBlbmFibGUgPHN0cm9uZz5PQ1IgTW9kZTwvc3Ryb25nPiBmb3IgYmV0dGVyIHJlc3VsdHMuPC9saT5cbiAgICAgICAgICA8bGk+QWZ0ZXIgdXBsb2FkaW5nLCB0aGUgc3lzdGVtIHdpbGwgZXh0cmFjdCwgY2xlYW4sIGFuZCBjYXRlZ29yaXplIHRyYW5zYWN0aW9ucyBhdXRvbWF0aWNhbGx5LjwvbGk+XG4gICAgICAgICAgPGxpPllvdSBjYW4gcmV2aWV3IHJhdyBPQ1IgdGV4dCBhbmQgY2F0ZWdvcml6ZWQgdHJhbnNhY3Rpb25zIGluIHRoZSBwYW5lbHMgYmVsb3cuPC9saT5cbiAgICAgICAgICA8bGk+T25jZSBzYXRpc2ZpZWQsIGNsaWNrIDxzdHJvbmc+U2F2ZSB0byBEYXRhYmFzZTwvc3Ryb25nPiB0byBzdG9yZSB0aGUgdHJhbnNhY3Rpb25zLjwvbGk+XG4gICAgICAgICAgPGxpPk9wdGlvbmFsbHksIGdlbmVyYXRlIGFuIDxzdHJvbmc+QUktcG93ZXJlZCBmaW5hbmNpYWwgYW5hbHlzaXM8L3N0cm9uZz4gZm9yIGRlZXBlciBpbnNpZ2h0cy48L2xpPlxuICAgICAgICA8L3VsPlxuICAgICAgPC9kaXY+XG5cbiAgICAgIFxuICAgIDwvZGl2PlxuICApO1xufSJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsImdldFBhcnNlciIsIlNVUFBPUlRFRF9CQU5LUyIsIkRFRkFVTFRfQkFOSyIsInN1cGFiYXNlIiwiVGVzc2VyYWN0IiwicGRmanNMaWIiLCJ1cGRhdGVCYW5rRGF0YSIsIkdsb2JhbFdvcmtlck9wdGlvbnMiLCJ3b3JrZXJTcmMiLCJ2ZXJzaW9uIiwiT0NSQmFua1N0YXRlbWVudFJlYWRlciIsIm9uUHJvY2Vzc0NvbXBsZXRlIiwiZmlsZSIsInNldEZpbGUiLCJzZWxlY3RlZEJhbmsiLCJzZXRTZWxlY3RlZEJhbmsiLCJsb2FkaW5nIiwic2V0TG9hZGluZyIsImVycm9yIiwic2V0RXJyb3IiLCJvY3JQcm9ncmVzcyIsInNldE9jclByb2dyZXNzIiwidXNlT0NSIiwic2V0VXNlT0NSIiwib2NyT3V0cHV0Iiwic2V0T2NyT3V0cHV0IiwiY2xlYW5lZE91dHB1dCIsInNldENsZWFuZWRPdXRwdXQiLCJzaW1wbGlmaWVkT3V0cHV0Iiwic2V0U2ltcGxpZmllZE91dHB1dCIsImNhdGVnb3JpemVkT3V0cHV0Iiwic2V0Q2F0ZWdvcml6ZWRPdXRwdXQiLCJhaUFuYWx5c2lzIiwic2V0QWlBbmFseXNpcyIsImFpTG9hZGluZyIsInNldEFpTG9hZGluZyIsImFpRXJyb3IiLCJzZXRBaUVycm9yIiwic2F2ZUxvYWRpbmciLCJzZXRTYXZlTG9hZGluZyIsInNhdmVTdWNjZXNzIiwic2V0U2F2ZVN1Y2Nlc3MiLCJwYXJzZUNhdGVnb3JpemVkRGF0YSIsImNhdGVnb3JpemVkVGV4dCIsInRyYW5zYWN0aW9ucyIsImxpbmVzIiwic3BsaXQiLCJjb25zb2xlIiwibG9nIiwibGVuZ3RoIiwibGluZSIsInRyaW1tZWRMaW5lIiwidHJpbSIsInN0YXJ0c1dpdGgiLCJpbmNsdWRlcyIsInBhcnRzIiwibWFwIiwicGFydCIsImRhdGVTdHIiLCJkZXNjcmlwdGlvbiIsImFtb3VudFN0ciIsInRyYW5zYWN0aW9uVHlwZSIsInBhcnNlZERhdGUiLCJkYXRlTWF0Y2giLCJtYXRjaCIsImRheSIsIm1vbnRoIiwieWVhciIsInBhcnNlSW50IiwiRGF0ZSIsInBhZFN0YXJ0IiwidG9JU09TdHJpbmciLCJlIiwiY2xlYW5BbW91bnQiLCJyZXBsYWNlIiwibnVtZXJpY0Ftb3VudCIsInBhcnNlRmxvYXQiLCJpc05hTiIsInRvVXBwZXJDYXNlIiwiTWF0aCIsImFicyIsInRyYW5zYWN0aW9uIiwiZGF0ZSIsImFtb3VudCIsImNhdGVnb3J5IiwiYmFuayIsInJhd190ZXh0IiwicHVzaCIsImFtb3VudE1hdGNoIiwic2F2ZVRvRGF0YWJhc2UiLCJFcnJvciIsInRyYW5zYWN0aW9uc1RvSW5zZXJ0IiwicmVjZWl2ZXJfc2VuZGVyIiwidHJhbnNhY3Rpb25fdHlwZSIsImZyb20iLCJpbnNlcnQiLCJlcnIiLCJtZXNzYWdlIiwiY29udmVydFBERlRvSW1hZ2VzIiwiYXJyYXlCdWZmZXIiLCJwZGYiLCJnZXREb2N1bWVudCIsInByb21pc2UiLCJpbWFnZXMiLCJpIiwibnVtUGFnZXMiLCJwYWdlIiwiZ2V0UGFnZSIsInNjYWxlIiwidmlld3BvcnQiLCJnZXRWaWV3cG9ydCIsImNhbnZhcyIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImNvbnRleHQiLCJnZXRDb250ZXh0IiwiaGVpZ2h0Iiwid2lkdGgiLCJyZW5kZXIiLCJjYW52YXNDb250ZXh0IiwiaW1hZ2VEYXRhIiwidG9EYXRhVVJMIiwicGVyZm9ybU9DUiIsImZ1bGxUZXh0IiwiZGF0YSIsInRleHQiLCJyZWNvZ25pemUiLCJsb2dnZXIiLCJtIiwic3RhdHVzIiwicm91bmQiLCJwcm9ncmVzcyIsInRlc3NlZGl0X3BhZ2VzZWdfbW9kZSIsInByZXNlcnZlX2ludGVyd29yZF9zcGFjZXMiLCJleHRyYWN0VGV4dEZyb21QREYiLCJ0ZXh0Q29udGVudCIsImdldFRleHRDb250ZW50IiwicGFnZVRleHQiLCJpdGVtcyIsIml0ZW0iLCJzdHIiLCJqb2luIiwiaGFuZGxlRmlsZVVwbG9hZCIsImV2ZW50IiwidXBsb2FkZWRGaWxlIiwidGFyZ2V0IiwiZmlsZXMiLCJ0eXBlIiwicGFyc2VyIiwiZXh0cmFjdGVkVGV4dCIsImNsZWFuZWQiLCJjbGVhbk9DUk91dHB1dCIsInNpbXBsaWZpZWQiLCJjbGVhbk9DUk91dHB1dFNpbXBsaWZpZWQiLCJjYXRlZ29yaXplZCIsImNhdGVnb3JpemVUcmFuc2FjdGlvbnMiLCJuYW1lIiwiaGFuZGxlQmFua1NlbGVjdGlvbiIsImJhbmtDb2RlIiwiaGFuZGxlQWlBbmFseXNpcyIsInJlc3BvbnNlIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJjYXRlZ29yaXplZERhdGEiLCJqc29uIiwib2siLCJkZXRhaWxzIiwiYW5hbHlzaXMiLCJkaXYiLCJjbGFzc05hbWUiLCJoMSIsImgyIiwiT2JqZWN0IiwiZW50cmllcyIsImNvZGUiLCJvbkNsaWNrIiwiaDMiLCJwIiwic3BhbiIsImxhYmVsIiwiaW5wdXQiLCJjaGVja2VkIiwib25DaGFuZ2UiLCJzdmciLCJmaWxsIiwic3Ryb2tlIiwidmlld0JveCIsInBhdGgiLCJzdHJva2VMaW5lY2FwIiwic3Ryb2tlTGluZWpvaW4iLCJzdHJva2VXaWR0aCIsImQiLCJhY2NlcHQiLCJkaXNhYmxlZCIsInRleHRhcmVhIiwidmFsdWUiLCJyZWFkT25seSIsImJ1dHRvbiIsIm5hdmlnYXRvciIsImNsaXBib2FyZCIsIndyaXRlVGV4dCIsInN0cm9uZyIsImg0IiwidWwiLCJsaSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./components/OCRBankStatementReader.js\n");

/***/ }),

/***/ "./components/chatBot.js":
/*!*******************************!*\
  !*** ./components/chatBot.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ChatBot)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_dataStore__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/dataStore */ \"./lib/dataStore.js\");\n// components/ChatBot.js - Updated to handle async data loading\n\n\n\nfunction ChatBot() {\n    const [messages, setMessages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([\n        {\n            role: \"assistant\",\n            content: \"Hello! I'm your financial assistant. Upload your documents first (Bank Statement, P&L, GST Return), then ask me questions about your financial data.\",\n            timestamp: new Date()\n        }\n    ]);\n    const [input, setInput] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [dataStoreState, setDataStoreState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        gstOCROutput: null,\n        categorizedOutput: null,\n        pnlOCROutput: null\n    });\n    const messagesEndRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const scrollToBottom = ()=>{\n        messagesEndRef.current?.scrollIntoView({\n            behavior: \"smooth\"\n        });\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        scrollToBottom();\n    }, [\n        messages\n    ]);\n    // Load data on component mount and refresh periodically\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const loadData = async ()=>{\n            try {\n                const data = await (0,_lib_dataStore__WEBPACK_IMPORTED_MODULE_2__.refreshDataFromDatabase)();\n                setDataStoreState(data);\n            } catch (error) {\n                console.error(\"Failed to load data:\", error);\n            }\n        };\n        loadData();\n        // Refresh data every 30 seconds\n        const interval = setInterval(loadData, 30000);\n        return ()=>clearInterval(interval);\n    }, []);\n    const sendMessage = async ()=>{\n        if (!input.trim() || loading) return;\n        const userMessage = {\n            role: \"user\",\n            content: input,\n            timestamp: new Date()\n        };\n        setMessages((prev)=>[\n                ...prev,\n                userMessage\n            ]);\n        setInput(\"\");\n        setLoading(true);\n        setError(\"\");\n        try {\n            const response = await fetch(\"/api/chat\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    message: input\n                })\n            });\n            const data = await response.json();\n            if (!response.ok) {\n                throw new Error(data.error || \"Failed to get response\");\n            }\n            const assistantMessage = {\n                role: \"assistant\",\n                content: data.reply,\n                timestamp: new Date()\n            };\n            setMessages((prev)=>[\n                    ...prev,\n                    assistantMessage\n                ]);\n        } catch (err) {\n            setError(err.message);\n            console.error(\"Chat error:\", err);\n        } finally{\n            setLoading(false);\n        }\n    };\n    const handleKeyPress = (e)=>{\n        if (e.key === \"Enter\" && !e.shiftKey) {\n            e.preventDefault();\n            sendMessage();\n        }\n    };\n    const clearChat = ()=>{\n        setMessages([\n            {\n                role: \"assistant\",\n                content: \"Chat cleared. How can I help you with your financial data?\",\n                timestamp: new Date()\n            }\n        ]);\n        setError(\"\");\n    };\n    const handleRefreshData = async ()=>{\n        try {\n            const data = await (0,_lib_dataStore__WEBPACK_IMPORTED_MODULE_2__.refreshDataFromDatabase)();\n            setDataStoreState(data);\n        } catch (error) {\n            console.error(\"Failed to refresh data:\", error);\n        }\n    };\n    // Check what data is available from state\n    const availableData = [\n        dataStoreState.gstOCROutput && \"GST Return\",\n        dataStoreState.categorizedOutput && \"Bank Statement\",\n        dataStoreState.pnlOCROutput && \"P&L Data\"\n    ].filter(Boolean);\n    const formatTime = (date)=>{\n        return date.toLocaleTimeString(\"en-US\", {\n            hour: \"2-digit\",\n            minute: \"2-digit\"\n        });\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"bg-white rounded-xl shadow-lg border border-gray-200 max-w-4xl mx-auto flex flex-col h-[600px]\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"bg-gradient-to-r from-blue-600 to-indigo-700 text-white p-4 rounded-t-xl flex-shrink-0\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center justify-between\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center gap-3\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                            className: \"w-6 h-6\",\n                                            fill: \"none\",\n                                            stroke: \"currentColor\",\n                                            viewBox: \"0 0 24 24\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                strokeLinecap: \"round\",\n                                                strokeLinejoin: \"round\",\n                                                strokeWidth: 2,\n                                                d: \"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/chatBot.js\",\n                                                lineNumber: 140,\n                                                columnNumber: 17\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/chatBot.js\",\n                                            lineNumber: 139,\n                                            columnNumber: 15\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/chatBot.js\",\n                                        lineNumber: 138,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                                className: \"text-lg font-semibold\",\n                                                children: \"Financial Assistant\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/chatBot.js\",\n                                                lineNumber: 144,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-blue-100 text-sm\",\n                                                children: \"AI-powered financial analysis\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/chatBot.js\",\n                                                lineNumber: 145,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/chatBot.js\",\n                                        lineNumber: 143,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/chatBot.js\",\n                                lineNumber: 137,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex gap-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: handleRefreshData,\n                                        className: \"px-3 py-1 bg-green-500/20 hover:bg-green-500/30 rounded-lg text-sm transition-colors\",\n                                        title: \"Refresh data from database\",\n                                        children: \"\\uD83D\\uDD04 Refresh\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/chatBot.js\",\n                                        lineNumber: 149,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: clearChat,\n                                        className: \"px-3 py-1 bg-white/20 hover:bg-white/30 rounded-lg text-sm transition-colors\",\n                                        children: \"Clear Chat\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/chatBot.js\",\n                                        lineNumber: 156,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/chatBot.js\",\n                                lineNumber: 148,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/chatBot.js\",\n                        lineNumber: 136,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex flex-wrap gap-2 mt-3\",\n                        children: availableData.length > 0 ? availableData.map((dataType)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"px-2 py-1 bg-green-500/20 text-green-100 text-xs rounded-full border border-green-400/30\",\n                                children: [\n                                    \" \",\n                                    dataType\n                                ]\n                            }, dataType, true, {\n                                fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/chatBot.js\",\n                                lineNumber: 169,\n                                columnNumber: 15\n                            }, this)) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            className: \"px-3 py-1 bg-yellow-500/20 text-yellow-100 text-xs rounded-full border border-yellow-400/30\",\n                            children: \"Upload documents to get started\"\n                        }, void 0, false, {\n                            fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/chatBot.js\",\n                            lineNumber: 174,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/chatBot.js\",\n                        lineNumber: 166,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mt-2 text-xs text-blue-100\",\n                        children: [\n                            \"Data Store Status: Bank(\",\n                            !!dataStoreState.categorizedOutput ? \"\" : \"\",\n                            \") | GST(\",\n                            !!dataStoreState.gstOCROutput ? \"\" : \"\",\n                            \") | P&L(\",\n                            !!dataStoreState.pnlOCROutput ? \"\" : \"\",\n                            \")\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/chatBot.js\",\n                        lineNumber: 181,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/chatBot.js\",\n                lineNumber: 135,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50\",\n                children: [\n                    messages.map((message, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: `flex ${message.role === \"user\" ? \"justify-end\" : \"justify-start\"}`,\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: `max-w-xs lg:max-w-md px-4 py-3 rounded-2xl shadow-sm ${message.role === \"user\" ? \"bg-blue-600 text-white rounded-br-md\" : \"bg-white text-gray-800 rounded-bl-md border border-gray-200\"}`,\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-sm whitespace-pre-wrap\",\n                                        children: message.content\n                                    }, void 0, false, {\n                                        fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/chatBot.js\",\n                                        lineNumber: 197,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: `text-xs mt-1 ${message.role === \"user\" ? \"text-blue-100\" : \"text-gray-400\"}`,\n                                        children: formatTime(message.timestamp)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/chatBot.js\",\n                                        lineNumber: 198,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/chatBot.js\",\n                                lineNumber: 192,\n                                columnNumber: 13\n                            }, this)\n                        }, index, false, {\n                            fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/chatBot.js\",\n                            lineNumber: 191,\n                            columnNumber: 11\n                        }, this)),\n                    loading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex justify-start\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"bg-white border border-gray-200 rounded-2xl rounded-bl-md px-4 py-3 shadow-sm\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center space-x-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex space-x-1\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"w-2 h-2 bg-gray-400 rounded-full animate-bounce\",\n                                                style: {\n                                                    animationDelay: \"0ms\"\n                                                }\n                                            }, void 0, false, {\n                                                fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/chatBot.js\",\n                                                lineNumber: 210,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"w-2 h-2 bg-gray-400 rounded-full animate-bounce\",\n                                                style: {\n                                                    animationDelay: \"150ms\"\n                                                }\n                                            }, void 0, false, {\n                                                fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/chatBot.js\",\n                                                lineNumber: 211,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"w-2 h-2 bg-gray-400 rounded-full animate-bounce\",\n                                                style: {\n                                                    animationDelay: \"300ms\"\n                                                }\n                                            }, void 0, false, {\n                                                fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/chatBot.js\",\n                                                lineNumber: 212,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/chatBot.js\",\n                                        lineNumber: 209,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-gray-500 text-sm\",\n                                        children: \"Analyzing...\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/chatBot.js\",\n                                        lineNumber: 214,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/chatBot.js\",\n                                lineNumber: 208,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/chatBot.js\",\n                            lineNumber: 207,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/chatBot.js\",\n                        lineNumber: 206,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        ref: messagesEndRef\n                    }, void 0, false, {\n                        fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/chatBot.js\",\n                        lineNumber: 219,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/chatBot.js\",\n                lineNumber: 189,\n                columnNumber: 7\n            }, this),\n            error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"px-4 py-2 bg-red-50 border-t border-red-200\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    className: \"text-red-700 text-sm\",\n                    children: [\n                        \"Error: \",\n                        error\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/chatBot.js\",\n                    lineNumber: 225,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/chatBot.js\",\n                lineNumber: 224,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"border-t border-gray-200 p-4 bg-white rounded-b-xl flex-shrink-0\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex space-x-3\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex-1\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                                    value: input,\n                                    onChange: (e)=>setInput(e.target.value),\n                                    onKeyPress: handleKeyPress,\n                                    placeholder: \"Ask about cash flow, expenses, revenue trends...\",\n                                    className: \"w-full px-4 py-2 border border-gray-300 rounded-lg resize-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm\",\n                                    rows: \"2\",\n                                    disabled: loading\n                                }, void 0, false, {\n                                    fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/chatBot.js\",\n                                    lineNumber: 233,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/chatBot.js\",\n                                lineNumber: 232,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: sendMessage,\n                                disabled: loading || !input.trim(),\n                                className: \"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors flex items-center justify-center min-w-[60px]\",\n                                children: loading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/chatBot.js\",\n                                    lineNumber: 249,\n                                    columnNumber: 15\n                                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                    className: \"w-4 h-4\",\n                                    fill: \"none\",\n                                    stroke: \"currentColor\",\n                                    viewBox: \"0 0 24 24\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                        strokeLinecap: \"round\",\n                                        strokeLinejoin: \"round\",\n                                        strokeWidth: 2,\n                                        d: \"M12 19l9 2-9-18-9 18 9-2zm0 0v-8\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/chatBot.js\",\n                                        lineNumber: 252,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/chatBot.js\",\n                                    lineNumber: 251,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/chatBot.js\",\n                                lineNumber: 243,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/chatBot.js\",\n                        lineNumber: 231,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mt-2 flex flex-wrap gap-1\",\n                        children: [\n                            \"What is my cash flow trend?\",\n                            \"Analyze my expenses\",\n                            \"Show GST summary\",\n                            \"Revenue analysis\"\n                        ].map((suggestion)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: ()=>setInput(suggestion),\n                                disabled: loading,\n                                className: \"px-2 py-1 text-xs bg-gray-100 text-gray-600 rounded hover:bg-gray-200 transition-colors disabled:opacity-50\",\n                                children: suggestion\n                            }, suggestion, false, {\n                                fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/chatBot.js\",\n                                lineNumber: 266,\n                                columnNumber: 13\n                            }, this))\n                    }, void 0, false, {\n                        fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/chatBot.js\",\n                        lineNumber: 259,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/chatBot.js\",\n                lineNumber: 230,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/chatBot.js\",\n        lineNumber: 133,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RCxDQUFDZ0IsR0FBRyxDQUFDLENBQUNlLDJCQUNMLDhEQUFDbkI7Z0NBRUNDLFNBQVMsSUFBTXBFLFNBQVNzRjtnQ0FDeEJELFVBQVVwRjtnQ0FDVnNELFdBQVU7MENBRVQrQjsrQkFMSUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFZbkIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iYW5rLXN0YXRlbWVudC1yZWFkZXIvLi9jb21wb25lbnRzL2NoYXRCb3QuanM/MjI4OCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBjb21wb25lbnRzL0NoYXRCb3QuanMgLSBVcGRhdGVkIHRvIGhhbmRsZSBhc3luYyBkYXRhIGxvYWRpbmdcbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGdldERhdGFTdG9yZSwgcmVmcmVzaERhdGFGcm9tRGF0YWJhc2UgfSBmcm9tICcuLi9saWIvZGF0YVN0b3JlJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ2hhdEJvdCgpIHtcbiAgY29uc3QgW21lc3NhZ2VzLCBzZXRNZXNzYWdlc10gPSB1c2VTdGF0ZShbXG4gICAgeyBcbiAgICAgIHJvbGU6ICdhc3Npc3RhbnQnLCBcbiAgICAgIGNvbnRlbnQ6ICdIZWxsbyEgSVxcJ20geW91ciBmaW5hbmNpYWwgYXNzaXN0YW50LiBVcGxvYWQgeW91ciBkb2N1bWVudHMgZmlyc3QgKEJhbmsgU3RhdGVtZW50LCBQJkwsIEdTVCBSZXR1cm4pLCB0aGVuIGFzayBtZSBxdWVzdGlvbnMgYWJvdXQgeW91ciBmaW5hbmNpYWwgZGF0YS4nLFxuICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpXG4gICAgfVxuICBdKTtcbiAgY29uc3QgW2lucHV0LCBzZXRJbnB1dF0gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IFtkYXRhU3RvcmVTdGF0ZSwgc2V0RGF0YVN0b3JlU3RhdGVdID0gdXNlU3RhdGUoe1xuICAgIGdzdE9DUk91dHB1dDogbnVsbCxcbiAgICBjYXRlZ29yaXplZE91dHB1dDogbnVsbCxcbiAgICBwbmxPQ1JPdXRwdXQ6IG51bGxcbiAgfSk7XG4gIGNvbnN0IG1lc3NhZ2VzRW5kUmVmID0gdXNlUmVmKG51bGwpO1xuXG4gIGNvbnN0IHNjcm9sbFRvQm90dG9tID0gKCkgPT4ge1xuICAgIG1lc3NhZ2VzRW5kUmVmLmN1cnJlbnQ/LnNjcm9sbEludG9WaWV3KHsgYmVoYXZpb3I6IFwic21vb3RoXCIgfSk7XG4gIH07XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBzY3JvbGxUb0JvdHRvbSgpO1xuICB9LCBbbWVzc2FnZXNdKTtcblxuICAvLyBMb2FkIGRhdGEgb24gY29tcG9uZW50IG1vdW50IGFuZCByZWZyZXNoIHBlcmlvZGljYWxseVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGxvYWREYXRhID0gYXN5bmMgKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlZnJlc2hEYXRhRnJvbURhdGFiYXNlKCk7XG4gICAgICAgIHNldERhdGFTdG9yZVN0YXRlKGRhdGEpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGxvYWQgZGF0YTonLCBlcnJvcik7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGxvYWREYXRhKCk7XG4gICAgXG4gICAgLy8gUmVmcmVzaCBkYXRhIGV2ZXJ5IDMwIHNlY29uZHNcbiAgICBjb25zdCBpbnRlcnZhbCA9IHNldEludGVydmFsKGxvYWREYXRhLCAzMDAwMCk7XG4gICAgcmV0dXJuICgpID0+IGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xuICB9LCBbXSk7XG5cbiAgY29uc3Qgc2VuZE1lc3NhZ2UgPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKCFpbnB1dC50cmltKCkgfHwgbG9hZGluZykgcmV0dXJuO1xuXG4gICAgY29uc3QgdXNlck1lc3NhZ2UgPSB7IFxuICAgICAgcm9sZTogJ3VzZXInLCBcbiAgICAgIGNvbnRlbnQ6IGlucHV0LFxuICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpXG4gICAgfTtcbiAgICBcbiAgICBzZXRNZXNzYWdlcyhwcmV2ID0+IFsuLi5wcmV2LCB1c2VyTWVzc2FnZV0pO1xuICAgIHNldElucHV0KCcnKTtcbiAgICBzZXRMb2FkaW5nKHRydWUpO1xuICAgIHNldEVycm9yKCcnKTtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL2NoYXQnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBtZXNzYWdlOiBpbnB1dCB9KSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihkYXRhLmVycm9yIHx8ICdGYWlsZWQgdG8gZ2V0IHJlc3BvbnNlJyk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGFzc2lzdGFudE1lc3NhZ2UgPSB7IFxuICAgICAgICByb2xlOiAnYXNzaXN0YW50JywgXG4gICAgICAgIGNvbnRlbnQ6IGRhdGEucmVwbHksXG4gICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKVxuICAgICAgfTtcbiAgICAgIFxuICAgICAgc2V0TWVzc2FnZXMocHJldiA9PiBbLi4ucHJldiwgYXNzaXN0YW50TWVzc2FnZV0pO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgc2V0RXJyb3IoZXJyLm1lc3NhZ2UpO1xuICAgICAgY29uc29sZS5lcnJvcignQ2hhdCBlcnJvcjonLCBlcnIpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlS2V5UHJlc3MgPSAoZSkgPT4ge1xuICAgIGlmIChlLmtleSA9PT0gJ0VudGVyJyAmJiAhZS5zaGlmdEtleSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgc2VuZE1lc3NhZ2UoKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgY2xlYXJDaGF0ID0gKCkgPT4ge1xuICAgIHNldE1lc3NhZ2VzKFtcbiAgICAgIHsgXG4gICAgICAgIHJvbGU6ICdhc3Npc3RhbnQnLCBcbiAgICAgICAgY29udGVudDogJ0NoYXQgY2xlYXJlZC4gSG93IGNhbiBJIGhlbHAgeW91IHdpdGggeW91ciBmaW5hbmNpYWwgZGF0YT8nLFxuICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKClcbiAgICAgIH1cbiAgICBdKTtcbiAgICBzZXRFcnJvcignJyk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlUmVmcmVzaERhdGEgPSBhc3luYyAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZWZyZXNoRGF0YUZyb21EYXRhYmFzZSgpO1xuICAgICAgc2V0RGF0YVN0b3JlU3RhdGUoZGF0YSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byByZWZyZXNoIGRhdGE6JywgZXJyb3IpO1xuICAgIH1cbiAgfTtcblxuICAvLyBDaGVjayB3aGF0IGRhdGEgaXMgYXZhaWxhYmxlIGZyb20gc3RhdGVcbiAgY29uc3QgYXZhaWxhYmxlRGF0YSA9IFtcbiAgICBkYXRhU3RvcmVTdGF0ZS5nc3RPQ1JPdXRwdXQgJiYgJ0dTVCBSZXR1cm4nLFxuICAgIGRhdGFTdG9yZVN0YXRlLmNhdGVnb3JpemVkT3V0cHV0ICYmICdCYW5rIFN0YXRlbWVudCcsIFxuICAgIGRhdGFTdG9yZVN0YXRlLnBubE9DUk91dHB1dCAmJiAnUCZMIERhdGEnXG4gIF0uZmlsdGVyKEJvb2xlYW4pO1xuXG4gIGNvbnN0IGZvcm1hdFRpbWUgPSAoZGF0ZSkgPT4ge1xuICAgIHJldHVybiBkYXRlLnRvTG9jYWxlVGltZVN0cmluZygnZW4tVVMnLCB7IFxuICAgICAgaG91cjogJzItZGlnaXQnLCBcbiAgICAgIG1pbnV0ZTogJzItZGlnaXQnIFxuICAgIH0pO1xuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSByb3VuZGVkLXhsIHNoYWRvdy1sZyBib3JkZXIgYm9yZGVyLWdyYXktMjAwIG1heC13LTR4bCBteC1hdXRvIGZsZXggZmxleC1jb2wgaC1bNjAwcHhdXCI+XG4gICAgICB7LyogSGVhZGVyICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1ncmFkaWVudC10by1yIGZyb20tYmx1ZS02MDAgdG8taW5kaWdvLTcwMCB0ZXh0LXdoaXRlIHAtNCByb3VuZGVkLXQteGwgZmxleC1zaHJpbmstMFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTNcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMCBoLTEwIGJnLXdoaXRlLzIwIHJvdW5kZWQtZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgICA8c3ZnIGNsYXNzTmFtZT1cInctNiBoLTZcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICAgICAgICA8cGF0aCBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlV2lkdGg9ezJ9IGQ9XCJNOSAxOXYtNmEyIDIgMCAwMC0yLTJINWEyIDIgMCAwMC0yIDJ2NmEyIDIgMCAwMDIgMmgyYTIgMiAwIDAwMi0yem0wIDBWOWEyIDIgMCAwMTItMmgyYTIgMiAwIDAxMiAydjEwbS02IDBhMiAyIDAgMDAyIDJoMmEyIDIgMCAwMDItMm0wIDBWNWEyIDIgMCAwMTItMmgyYTIgMiAwIDAxMiAydjE0YTIgMiAwIDAxLTIgMmgtMmEyIDIgMCAwMS0yLTJ6XCIgLz5cbiAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGRcIj5GaW5hbmNpYWwgQXNzaXN0YW50PC9oMj5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ibHVlLTEwMCB0ZXh0LXNtXCI+QUktcG93ZXJlZCBmaW5hbmNpYWwgYW5hbHlzaXM8L3A+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZ2FwLTJcIj5cbiAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVJlZnJlc2hEYXRhfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC0zIHB5LTEgYmctZ3JlZW4tNTAwLzIwIGhvdmVyOmJnLWdyZWVuLTUwMC8zMCByb3VuZGVkLWxnIHRleHQtc20gdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICAgICAgICB0aXRsZT1cIlJlZnJlc2ggZGF0YSBmcm9tIGRhdGFiYXNlXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAg8J+UhCBSZWZyZXNoXG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e2NsZWFyQ2hhdH1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtMyBweS0xIGJnLXdoaXRlLzIwIGhvdmVyOmJnLXdoaXRlLzMwIHJvdW5kZWQtbGcgdGV4dC1zbSB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIENsZWFyIENoYXRcbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgXG4gICAgICAgIHsvKiBEYXRhIFN0YXR1cyAqL31cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtd3JhcCBnYXAtMiBtdC0zXCI+XG4gICAgICAgICAge2F2YWlsYWJsZURhdGEubGVuZ3RoID4gMCA/IChcbiAgICAgICAgICAgIGF2YWlsYWJsZURhdGEubWFwKGRhdGFUeXBlID0+IChcbiAgICAgICAgICAgICAgPHNwYW4ga2V5PXtkYXRhVHlwZX0gY2xhc3NOYW1lPVwicHgtMiBweS0xIGJnLWdyZWVuLTUwMC8yMCB0ZXh0LWdyZWVuLTEwMCB0ZXh0LXhzIHJvdW5kZWQtZnVsbCBib3JkZXIgYm9yZGVyLWdyZWVuLTQwMC8zMFwiPlxuICAgICAgICAgICAgICAgIOKckyB7ZGF0YVR5cGV9XG4gICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICkpXG4gICAgICAgICAgKSA6IChcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInB4LTMgcHktMSBiZy15ZWxsb3ctNTAwLzIwIHRleHQteWVsbG93LTEwMCB0ZXh0LXhzIHJvdW5kZWQtZnVsbCBib3JkZXIgYm9yZGVyLXllbGxvdy00MDAvMzBcIj5cbiAgICAgICAgICAgICAgVXBsb2FkIGRvY3VtZW50cyB0byBnZXQgc3RhcnRlZFxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHsvKiBEZWJ1ZyBJbmZvICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTIgdGV4dC14cyB0ZXh0LWJsdWUtMTAwXCI+XG4gICAgICAgICAgRGF0YSBTdG9yZSBTdGF0dXM6IEJhbmsoeyEhZGF0YVN0b3JlU3RhdGUuY2F0ZWdvcml6ZWRPdXRwdXQgPyAn4pyTJyA6ICfinJcnfSkgfCBcbiAgICAgICAgICBHU1QoeyEhZGF0YVN0b3JlU3RhdGUuZ3N0T0NST3V0cHV0ID8gJ+KckycgOiAn4pyXJ30pIHwgXG4gICAgICAgICAgUCZMKHshIWRhdGFTdG9yZVN0YXRlLnBubE9DUk91dHB1dCA/ICfinJMnIDogJ+Kclyd9KVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7LyogTWVzc2FnZXMgKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBvdmVyZmxvdy15LWF1dG8gcC00IHNwYWNlLXktNCBiZy1ncmF5LTUwXCI+XG4gICAgICAgIHttZXNzYWdlcy5tYXAoKG1lc3NhZ2UsIGluZGV4KSA9PiAoXG4gICAgICAgICAgPGRpdiBrZXk9e2luZGV4fSBjbGFzc05hbWU9e2BmbGV4ICR7bWVzc2FnZS5yb2xlID09PSAndXNlcicgPyAnanVzdGlmeS1lbmQnIDogJ2p1c3RpZnktc3RhcnQnfWB9PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2BtYXgtdy14cyBsZzptYXgtdy1tZCBweC00IHB5LTMgcm91bmRlZC0yeGwgc2hhZG93LXNtICR7XG4gICAgICAgICAgICAgIG1lc3NhZ2Uucm9sZSA9PT0gJ3VzZXInXG4gICAgICAgICAgICAgICAgPyAnYmctYmx1ZS02MDAgdGV4dC13aGl0ZSByb3VuZGVkLWJyLW1kJ1xuICAgICAgICAgICAgICAgIDogJ2JnLXdoaXRlIHRleHQtZ3JheS04MDAgcm91bmRlZC1ibC1tZCBib3JkZXIgYm9yZGVyLWdyYXktMjAwJ1xuICAgICAgICAgICAgfWB9PlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHdoaXRlc3BhY2UtcHJlLXdyYXBcIj57bWVzc2FnZS5jb250ZW50fTwvcD5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPXtgdGV4dC14cyBtdC0xICR7bWVzc2FnZS5yb2xlID09PSAndXNlcicgPyAndGV4dC1ibHVlLTEwMCcgOiAndGV4dC1ncmF5LTQwMCd9YH0+XG4gICAgICAgICAgICAgICAge2Zvcm1hdFRpbWUobWVzc2FnZS50aW1lc3RhbXApfVxuICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKSl9XG4gICAgICAgIFxuICAgICAgICB7bG9hZGluZyAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktc3RhcnRcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgYm9yZGVyIGJvcmRlci1ncmF5LTIwMCByb3VuZGVkLTJ4bCByb3VuZGVkLWJsLW1kIHB4LTQgcHktMyBzaGFkb3ctc21cIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggc3BhY2UteC0xXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMiBoLTIgYmctZ3JheS00MDAgcm91bmRlZC1mdWxsIGFuaW1hdGUtYm91bmNlXCIgc3R5bGU9e3thbmltYXRpb25EZWxheTogJzBtcyd9fT48L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0yIGgtMiBiZy1ncmF5LTQwMCByb3VuZGVkLWZ1bGwgYW5pbWF0ZS1ib3VuY2VcIiBzdHlsZT17e2FuaW1hdGlvbkRlbGF5OiAnMTUwbXMnfX0+PC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMiBoLTIgYmctZ3JheS00MDAgcm91bmRlZC1mdWxsIGFuaW1hdGUtYm91bmNlXCIgc3R5bGU9e3thbmltYXRpb25EZWxheTogJzMwMG1zJ319PjwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS01MDAgdGV4dC1zbVwiPkFuYWx5emluZy4uLjwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgICAgPGRpdiByZWY9e21lc3NhZ2VzRW5kUmVmfSAvPlxuICAgICAgPC9kaXY+XG5cbiAgICAgIHsvKiBFcnJvciBNZXNzYWdlICovfVxuICAgICAge2Vycm9yICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJweC00IHB5LTIgYmctcmVkLTUwIGJvcmRlci10IGJvcmRlci1yZWQtMjAwXCI+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1yZWQtNzAwIHRleHQtc21cIj5FcnJvcjoge2Vycm9yfTwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuXG4gICAgICB7LyogSW5wdXQgQXJlYSAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYm9yZGVyLXQgYm9yZGVyLWdyYXktMjAwIHAtNCBiZy13aGl0ZSByb3VuZGVkLWIteGwgZmxleC1zaHJpbmstMFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggc3BhY2UteC0zXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTFcIj5cbiAgICAgICAgICAgIDx0ZXh0YXJlYVxuICAgICAgICAgICAgICB2YWx1ZT17aW5wdXR9XG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0SW5wdXQoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICBvbktleVByZXNzPXtoYW5kbGVLZXlQcmVzc31cbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJBc2sgYWJvdXQgY2FzaCBmbG93LCBleHBlbnNlcywgcmV2ZW51ZSB0cmVuZHMuLi5cIlxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcHgtNCBweS0yIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcm91bmRlZC1sZyByZXNpemUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1ibHVlLTUwMCBmb2N1czpib3JkZXItdHJhbnNwYXJlbnQgdGV4dC1zbVwiXG4gICAgICAgICAgICAgIHJvd3M9XCIyXCJcbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e2xvYWRpbmd9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIG9uQ2xpY2s9e3NlbmRNZXNzYWdlfVxuICAgICAgICAgICAgZGlzYWJsZWQ9e2xvYWRpbmcgfHwgIWlucHV0LnRyaW0oKX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTQgcHktMiBiZy1ibHVlLTYwMCB0ZXh0LXdoaXRlIHJvdW5kZWQtbGcgaG92ZXI6YmctYmx1ZS03MDAgZGlzYWJsZWQ6YmctZ3JheS00MDAgZGlzYWJsZWQ6Y3Vyc29yLW5vdC1hbGxvd2VkIHRyYW5zaXRpb24tY29sb3JzIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIG1pbi13LVs2MHB4XVwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAge2xvYWRpbmcgPyAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy00IGgtNCBib3JkZXItMiBib3JkZXItd2hpdGUgYm9yZGVyLXQtdHJhbnNwYXJlbnQgcm91bmRlZC1mdWxsIGFuaW1hdGUtc3BpblwiPjwvZGl2PlxuICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgPHN2ZyBjbGFzc05hbWU9XCJ3LTQgaC00XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICAgICAgPHBhdGggc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZVdpZHRoPXsyfSBkPVwiTTEyIDE5bDkgMi05LTE4LTkgMTggOS0yem0wIDB2LThcIiAvPlxuICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBcbiAgICAgICAgey8qIFF1aWNrIEFjdGlvbnMgKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMiBmbGV4IGZsZXgtd3JhcCBnYXAtMVwiPlxuICAgICAgICAgIHtbXG4gICAgICAgICAgICAnV2hhdCBpcyBteSBjYXNoIGZsb3cgdHJlbmQ/JyxcbiAgICAgICAgICAgICdBbmFseXplIG15IGV4cGVuc2VzJywgXG4gICAgICAgICAgICAnU2hvdyBHU1Qgc3VtbWFyeScsXG4gICAgICAgICAgICAnUmV2ZW51ZSBhbmFseXNpcydcbiAgICAgICAgICBdLm1hcCgoc3VnZ2VzdGlvbikgPT4gKFxuICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAga2V5PXtzdWdnZXN0aW9ufVxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRJbnB1dChzdWdnZXN0aW9uKX1cbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e2xvYWRpbmd9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTIgcHktMSB0ZXh0LXhzIGJnLWdyYXktMTAwIHRleHQtZ3JheS02MDAgcm91bmRlZCBob3ZlcjpiZy1ncmF5LTIwMCB0cmFuc2l0aW9uLWNvbG9ycyBkaXNhYmxlZDpvcGFjaXR5LTUwXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge3N1Z2dlc3Rpb259XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICApKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn0iXSwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJnZXREYXRhU3RvcmUiLCJyZWZyZXNoRGF0YUZyb21EYXRhYmFzZSIsIkNoYXRCb3QiLCJtZXNzYWdlcyIsInNldE1lc3NhZ2VzIiwicm9sZSIsImNvbnRlbnQiLCJ0aW1lc3RhbXAiLCJEYXRlIiwiaW5wdXQiLCJzZXRJbnB1dCIsImxvYWRpbmciLCJzZXRMb2FkaW5nIiwiZXJyb3IiLCJzZXRFcnJvciIsImRhdGFTdG9yZVN0YXRlIiwic2V0RGF0YVN0b3JlU3RhdGUiLCJnc3RPQ1JPdXRwdXQiLCJjYXRlZ29yaXplZE91dHB1dCIsInBubE9DUk91dHB1dCIsIm1lc3NhZ2VzRW5kUmVmIiwic2Nyb2xsVG9Cb3R0b20iLCJjdXJyZW50Iiwic2Nyb2xsSW50b1ZpZXciLCJiZWhhdmlvciIsImxvYWREYXRhIiwiZGF0YSIsImNvbnNvbGUiLCJpbnRlcnZhbCIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsInNlbmRNZXNzYWdlIiwidHJpbSIsInVzZXJNZXNzYWdlIiwicHJldiIsInJlc3BvbnNlIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJtZXNzYWdlIiwianNvbiIsIm9rIiwiRXJyb3IiLCJhc3Npc3RhbnRNZXNzYWdlIiwicmVwbHkiLCJlcnIiLCJoYW5kbGVLZXlQcmVzcyIsImUiLCJrZXkiLCJzaGlmdEtleSIsInByZXZlbnREZWZhdWx0IiwiY2xlYXJDaGF0IiwiaGFuZGxlUmVmcmVzaERhdGEiLCJhdmFpbGFibGVEYXRhIiwiZmlsdGVyIiwiQm9vbGVhbiIsImZvcm1hdFRpbWUiLCJkYXRlIiwidG9Mb2NhbGVUaW1lU3RyaW5nIiwiaG91ciIsIm1pbnV0ZSIsImRpdiIsImNsYXNzTmFtZSIsInN2ZyIsImZpbGwiLCJzdHJva2UiLCJ2aWV3Qm94IiwicGF0aCIsInN0cm9rZUxpbmVjYXAiLCJzdHJva2VMaW5lam9pbiIsInN0cm9rZVdpZHRoIiwiZCIsImgyIiwicCIsImJ1dHRvbiIsIm9uQ2xpY2siLCJ0aXRsZSIsImxlbmd0aCIsIm1hcCIsImRhdGFUeXBlIiwic3BhbiIsImluZGV4Iiwic3R5bGUiLCJhbmltYXRpb25EZWxheSIsInJlZiIsInRleHRhcmVhIiwidmFsdWUiLCJvbkNoYW5nZSIsInRhcmdldCIsIm9uS2V5UHJlc3MiLCJwbGFjZWhvbGRlciIsInJvd3MiLCJkaXNhYmxlZCIsInN1Z2dlc3Rpb24iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./components/chatBot.js\n");

/***/ }),

/***/ "./components/gstReader.js":
/*!*********************************!*\
  !*** ./components/gstReader.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ GST3BDataTableReader)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_supabase__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/supabase */ \"./lib/supabase.js\");\n/* harmony import */ var tesseract_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! tesseract.js */ \"tesseract.js\");\n/* harmony import */ var tesseract_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(tesseract_js__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var pdfjs_dist__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! pdfjs-dist */ \"pdfjs-dist\");\n/* harmony import */ var pdfjs_dist__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(pdfjs_dist__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _lib_dataStore__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../lib/dataStore */ \"./lib/dataStore.js\");\n// components/GST3BDataTableReader.js\n\n\n\n\n\n\n// Setup PDF.js worker\nif (false) {}\n// --- GST3B Parser ---\nconst GST3BParser = {\n    parse: (text)=>{\n        const sections = {\n            outward_supplies: null,\n            taxable_value: null,\n            igst: null,\n            cgst: null,\n            sgst: null,\n            cess: null,\n            eligible_itc: null,\n            itc_reversed: null,\n            net_itc: null,\n            tax_payable: null,\n            tax_paid: null\n        };\n        // Normalize text for easier regex matching\n        const lowerText = text.toLowerCase();\n        // Simple regex extractions (expand as needed)\n        const getAmount = (pattern)=>{\n            const match = lowerText.match(pattern);\n            if (!match) return null;\n            const number = match[1].replace(/,/g, \"\");\n            return parseFloat(number) || null;\n        };\n        sections.taxable_value = getAmount(/taxable value[^0-9]*([\\d,]+\\.\\d{1,2})/);\n        sections.igst = getAmount(/igst[^0-9]*([\\d,]+\\.\\d{1,2})/);\n        sections.cgst = getAmount(/cgst[^0-9]*([\\d,]+\\.\\d{1,2})/);\n        sections.sgst = getAmount(/sgst[^0-9]*([\\d,]+\\.\\d{1,2})/);\n        sections.cess = getAmount(/cess[^0-9]*([\\d,]+\\.\\d{1,2})/);\n        sections.eligible_itc = getAmount(/eligible itc[^0-9]*([\\d,]+\\.\\d{1,2})/);\n        sections.net_itc = getAmount(/net itc[^0-9]*([\\d,]+\\.\\d{1,2})/);\n        sections.tax_payable = getAmount(/tax payable[^0-9]*([\\d,]+\\.\\d{1,2})/);\n        sections.tax_paid = getAmount(/tax paid[^0-9]*([\\d,]+\\.\\d{1,2})/);\n        return sections;\n    }\n};\nfunction GST3BDataTableReader({ onProcessComplete }) {\n    const [file, setFile] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [ocrProgress, setOcrProgress] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [ocrOutput, setOcrOutput] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [parsedData, setParsedData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [saveLoading, setSaveLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [saveSuccess, setSaveSuccess] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const convertPDFToImages = async (file)=>{\n        const arrayBuffer = await file.arrayBuffer();\n        const pdf = await pdfjs_dist__WEBPACK_IMPORTED_MODULE_4__.getDocument(arrayBuffer).promise;\n        const images = [];\n        for(let i = 1; i <= pdf.numPages; i++){\n            setOcrProgress(`Converting page ${i} of ${pdf.numPages}...`);\n            const page = await pdf.getPage(i);\n            const viewport = page.getViewport({\n                scale: 2.5\n            });\n            const canvas = document.createElement(\"canvas\");\n            const context = canvas.getContext(\"2d\");\n            canvas.height = viewport.height;\n            canvas.width = viewport.width;\n            await page.render({\n                canvasContext: context,\n                viewport\n            }).promise;\n            images.push(canvas.toDataURL(\"image/png\"));\n        }\n        return images;\n    };\n    const performOCR = async (images)=>{\n        let fullText = \"\";\n        for(let i = 0; i < images.length; i++){\n            setOcrProgress(`OCR page ${i + 1} of ${images.length}...`);\n            const { data: { text } } = await tesseract_js__WEBPACK_IMPORTED_MODULE_3___default().recognize(images[i], \"eng\", {\n                logger: (m)=>{\n                    if (m.status === \"recognizing text\") setOcrProgress(`Page ${i + 1}: ${Math.round(m.progress * 100)}%`);\n                }\n            });\n            fullText += `\\n${text}`;\n        }\n        return fullText;\n    };\n    const handleFileUpload = async (event)=>{\n        const uploadedFile = event.target.files[0];\n        if (!uploadedFile) return;\n        setFile(uploadedFile);\n        setLoading(true);\n        setError(\"\");\n        setOcrProgress(\"\");\n        setOcrOutput(\"\");\n        setParsedData(null);\n        setSaveSuccess(false);\n        if (onProcessComplete) onProcessComplete(false);\n        try {\n            const images = await convertPDFToImages(uploadedFile);\n            const extractedText = await performOCR(images);\n            setOcrOutput(extractedText);\n            (0,_lib_dataStore__WEBPACK_IMPORTED_MODULE_5__.updateGSTData)(extractedText);\n            setOcrProgress(\"Parsing GST-3B data...\");\n            const data = GST3BParser.parse(extractedText);\n            setParsedData(data);\n            if (Object.values(data).every((v)=>v === null)) {\n                setError(\"Could not extract GST data. OCR text may need cleanup.\");\n                if (onProcessComplete) onProcessComplete(false);\n            } else {\n                setOcrProgress(\"Parsing complete.\");\n                if (onProcessComplete) onProcessComplete(true);\n            }\n        } catch (err) {\n            setError(\"Error: \" + err.message);\n            if (onProcessComplete) onProcessComplete(false);\n        } finally{\n            setLoading(false);\n        }\n    };\n    const saveToDatabase = async ()=>{\n        if (!parsedData) return;\n        setSaveLoading(true);\n        setError(\"\");\n        try {\n            const { error } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_2__.supabase.from(\"gst3b\").insert([\n                parsedData\n            ]);\n            if (error) throw error;\n            setSaveSuccess(true);\n            if (onProcessComplete) onProcessComplete(true);\n        } catch (err) {\n            setError(\"Save failed: \" + err.message);\n        } finally{\n            setSaveLoading(false);\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"bg-white rounded-lg shadow-lg p-6\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mb-8\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center gap-3 mb-4\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center justify-center w-8 h-8 rounded-full bg-blue-600 text-white font-bold text-lg\",\n                                children: \"3\"\n                            }, void 0, false, {\n                                fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/gstReader.js\",\n                                lineNumber: 157,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                className: \"text-lg font-semibold text-gray-800\",\n                                children: \"Upload Your GST-3B Return\"\n                            }, void 0, false, {\n                                fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/gstReader.js\",\n                                lineNumber: 160,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/gstReader.js\",\n                        lineNumber: 156,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center justify-center w-full\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                            className: \"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100 transition-colors\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex flex-col items-center justify-center pt-5 pb-6\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                            className: \"w-8 h-8 mb-4 text-gray-500\",\n                                            fill: \"none\",\n                                            stroke: \"currentColor\",\n                                            viewBox: \"0 0 24 24\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                strokeLinecap: \"round\",\n                                                strokeLinejoin: \"round\",\n                                                strokeWidth: 2,\n                                                d: \"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/gstReader.js\",\n                                                lineNumber: 167,\n                                                columnNumber: 17\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/gstReader.js\",\n                                            lineNumber: 166,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"mb-2 text-sm text-gray-500\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"font-semibold\",\n                                                    children: \"Click to upload\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/gstReader.js\",\n                                                    lineNumber: 169,\n                                                    columnNumber: 57\n                                                }, this),\n                                                \" document\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/gstReader.js\",\n                                            lineNumber: 169,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-xs text-gray-500\",\n                                            children: \"PDF, PNG, JPG files\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/gstReader.js\",\n                                            lineNumber: 170,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/gstReader.js\",\n                                    lineNumber: 165,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                    type: \"file\",\n                                    className: \"hidden\",\n                                    accept: \".pdf,image/*\",\n                                    onChange: handleFileUpload,\n                                    disabled: loading\n                                }, void 0, false, {\n                                    fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/gstReader.js\",\n                                    lineNumber: 172,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/gstReader.js\",\n                            lineNumber: 164,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/gstReader.js\",\n                        lineNumber: 163,\n                        columnNumber: 9\n                    }, this),\n                    file && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mt-4 text-sm text-gray-600\",\n                        children: [\n                            \"Selected file: \",\n                            file.name\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/gstReader.js\",\n                        lineNumber: 176,\n                        columnNumber: 19\n                    }, this),\n                    loading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mt-4 flex flex-col items-center justify-center\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mb-2\"\n                            }, void 0, false, {\n                                fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/gstReader.js\",\n                                lineNumber: 177,\n                                columnNumber: 86\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"text-gray-600\",\n                                children: ocrProgress || \"Processing...\"\n                            }, void 0, false, {\n                                fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/gstReader.js\",\n                                lineNumber: 177,\n                                columnNumber: 175\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/gstReader.js\",\n                        lineNumber: 177,\n                        columnNumber: 22\n                    }, this),\n                    error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mt-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded\",\n                        children: error\n                    }, void 0, false, {\n                        fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/gstReader.js\",\n                        lineNumber: 178,\n                        columnNumber: 20\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/gstReader.js\",\n                lineNumber: 155,\n                columnNumber: 7\n            }, this),\n            parsedData && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-4 p-4 bg-gray-50 rounded border\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                        className: \"font-semibold text-gray-700\",\n                        children: \"Parsed GST-3B Data:\"\n                    }, void 0, false, {\n                        fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/gstReader.js\",\n                        lineNumber: 187,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"pre\", {\n                        className: \"text-xs mt-2\",\n                        children: JSON.stringify(parsedData, null, 2)\n                    }, void 0, false, {\n                        fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/gstReader.js\",\n                        lineNumber: 188,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: saveToDatabase,\n                        disabled: saveLoading || saveSuccess,\n                        className: `mt-3 px-4 py-2 text-white rounded ${saveSuccess ? \"bg-green-600\" : \"bg-blue-600 hover:bg-blue-700\"}`,\n                        children: saveSuccess ? \"Saved \" : saveLoading ? \"Saving...\" : \"Saved to Database\"\n                    }, void 0, false, {\n                        fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/gstReader.js\",\n                        lineNumber: 189,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/gstReader.js\",\n                lineNumber: 186,\n                columnNumber: 9\n            }, this),\n            saveSuccess && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-4 bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                        children: \"Success!\"\n                    }, void 0, false, {\n                        fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/gstReader.js\",\n                        lineNumber: 198,\n                        columnNumber: 11\n                    }, this),\n                    \" Bank statement data has been saved to your database.\"\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/gstReader.js\",\n                lineNumber: 197,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mb-6 mt-5 p-4 border border-blue-300 bg-blue-50 rounded-lg shadow-sm\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                        className: \"text-lg font-semibold text-blue-700 mb-2\",\n                        children: \"Instructions\"\n                    }, void 0, false, {\n                        fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/gstReader.js\",\n                        lineNumber: 204,\n                        columnNumber: 3\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                        className: \"list-disc list-inside text-gray-700 space-y-1\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                children: [\n                                    \"Upload your statement in \",\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"font-medium\",\n                                        children: \".pdf\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/gstReader.js\",\n                                        lineNumber: 206,\n                                        columnNumber: 34\n                                    }, this),\n                                    \" format only.\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/gstReader.js\",\n                                lineNumber: 206,\n                                columnNumber: 5\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                children: \"Ensure the document is clear and text is readable (scanned copies may not work well).\"\n                            }, void 0, false, {\n                                fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/gstReader.js\",\n                                lineNumber: 207,\n                                columnNumber: 5\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                children: \"Bank statements: Credits will be shown as positive, Debits as negative.\"\n                            }, void 0, false, {\n                                fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/gstReader.js\",\n                                lineNumber: 208,\n                                columnNumber: 5\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                children: \"PnL & GST reports should be in their respective formats.\"\n                            }, void 0, false, {\n                                fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/gstReader.js\",\n                                lineNumber: 209,\n                                columnNumber: 5\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                children: \"Once uploaded, wait a few seconds for processing before analysis.\"\n                            }, void 0, false, {\n                                fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/gstReader.js\",\n                                lineNumber: 210,\n                                columnNumber: 5\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/gstReader.js\",\n                        lineNumber: 205,\n                        columnNumber: 3\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/gstReader.js\",\n                lineNumber: 203,\n                columnNumber: 1\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/gstReader.js\",\n        lineNumber: 154,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNDLDhEQUFDb0Q7Z0JBQUlDLFdBQVU7O2tDQUNiLDhEQUFDMEI7a0NBQU87Ozs7OztvQkFBaUI7Ozs7Ozs7MEJBS25DLDhEQUFDM0I7Z0JBQUlDLFdBQVU7O2tDQUNiLDhEQUFDQzt3QkFBR0QsV0FBVTtrQ0FBMkM7Ozs7OztrQ0FDekQsOERBQUMyQjt3QkFBRzNCLFdBQVU7OzBDQUNaLDhEQUFDNEI7O29DQUFHO2tEQUF5Qiw4REFBQ2Y7d0NBQUtiLFdBQVU7a0RBQWM7Ozs7OztvQ0FBVzs7Ozs7OzswQ0FDdEUsOERBQUM0QjswQ0FBRzs7Ozs7OzBDQUNKLDhEQUFDQTswQ0FBRzs7Ozs7OzBDQUNKLDhEQUFDQTswQ0FBRzs7Ozs7OzBDQUNKLDhEQUFDQTswQ0FBRzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBUVIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iYW5rLXN0YXRlbWVudC1yZWFkZXIvLi9jb21wb25lbnRzL2dzdFJlYWRlci5qcz9iNTdiIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGNvbXBvbmVudHMvR1NUM0JEYXRhVGFibGVSZWFkZXIuanNcblxuaW1wb3J0IHsgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBzdXBhYmFzZSB9IGZyb20gJy4uL2xpYi9zdXBhYmFzZSc7XG5pbXBvcnQgVGVzc2VyYWN0IGZyb20gJ3Rlc3NlcmFjdC5qcyc7XG5pbXBvcnQgKiBhcyBwZGZqc0xpYiBmcm9tICdwZGZqcy1kaXN0JztcblxuaW1wb3J0IHsgdXBkYXRlR1NURGF0YSB9IGZyb20gJy4uL2xpYi9kYXRhU3RvcmUnO1xuXG4vLyBTZXR1cCBQREYuanMgd29ya2VyXG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgcGRmanNMaWIuR2xvYmFsV29ya2VyT3B0aW9ucy53b3JrZXJTcmMgPVxuICAgIGBodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9wZGYuanMvJHtwZGZqc0xpYi52ZXJzaW9ufS9wZGYud29ya2VyLm1pbi5qc2A7XG59XG5cbi8vIC0tLSBHU1QzQiBQYXJzZXIgLS0tXG5jb25zdCBHU1QzQlBhcnNlciA9IHtcbiAgcGFyc2U6ICh0ZXh0KSA9PiB7XG4gICAgY29uc3Qgc2VjdGlvbnMgPSB7XG4gICAgICBvdXR3YXJkX3N1cHBsaWVzOiBudWxsLFxuICAgICAgdGF4YWJsZV92YWx1ZTogbnVsbCxcbiAgICAgIGlnc3Q6IG51bGwsXG4gICAgICBjZ3N0OiBudWxsLFxuICAgICAgc2dzdDogbnVsbCxcbiAgICAgIGNlc3M6IG51bGwsXG4gICAgICBlbGlnaWJsZV9pdGM6IG51bGwsXG4gICAgICBpdGNfcmV2ZXJzZWQ6IG51bGwsXG4gICAgICBuZXRfaXRjOiBudWxsLFxuICAgICAgdGF4X3BheWFibGU6IG51bGwsXG4gICAgICB0YXhfcGFpZDogbnVsbCxcbiAgICB9O1xuXG4gICAgLy8gTm9ybWFsaXplIHRleHQgZm9yIGVhc2llciByZWdleCBtYXRjaGluZ1xuICAgIGNvbnN0IGxvd2VyVGV4dCA9IHRleHQudG9Mb3dlckNhc2UoKTtcblxuICAgIC8vIFNpbXBsZSByZWdleCBleHRyYWN0aW9ucyAoZXhwYW5kIGFzIG5lZWRlZClcbiAgICBjb25zdCBnZXRBbW91bnQgPSAocGF0dGVybikgPT4ge1xuICAgICAgY29uc3QgbWF0Y2ggPSBsb3dlclRleHQubWF0Y2gocGF0dGVybik7XG4gICAgICBpZiAoIW1hdGNoKSByZXR1cm4gbnVsbDtcbiAgICAgIGNvbnN0IG51bWJlciA9IG1hdGNoWzFdLnJlcGxhY2UoLywvZywgJycpO1xuICAgICAgcmV0dXJuIHBhcnNlRmxvYXQobnVtYmVyKSB8fCBudWxsO1xuICAgIH07XG5cbiAgICBzZWN0aW9ucy50YXhhYmxlX3ZhbHVlID0gZ2V0QW1vdW50KC90YXhhYmxlIHZhbHVlW14wLTldKihbXFxkLF0rXFwuXFxkezEsMn0pLyk7XG4gICAgc2VjdGlvbnMuaWdzdCA9IGdldEFtb3VudCgvaWdzdFteMC05XSooW1xcZCxdK1xcLlxcZHsxLDJ9KS8pO1xuICAgIHNlY3Rpb25zLmNnc3QgPSBnZXRBbW91bnQoL2Nnc3RbXjAtOV0qKFtcXGQsXStcXC5cXGR7MSwyfSkvKTtcbiAgICBzZWN0aW9ucy5zZ3N0ID0gZ2V0QW1vdW50KC9zZ3N0W14wLTldKihbXFxkLF0rXFwuXFxkezEsMn0pLyk7XG4gICAgc2VjdGlvbnMuY2VzcyA9IGdldEFtb3VudCgvY2Vzc1teMC05XSooW1xcZCxdK1xcLlxcZHsxLDJ9KS8pO1xuICAgIHNlY3Rpb25zLmVsaWdpYmxlX2l0YyA9IGdldEFtb3VudCgvZWxpZ2libGUgaXRjW14wLTldKihbXFxkLF0rXFwuXFxkezEsMn0pLyk7XG4gICAgc2VjdGlvbnMubmV0X2l0YyA9IGdldEFtb3VudCgvbmV0IGl0Y1teMC05XSooW1xcZCxdK1xcLlxcZHsxLDJ9KS8pO1xuICAgIHNlY3Rpb25zLnRheF9wYXlhYmxlID0gZ2V0QW1vdW50KC90YXggcGF5YWJsZVteMC05XSooW1xcZCxdK1xcLlxcZHsxLDJ9KS8pO1xuICAgIHNlY3Rpb25zLnRheF9wYWlkID0gZ2V0QW1vdW50KC90YXggcGFpZFteMC05XSooW1xcZCxdK1xcLlxcZHsxLDJ9KS8pO1xuXG4gICAgcmV0dXJuIHNlY3Rpb25zO1xuICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBHU1QzQkRhdGFUYWJsZVJlYWRlcih7IG9uUHJvY2Vzc0NvbXBsZXRlIH0pIHtcbiAgY29uc3QgW2ZpbGUsIHNldEZpbGVdID0gdXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW29jclByb2dyZXNzLCBzZXRPY3JQcm9ncmVzc10gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IFtvY3JPdXRwdXQsIHNldE9jck91dHB1dF0gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IFtwYXJzZWREYXRhLCBzZXRQYXJzZWREYXRhXSA9IHVzZVN0YXRlKG51bGwpO1xuICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW3NhdmVMb2FkaW5nLCBzZXRTYXZlTG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtzYXZlU3VjY2Vzcywgc2V0U2F2ZVN1Y2Nlc3NdID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gIGNvbnN0IGNvbnZlcnRQREZUb0ltYWdlcyA9IGFzeW5jIChmaWxlKSA9PiB7XG4gICAgY29uc3QgYXJyYXlCdWZmZXIgPSBhd2FpdCBmaWxlLmFycmF5QnVmZmVyKCk7XG4gICAgY29uc3QgcGRmID0gYXdhaXQgcGRmanNMaWIuZ2V0RG9jdW1lbnQoYXJyYXlCdWZmZXIpLnByb21pc2U7XG4gICAgY29uc3QgaW1hZ2VzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gcGRmLm51bVBhZ2VzOyBpKyspIHtcbiAgICAgIHNldE9jclByb2dyZXNzKGBDb252ZXJ0aW5nIHBhZ2UgJHtpfSBvZiAke3BkZi5udW1QYWdlc30uLi5gKTtcbiAgICAgIGNvbnN0IHBhZ2UgPSBhd2FpdCBwZGYuZ2V0UGFnZShpKTtcbiAgICAgIGNvbnN0IHZpZXdwb3J0ID0gcGFnZS5nZXRWaWV3cG9ydCh7IHNjYWxlOiAyLjUgfSk7XG4gICAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgIGNvbnN0IGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgIGNhbnZhcy5oZWlnaHQgPSB2aWV3cG9ydC5oZWlnaHQ7XG4gICAgICBjYW52YXMud2lkdGggPSB2aWV3cG9ydC53aWR0aDtcbiAgICAgIGF3YWl0IHBhZ2UucmVuZGVyKHsgY2FudmFzQ29udGV4dDogY29udGV4dCwgdmlld3BvcnQgfSkucHJvbWlzZTtcbiAgICAgIGltYWdlcy5wdXNoKGNhbnZhcy50b0RhdGFVUkwoJ2ltYWdlL3BuZycpKTtcbiAgICB9XG4gICAgcmV0dXJuIGltYWdlcztcbiAgfTtcblxuICBjb25zdCBwZXJmb3JtT0NSID0gYXN5bmMgKGltYWdlcykgPT4ge1xuICAgIGxldCBmdWxsVGV4dCA9ICcnO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW1hZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBzZXRPY3JQcm9ncmVzcyhgT0NSIHBhZ2UgJHtpICsgMX0gb2YgJHtpbWFnZXMubGVuZ3RofS4uLmApO1xuICAgICAgY29uc3QgeyBkYXRhOiB7IHRleHQgfSB9ID0gYXdhaXQgVGVzc2VyYWN0LnJlY29nbml6ZShcbiAgICAgICAgaW1hZ2VzW2ldLCAnZW5nJyxcbiAgICAgICAgeyBsb2dnZXI6IG0gPT4geyBpZiAobS5zdGF0dXMgPT09ICdyZWNvZ25pemluZyB0ZXh0Jykgc2V0T2NyUHJvZ3Jlc3MoYFBhZ2UgJHtpICsgMX06ICR7TWF0aC5yb3VuZChtLnByb2dyZXNzICogMTAwKX0lYCk7IH0gfVxuICAgICAgKTtcbiAgICAgIGZ1bGxUZXh0ICs9IGBcXG4ke3RleHR9YDtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bGxUZXh0O1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUZpbGVVcGxvYWQgPSBhc3luYyAoZXZlbnQpID0+IHtcbiAgICBjb25zdCB1cGxvYWRlZEZpbGUgPSBldmVudC50YXJnZXQuZmlsZXNbMF07XG4gICAgaWYgKCF1cGxvYWRlZEZpbGUpIHJldHVybjtcbiAgICBzZXRGaWxlKHVwbG9hZGVkRmlsZSk7XG4gICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICBzZXRFcnJvcignJyk7XG4gICAgc2V0T2NyUHJvZ3Jlc3MoJycpO1xuICAgIHNldE9jck91dHB1dCgnJyk7XG4gICAgc2V0UGFyc2VkRGF0YShudWxsKTtcbiAgICBzZXRTYXZlU3VjY2VzcyhmYWxzZSk7XG5cbiAgaWYob25Qcm9jZXNzQ29tcGxldGUpIG9uUHJvY2Vzc0NvbXBsZXRlKGZhbHNlKTtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBpbWFnZXMgPSBhd2FpdCBjb252ZXJ0UERGVG9JbWFnZXModXBsb2FkZWRGaWxlKTtcbiAgICAgIGNvbnN0IGV4dHJhY3RlZFRleHQgPSBhd2FpdCBwZXJmb3JtT0NSKGltYWdlcyk7XG4gICAgICBzZXRPY3JPdXRwdXQoZXh0cmFjdGVkVGV4dCk7XG4gICAgICB1cGRhdGVHU1REYXRhKGV4dHJhY3RlZFRleHQpOyBcblxuICAgICAgc2V0T2NyUHJvZ3Jlc3MoJ1BhcnNpbmcgR1NULTNCIGRhdGEuLi4nKTtcbiAgICAgIGNvbnN0IGRhdGEgPSBHU1QzQlBhcnNlci5wYXJzZShleHRyYWN0ZWRUZXh0KTtcbiAgICAgIHNldFBhcnNlZERhdGEoZGF0YSk7XG5cbiAgICAgIGlmIChPYmplY3QudmFsdWVzKGRhdGEpLmV2ZXJ5KHYgPT4gdiA9PT0gbnVsbCkpIHtcbiAgICAgICAgc2V0RXJyb3IoXCJDb3VsZCBub3QgZXh0cmFjdCBHU1QgZGF0YS4gT0NSIHRleHQgbWF5IG5lZWQgY2xlYW51cC5cIik7XG4gICAgICAgIGlmIChvblByb2Nlc3NDb21wbGV0ZSkgb25Qcm9jZXNzQ29tcGxldGUoZmFsc2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2V0T2NyUHJvZ3Jlc3MoJ1BhcnNpbmcgY29tcGxldGUuJyk7XG4gICAgICAgIGlmIChvblByb2Nlc3NDb21wbGV0ZSkgb25Qcm9jZXNzQ29tcGxldGUodHJ1ZSk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBzZXRFcnJvcignRXJyb3I6ICcgKyBlcnIubWVzc2FnZSk7XG4gICAgICBpZiAob25Qcm9jZXNzQ29tcGxldGUpIG9uUHJvY2Vzc0NvbXBsZXRlKGZhbHNlKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHNhdmVUb0RhdGFiYXNlID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmICghcGFyc2VkRGF0YSkgcmV0dXJuO1xuICAgIHNldFNhdmVMb2FkaW5nKHRydWUpO1xuICAgIHNldEVycm9yKCcnKTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2UuZnJvbSgnZ3N0M2InKS5pbnNlcnQoW3BhcnNlZERhdGFdKTtcbiAgICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3I7XG4gICAgICBzZXRTYXZlU3VjY2Vzcyh0cnVlKTtcbiAgICAgIGlmKG9uUHJvY2Vzc0NvbXBsZXRlKSBvblByb2Nlc3NDb21wbGV0ZSh0cnVlKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHNldEVycm9yKCdTYXZlIGZhaWxlZDogJyArIGVyci5tZXNzYWdlKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0U2F2ZUxvYWRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgcm91bmRlZC1sZyBzaGFkb3ctbGcgcC02XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLThcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMyBtYi00XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB3LTggaC04IHJvdW5kZWQtZnVsbCBiZy1ibHVlLTYwMCB0ZXh0LXdoaXRlIGZvbnQtYm9sZCB0ZXh0LWxnXCI+XG4gICAgICAgICAgICAzXG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktODAwXCI+VXBsb2FkIFlvdXIgR1NULTNCIFJldHVybjwvaDI+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgdy1mdWxsXCI+XG4gICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHctZnVsbCBoLTMyIGJvcmRlci0yIGJvcmRlci1ncmF5LTMwMCBib3JkZXItZGFzaGVkIHJvdW5kZWQtbGcgY3Vyc29yLXBvaW50ZXIgYmctZ3JheS01MCBob3ZlcjpiZy1ncmF5LTEwMCB0cmFuc2l0aW9uLWNvbG9yc1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBwdC01IHBiLTZcIj5cbiAgICAgICAgICAgICAgPHN2ZyBjbGFzc05hbWU9XCJ3LTggaC04IG1iLTQgdGV4dC1ncmF5LTUwMFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgICAgICAgIDxwYXRoIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIiBzdHJva2VXaWR0aD17Mn0gZD1cIk05IDEyaDZtLTYgNGg2bTIgNUg3YTIgMiAwIDAxLTItMlY1YTIgMiAwIDAxMi0yaDUuNTg2YTEgMSAwIDAxLjcwNy4yOTNsNS40MTQgNS40MTRhMSAxIDAgMDEuMjkzLjcwN1YxOWEyIDIgMCAwMS0yIDJ6XCIgLz5cbiAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTIgdGV4dC1zbSB0ZXh0LWdyYXktNTAwXCI+PHNwYW4gY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZFwiPkNsaWNrIHRvIHVwbG9hZDwvc3Bhbj4gZG9jdW1lbnQ8L3A+XG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTUwMFwiPlBERiwgUE5HLCBKUEcgZmlsZXM8L3A+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiZmlsZVwiIGNsYXNzTmFtZT1cImhpZGRlblwiIGFjY2VwdD1cIi5wZGYsaW1hZ2UvKlwiIG9uQ2hhbmdlPXtoYW5kbGVGaWxlVXBsb2FkfSBkaXNhYmxlZD17bG9hZGluZ30gLz5cbiAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICB7ZmlsZSAmJiAoPGRpdiBjbGFzc05hbWU9XCJtdC00IHRleHQtc20gdGV4dC1ncmF5LTYwMFwiPlNlbGVjdGVkIGZpbGU6IHtmaWxlLm5hbWV9PC9kaXY+KX1cbiAgICAgICAge2xvYWRpbmcgJiYgKDxkaXYgY2xhc3NOYW1lPVwibXQtNCBmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPjxkaXYgY2xhc3NOYW1lPVwiYW5pbWF0ZS1zcGluIHJvdW5kZWQtZnVsbCBoLTggdy04IGJvcmRlci1iLTIgYm9yZGVyLWJsdWUtNjAwIG1iLTJcIj48L2Rpdj48c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNjAwXCI+e29jclByb2dyZXNzIHx8ICdQcm9jZXNzaW5nLi4uJ308L3NwYW4+PC9kaXY+KX1cbiAgICAgICAge2Vycm9yICYmICg8ZGl2IGNsYXNzTmFtZT1cIm10LTQgYmctcmVkLTUwIGJvcmRlciBib3JkZXItcmVkLTIwMCB0ZXh0LXJlZC03MDAgcHgtNCBweS0zIHJvdW5kZWRcIj57ZXJyb3J9PC9kaXY+KX1cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7Lyoge29jck91dHB1dCAmJiAoXG4gICAgICAgIDx0ZXh0YXJlYSB2YWx1ZT17b2NyT3V0cHV0fSByZWFkT25seSBjbGFzc05hbWU9XCJ3LWZ1bGwgaC02MCBtdC00IHAtMiBib3JkZXIgZm9udC1tb25vIHRleHQteHMgYmctZ3JheS01MFwiIC8+XG4gICAgICApfSAqL31cblxuICAgICAge3BhcnNlZERhdGEgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTQgcC00IGJnLWdyYXktNTAgcm91bmRlZCBib3JkZXJcIj5cbiAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktNzAwXCI+UGFyc2VkIEdTVC0zQiBEYXRhOjwvaDM+XG4gICAgICAgICAgPHByZSBjbGFzc05hbWU9XCJ0ZXh0LXhzIG10LTJcIj57SlNPTi5zdHJpbmdpZnkocGFyc2VkRGF0YSwgbnVsbCwgMil9PC9wcmU+XG4gICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtzYXZlVG9EYXRhYmFzZX0gZGlzYWJsZWQ9e3NhdmVMb2FkaW5nIHx8IHNhdmVTdWNjZXNzfVxuICAgICAgICAgICAgY2xhc3NOYW1lPXtgbXQtMyBweC00IHB5LTIgdGV4dC13aGl0ZSByb3VuZGVkICR7c2F2ZVN1Y2Nlc3MgPyAnYmctZ3JlZW4tNjAwJyA6ICdiZy1ibHVlLTYwMCBob3ZlcjpiZy1ibHVlLTcwMCd9YH0+XG4gICAgICAgICAgICB7c2F2ZVN1Y2Nlc3MgPyAnU2F2ZWQg4pyTJyA6IHNhdmVMb2FkaW5nID8gJ1NhdmluZy4uLicgOiAnU2F2ZWQgdG8gRGF0YWJhc2UnfVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG5cbiAgICAgIHtzYXZlU3VjY2VzcyAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNCBiZy1ncmVlbi01MCBib3JkZXIgYm9yZGVyLWdyZWVuLTIwMCB0ZXh0LWdyZWVuLTcwMCBweC00IHB5LTMgcm91bmRlZFwiPlxuICAgICAgICAgIDxzdHJvbmc+U3VjY2VzcyE8L3N0cm9uZz4gQmFuayBzdGF0ZW1lbnQgZGF0YSBoYXMgYmVlbiBzYXZlZCB0byB5b3VyIGRhdGFiYXNlLlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG5cbiAgICAgIHsvKiBJbnN0cnVjdGlvbnMgU2VjdGlvbiAqL31cbjxkaXYgY2xhc3NOYW1lPVwibWItNiBtdC01IHAtNCBib3JkZXIgYm9yZGVyLWJsdWUtMzAwIGJnLWJsdWUtNTAgcm91bmRlZC1sZyBzaGFkb3ctc21cIj5cbiAgPGgyIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1zZW1pYm9sZCB0ZXh0LWJsdWUtNzAwIG1iLTJcIj5JbnN0cnVjdGlvbnM8L2gyPlxuICA8dWwgY2xhc3NOYW1lPVwibGlzdC1kaXNjIGxpc3QtaW5zaWRlIHRleHQtZ3JheS03MDAgc3BhY2UteS0xXCI+XG4gICAgPGxpPlVwbG9hZCB5b3VyIHN0YXRlbWVudCBpbiA8c3BhbiBjbGFzc05hbWU9XCJmb250LW1lZGl1bVwiPi5wZGY8L3NwYW4+IGZvcm1hdCBvbmx5LjwvbGk+XG4gICAgPGxpPkVuc3VyZSB0aGUgZG9jdW1lbnQgaXMgY2xlYXIgYW5kIHRleHQgaXMgcmVhZGFibGUgKHNjYW5uZWQgY29waWVzIG1heSBub3Qgd29yayB3ZWxsKS48L2xpPlxuICAgIDxsaT5CYW5rIHN0YXRlbWVudHM6IENyZWRpdHMgd2lsbCBiZSBzaG93biBhcyBwb3NpdGl2ZSwgRGViaXRzIGFzIG5lZ2F0aXZlLjwvbGk+XG4gICAgPGxpPlBuTCAmIEdTVCByZXBvcnRzIHNob3VsZCBiZSBpbiB0aGVpciByZXNwZWN0aXZlIGZvcm1hdHMuPC9saT5cbiAgICA8bGk+T25jZSB1cGxvYWRlZCwgd2FpdCBhIGZldyBzZWNvbmRzIGZvciBwcm9jZXNzaW5nIGJlZm9yZSBhbmFseXNpcy48L2xpPlxuICA8L3VsPlxuPC9kaXY+XG5cblxuXG4gICAgPC9kaXY+XG4gICk7XG59XG4iXSwibmFtZXMiOlsidXNlU3RhdGUiLCJzdXBhYmFzZSIsIlRlc3NlcmFjdCIsInBkZmpzTGliIiwidXBkYXRlR1NURGF0YSIsIkdsb2JhbFdvcmtlck9wdGlvbnMiLCJ3b3JrZXJTcmMiLCJ2ZXJzaW9uIiwiR1NUM0JQYXJzZXIiLCJwYXJzZSIsInRleHQiLCJzZWN0aW9ucyIsIm91dHdhcmRfc3VwcGxpZXMiLCJ0YXhhYmxlX3ZhbHVlIiwiaWdzdCIsImNnc3QiLCJzZ3N0IiwiY2VzcyIsImVsaWdpYmxlX2l0YyIsIml0Y19yZXZlcnNlZCIsIm5ldF9pdGMiLCJ0YXhfcGF5YWJsZSIsInRheF9wYWlkIiwibG93ZXJUZXh0IiwidG9Mb3dlckNhc2UiLCJnZXRBbW91bnQiLCJwYXR0ZXJuIiwibWF0Y2giLCJudW1iZXIiLCJyZXBsYWNlIiwicGFyc2VGbG9hdCIsIkdTVDNCRGF0YVRhYmxlUmVhZGVyIiwib25Qcm9jZXNzQ29tcGxldGUiLCJmaWxlIiwic2V0RmlsZSIsImxvYWRpbmciLCJzZXRMb2FkaW5nIiwib2NyUHJvZ3Jlc3MiLCJzZXRPY3JQcm9ncmVzcyIsIm9jck91dHB1dCIsInNldE9jck91dHB1dCIsInBhcnNlZERhdGEiLCJzZXRQYXJzZWREYXRhIiwiZXJyb3IiLCJzZXRFcnJvciIsInNhdmVMb2FkaW5nIiwic2V0U2F2ZUxvYWRpbmciLCJzYXZlU3VjY2VzcyIsInNldFNhdmVTdWNjZXNzIiwiY29udmVydFBERlRvSW1hZ2VzIiwiYXJyYXlCdWZmZXIiLCJwZGYiLCJnZXREb2N1bWVudCIsInByb21pc2UiLCJpbWFnZXMiLCJpIiwibnVtUGFnZXMiLCJwYWdlIiwiZ2V0UGFnZSIsInZpZXdwb3J0IiwiZ2V0Vmlld3BvcnQiLCJzY2FsZSIsImNhbnZhcyIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImNvbnRleHQiLCJnZXRDb250ZXh0IiwiaGVpZ2h0Iiwid2lkdGgiLCJyZW5kZXIiLCJjYW52YXNDb250ZXh0IiwicHVzaCIsInRvRGF0YVVSTCIsInBlcmZvcm1PQ1IiLCJmdWxsVGV4dCIsImxlbmd0aCIsImRhdGEiLCJyZWNvZ25pemUiLCJsb2dnZXIiLCJtIiwic3RhdHVzIiwiTWF0aCIsInJvdW5kIiwicHJvZ3Jlc3MiLCJoYW5kbGVGaWxlVXBsb2FkIiwiZXZlbnQiLCJ1cGxvYWRlZEZpbGUiLCJ0YXJnZXQiLCJmaWxlcyIsImV4dHJhY3RlZFRleHQiLCJPYmplY3QiLCJ2YWx1ZXMiLCJldmVyeSIsInYiLCJlcnIiLCJtZXNzYWdlIiwic2F2ZVRvRGF0YWJhc2UiLCJmcm9tIiwiaW5zZXJ0IiwiZGl2IiwiY2xhc3NOYW1lIiwiaDIiLCJsYWJlbCIsInN2ZyIsImZpbGwiLCJzdHJva2UiLCJ2aWV3Qm94IiwicGF0aCIsInN0cm9rZUxpbmVjYXAiLCJzdHJva2VMaW5lam9pbiIsInN0cm9rZVdpZHRoIiwiZCIsInAiLCJzcGFuIiwiaW5wdXQiLCJ0eXBlIiwiYWNjZXB0Iiwib25DaGFuZ2UiLCJkaXNhYmxlZCIsIm5hbWUiLCJoMyIsInByZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJidXR0b24iLCJvbkNsaWNrIiwic3Ryb25nIiwidWwiLCJsaSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./components/gstReader.js\n");

/***/ }),

/***/ "./components/parsers/baseParser.js":
/*!******************************************!*\
  !*** ./components/parsers/baseParser.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ BaseParser)\n/* harmony export */ });\n// parsers/BaseParser.js\n/**\n * Abstract base class for bank statement parsers\n * All bank-specific parsers should extend this class\n */ class BaseParser {\n    constructor(bankCode){\n        if (this.constructor === BaseParser) {\n            throw new Error(\"BaseParser is an abstract class and cannot be instantiated directly\");\n        }\n        this.bankCode = bankCode;\n    }\n    /**\n     * Clean raw OCR output to extract transaction lines\n     * @param {string} rawText - Raw OCR text\n     * @returns {string} - Cleaned transaction text\n     */ cleanOCROutput(rawText) {\n        throw new Error(\"cleanOCROutput method must be implemented by subclass\");\n    }\n    /**\n     * Simplify cleaned text to essential transaction info\n     * @param {string} rawText - Raw OCR text\n     * @returns {string} - Simplified transaction text\n     */ cleanOCROutputSimplified(rawText) {\n        throw new Error(\"cleanOCROutputSimplified method must be implemented by subclass\");\n    }\n    /**\n     * Categorize transactions as DEBIT or CREDIT\n     * @param {string} simplifiedText - Simplified transaction text\n     * @returns {string} - Categorized transaction text\n     */ categorizeTransactions(simplifiedText) {\n        throw new Error(\"categorizeTransactions method must be implemented by subclass\");\n    }\n    /**\n     * Parse individual transaction line\n     * @param {string} transactionLine - Single transaction line\n     * @returns {string|null} - Parsed transaction or null if invalid\n     */ parseTransactionLine(transactionLine) {\n        throw new Error(\"parseTransactionLine method must be implemented by subclass\");\n    }\n    /**\n     * Get bank-specific patterns for parsing\n     * @returns {object} - Patterns object\n     */ getPatterns() {\n        throw new Error(\"getPatterns method must be implemented by subclass\");\n    }\n    /**\n     * Common utility method to extract currency amounts from text\n     * @param {string} text - Text to search\n     * @returns {array} - Array of currency matches\n     */ extractCurrencyAmounts(text) {\n        return text.match(/(\\d{1,3}(?:,\\d{3})*\\.\\d{2})/g) || [];\n    }\n    /**\n     * Common utility method to extract dates\n     * @param {string} text - Text to search\n     * @returns {array} - Array of date matches\n     */ extractDates(text) {\n        return text.match(/(\\d{2}\\/\\d{2}\\/\\d{2})/g) || [];\n    }\n    /**\n     * Common utility method to normalize whitespace\n     * @param {string} text - Text to normalize\n     * @returns {string} - Normalized text\n     */ normalizeWhitespace(text) {\n        return text.replace(/\\s+/g, \" \").trim();\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9jb21wb25lbnRzL3BhcnNlcnMvYmFzZVBhcnNlci5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsd0JBQXdCO0FBRXhCOzs7Q0FHQyxHQUNlLE1BQU1BO0lBQ2xCQyxZQUFZQyxRQUFRLENBQUU7UUFDcEIsSUFBSSxJQUFJLENBQUNELFdBQVcsS0FBS0QsWUFBWTtZQUNuQyxNQUFNLElBQUlHLE1BQU07UUFDbEI7UUFDQSxJQUFJLENBQUNELFFBQVEsR0FBR0E7SUFDbEI7SUFFQTs7OztLQUlDLEdBQ0RFLGVBQWVDLE9BQU8sRUFBRTtRQUN0QixNQUFNLElBQUlGLE1BQU07SUFDbEI7SUFFQTs7OztLQUlDLEdBQ0RHLHlCQUF5QkQsT0FBTyxFQUFFO1FBQ2hDLE1BQU0sSUFBSUYsTUFBTTtJQUNsQjtJQUVBOzs7O0tBSUMsR0FDREksdUJBQXVCQyxjQUFjLEVBQUU7UUFDckMsTUFBTSxJQUFJTCxNQUFNO0lBQ2xCO0lBRUE7Ozs7S0FJQyxHQUNETSxxQkFBcUJDLGVBQWUsRUFBRTtRQUNwQyxNQUFNLElBQUlQLE1BQU07SUFDbEI7SUFFQTs7O0tBR0MsR0FDRFEsY0FBYztRQUNaLE1BQU0sSUFBSVIsTUFBTTtJQUNsQjtJQUVBOzs7O0tBSUMsR0FDRFMsdUJBQXVCQyxJQUFJLEVBQUU7UUFDM0IsT0FBT0EsS0FBS0MsS0FBSyxDQUFDLG1DQUFtQyxFQUFFO0lBQ3pEO0lBRUE7Ozs7S0FJQyxHQUNEQyxhQUFhRixJQUFJLEVBQUU7UUFDakIsT0FBT0EsS0FBS0MsS0FBSyxDQUFDLDZCQUE2QixFQUFFO0lBQ25EO0lBRUE7Ozs7S0FJQyxHQUNERSxvQkFBb0JILElBQUksRUFBRTtRQUN4QixPQUFPQSxLQUFLSSxPQUFPLENBQUMsUUFBUSxLQUFLQyxJQUFJO0lBQ3ZDO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iYW5rLXN0YXRlbWVudC1yZWFkZXIvLi9jb21wb25lbnRzL3BhcnNlcnMvYmFzZVBhcnNlci5qcz83YmY5Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIHBhcnNlcnMvQmFzZVBhcnNlci5qc1xuXG4vKipcbiAqIEFic3RyYWN0IGJhc2UgY2xhc3MgZm9yIGJhbmsgc3RhdGVtZW50IHBhcnNlcnNcbiAqIEFsbCBiYW5rLXNwZWNpZmljIHBhcnNlcnMgc2hvdWxkIGV4dGVuZCB0aGlzIGNsYXNzXG4gKi9cbiBleHBvcnQgZGVmYXVsdCBjbGFzcyBCYXNlUGFyc2VyIHtcbiAgICBjb25zdHJ1Y3RvcihiYW5rQ29kZSkge1xuICAgICAgaWYgKHRoaXMuY29uc3RydWN0b3IgPT09IEJhc2VQYXJzZXIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdCYXNlUGFyc2VyIGlzIGFuIGFic3RyYWN0IGNsYXNzIGFuZCBjYW5ub3QgYmUgaW5zdGFudGlhdGVkIGRpcmVjdGx5Jyk7XG4gICAgICB9XG4gICAgICB0aGlzLmJhbmtDb2RlID0gYmFua0NvZGU7XG4gICAgfVxuICBcbiAgICAvKipcbiAgICAgKiBDbGVhbiByYXcgT0NSIG91dHB1dCB0byBleHRyYWN0IHRyYW5zYWN0aW9uIGxpbmVzXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHJhd1RleHQgLSBSYXcgT0NSIHRleHRcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSAtIENsZWFuZWQgdHJhbnNhY3Rpb24gdGV4dFxuICAgICAqL1xuICAgIGNsZWFuT0NST3V0cHV0KHJhd1RleHQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignY2xlYW5PQ1JPdXRwdXQgbWV0aG9kIG11c3QgYmUgaW1wbGVtZW50ZWQgYnkgc3ViY2xhc3MnKTtcbiAgICB9XG4gIFxuICAgIC8qKlxuICAgICAqIFNpbXBsaWZ5IGNsZWFuZWQgdGV4dCB0byBlc3NlbnRpYWwgdHJhbnNhY3Rpb24gaW5mb1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSByYXdUZXh0IC0gUmF3IE9DUiB0ZXh0XG4gICAgICogQHJldHVybnMge3N0cmluZ30gLSBTaW1wbGlmaWVkIHRyYW5zYWN0aW9uIHRleHRcbiAgICAgKi9cbiAgICBjbGVhbk9DUk91dHB1dFNpbXBsaWZpZWQocmF3VGV4dCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhbk9DUk91dHB1dFNpbXBsaWZpZWQgbWV0aG9kIG11c3QgYmUgaW1wbGVtZW50ZWQgYnkgc3ViY2xhc3MnKTtcbiAgICB9XG4gIFxuICAgIC8qKlxuICAgICAqIENhdGVnb3JpemUgdHJhbnNhY3Rpb25zIGFzIERFQklUIG9yIENSRURJVFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzaW1wbGlmaWVkVGV4dCAtIFNpbXBsaWZpZWQgdHJhbnNhY3Rpb24gdGV4dFxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IC0gQ2F0ZWdvcml6ZWQgdHJhbnNhY3Rpb24gdGV4dFxuICAgICAqL1xuICAgIGNhdGVnb3JpemVUcmFuc2FjdGlvbnMoc2ltcGxpZmllZFRleHQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignY2F0ZWdvcml6ZVRyYW5zYWN0aW9ucyBtZXRob2QgbXVzdCBiZSBpbXBsZW1lbnRlZCBieSBzdWJjbGFzcycpO1xuICAgIH1cbiAgXG4gICAgLyoqXG4gICAgICogUGFyc2UgaW5kaXZpZHVhbCB0cmFuc2FjdGlvbiBsaW5lXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRyYW5zYWN0aW9uTGluZSAtIFNpbmdsZSB0cmFuc2FjdGlvbiBsaW5lXG4gICAgICogQHJldHVybnMge3N0cmluZ3xudWxsfSAtIFBhcnNlZCB0cmFuc2FjdGlvbiBvciBudWxsIGlmIGludmFsaWRcbiAgICAgKi9cbiAgICBwYXJzZVRyYW5zYWN0aW9uTGluZSh0cmFuc2FjdGlvbkxpbmUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcigncGFyc2VUcmFuc2FjdGlvbkxpbmUgbWV0aG9kIG11c3QgYmUgaW1wbGVtZW50ZWQgYnkgc3ViY2xhc3MnKTtcbiAgICB9XG4gIFxuICAgIC8qKlxuICAgICAqIEdldCBiYW5rLXNwZWNpZmljIHBhdHRlcm5zIGZvciBwYXJzaW5nXG4gICAgICogQHJldHVybnMge29iamVjdH0gLSBQYXR0ZXJucyBvYmplY3RcbiAgICAgKi9cbiAgICBnZXRQYXR0ZXJucygpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignZ2V0UGF0dGVybnMgbWV0aG9kIG11c3QgYmUgaW1wbGVtZW50ZWQgYnkgc3ViY2xhc3MnKTtcbiAgICB9XG4gIFxuICAgIC8qKlxuICAgICAqIENvbW1vbiB1dGlsaXR5IG1ldGhvZCB0byBleHRyYWN0IGN1cnJlbmN5IGFtb3VudHMgZnJvbSB0ZXh0XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgLSBUZXh0IHRvIHNlYXJjaFxuICAgICAqIEByZXR1cm5zIHthcnJheX0gLSBBcnJheSBvZiBjdXJyZW5jeSBtYXRjaGVzXG4gICAgICovXG4gICAgZXh0cmFjdEN1cnJlbmN5QW1vdW50cyh0ZXh0KSB7XG4gICAgICByZXR1cm4gdGV4dC5tYXRjaCgvKFxcZHsxLDN9KD86LFxcZHszfSkqXFwuXFxkezJ9KS9nKSB8fCBbXTtcbiAgICB9XG4gIFxuICAgIC8qKlxuICAgICAqIENvbW1vbiB1dGlsaXR5IG1ldGhvZCB0byBleHRyYWN0IGRhdGVzXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgLSBUZXh0IHRvIHNlYXJjaFxuICAgICAqIEByZXR1cm5zIHthcnJheX0gLSBBcnJheSBvZiBkYXRlIG1hdGNoZXNcbiAgICAgKi9cbiAgICBleHRyYWN0RGF0ZXModGV4dCkge1xuICAgICAgcmV0dXJuIHRleHQubWF0Y2goLyhcXGR7Mn1cXC9cXGR7Mn1cXC9cXGR7Mn0pL2cpIHx8IFtdO1xuICAgIH1cbiAgXG4gICAgLyoqXG4gICAgICogQ29tbW9uIHV0aWxpdHkgbWV0aG9kIHRvIG5vcm1hbGl6ZSB3aGl0ZXNwYWNlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgLSBUZXh0IHRvIG5vcm1hbGl6ZVxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IC0gTm9ybWFsaXplZCB0ZXh0XG4gICAgICovXG4gICAgbm9ybWFsaXplV2hpdGVzcGFjZSh0ZXh0KSB7XG4gICAgICByZXR1cm4gdGV4dC5yZXBsYWNlKC9cXHMrL2csICcgJykudHJpbSgpO1xuICAgIH1cbiAgfSJdLCJuYW1lcyI6WyJCYXNlUGFyc2VyIiwiY29uc3RydWN0b3IiLCJiYW5rQ29kZSIsIkVycm9yIiwiY2xlYW5PQ1JPdXRwdXQiLCJyYXdUZXh0IiwiY2xlYW5PQ1JPdXRwdXRTaW1wbGlmaWVkIiwiY2F0ZWdvcml6ZVRyYW5zYWN0aW9ucyIsInNpbXBsaWZpZWRUZXh0IiwicGFyc2VUcmFuc2FjdGlvbkxpbmUiLCJ0cmFuc2FjdGlvbkxpbmUiLCJnZXRQYXR0ZXJucyIsImV4dHJhY3RDdXJyZW5jeUFtb3VudHMiLCJ0ZXh0IiwibWF0Y2giLCJleHRyYWN0RGF0ZXMiLCJub3JtYWxpemVXaGl0ZXNwYWNlIiwicmVwbGFjZSIsInRyaW0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./components/parsers/baseParser.js\n");

/***/ }),

/***/ "./components/parsers/hdfcParser.js":
/*!******************************************!*\
  !*** ./components/parsers/hdfcParser.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ HDFCParser)\n/* harmony export */ });\n/* harmony import */ var _baseParser_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./baseParser.js */ \"./components/parsers/baseParser.js\");\n// parsers/HDFCParser.js\n\nclass HDFCParser extends _baseParser_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n    constructor(){\n        super(\"HDFC\");\n    }\n    getPatterns() {\n        return {\n            // Transaction line: starts with date pattern\n            transaction: /^\\d{2}\\/\\d{2}\\/\\d{2}\\s*\\|/,\n            // Header patterns (more flexible)\n            headers: [\n                /^={3,}\\s*PAGE/i,\n                /^(Page No|PageNo)[:.]?\\s*\\d+/i,\n                /HDFC\\s+BANK/i,\n                /Account\\s+Branch/i,\n                /Address\\s*:/i,\n                /Phone\\s+no/i,\n                /Cust\\s+ID/i,\n                /Account(No|Number)/i,\n                /RTGS\\/NEFT/i,\n                /Statement\\s+of\\s+account/i,\n                /From\\s*:\\s*\\d{2}\\/\\d{2}/i,\n                /Closing\\s+Balance/i,\n                /Withdrawal\\s+Amt/i,\n                /STATEMENT\\s+SUMMARY/i,\n                /Generated\\s+On:/i,\n                /computer\\s+generated/i,\n                /^\\*.*funds.*earmarked/i,\n                /Contents\\s+of\\s+this/i,\n                /Registered\\s+Office/i\n            ],\n            // Continuation patterns (UPI details, bank codes, etc.)\n            continuation: [\n                /@[A-Z0-9\\-]+/,\n                /[A-Z]{3,}BANK/,\n                /-UPI$/,\n                /-UPT$/,\n                /-PAY$/,\n                /^[A-Z0-9@\\-]{8,}$/,\n                /HDFC\\d{7}/,\n                /ICIC\\d{7}/\n            ],\n            // Likely personal info (addresses, names)\n            personalInfo: [\n                /^(MR|MS|MRS)\\s+[A-Z\\s]+$/,\n                /^FLAT\\s+NO\\s+\\d+/i,\n                /^(LIVING|APARTMENT|ROAD|STREET)/i,\n                /^(BANGALORE|BENGALURU|MUMBAI|DELHI|CHENNAI|KOLKATA)/i,\n                /^[A-Z\\s]+(NAGAR|COLONY|LAYOUT|CROSS)/i\n            ]\n        };\n    }\n    cleanOCROutput(rawText) {\n        const lines = rawText.split(\"\\n\");\n        const transactionLines = [];\n        const patterns = this.getPatterns();\n        const isHeaderLine = (line)=>{\n            return patterns.headers.some((pattern)=>pattern.test(line));\n        };\n        const isContinuationLine = (line)=>{\n            // Check if it's likely a continuation of transaction details\n            return patterns.continuation.some((pattern)=>pattern.test(line)) || line.length > 5 && /^[A-Z0-9@\\-\\s]+$/.test(line) && !isHeaderLine(line);\n        };\n        const isPersonalInfoLine = (line)=>{\n            return patterns.personalInfo.some((pattern)=>pattern.test(line));\n        };\n        const isLikelyTransactionData = (line)=>{\n            // Contains numbers that look like amounts or dates\n            return /\\d{1,3}(?:,\\d{3})*(?:\\.\\d{2})?/.test(line) || /\\d{2}\\/\\d{2}\\/\\d{2}/.test(line);\n        };\n        for(let i = 0; i < lines.length; i++){\n            const line = lines[i].trim();\n            // Skip empty lines\n            if (!line) continue;\n            // Skip obvious headers and personal info\n            if (isHeaderLine(line) || isPersonalInfoLine(line)) continue;\n            // Look for transaction lines\n            if (patterns.transaction.test(line)) {\n                let transactionText = line;\n                // Collect continuation lines\n                let j = i + 1;\n                while(j < lines.length){\n                    const nextLine = lines[j].trim();\n                    // Stop if we hit another transaction, header, or empty line\n                    if (!nextLine || patterns.transaction.test(nextLine) || isHeaderLine(nextLine)) {\n                        break;\n                    }\n                    // Include if it's likely continuation data\n                    if (isContinuationLine(nextLine) || isLikelyTransactionData(nextLine) && nextLine.length < 100) {\n                        transactionText += nextLine;\n                        i = j; // Skip this line in main loop\n                    } else {\n                        break;\n                    }\n                    j++;\n                }\n                transactionLines.push(transactionText);\n            }\n        }\n        return transactionLines.join(\"\\n\\n\");\n    }\n    cleanOCROutputSimplified(rawText) {\n        // Corrected to split by single newline to prevent blank lines\n        const lines = rawText.split(\"\\n\");\n        const simplifiedLines = [];\n        for (const line of lines){\n            if (!line.trim()) continue;\n            // Parse the transaction line to extract essential info\n            const simplified = this.parseTransactionLine(line);\n            if (simplified) {\n                simplifiedLines.push(simplified);\n            }\n        }\n        // Join with a single newline for clean output\n        return simplifiedLines.join(\"\\n\\n\");\n    }\n    categorizeTransactions(simplifiedText) {\n        if (!simplifiedText.trim()) return \"\";\n        const lines = simplifiedText.split(\"\\n\").filter((line)=>line.trim());\n        const categorizedLines = [];\n        for(let i = 0; i < lines.length; i++){\n            const currentLine = lines[i].trim();\n            if (!currentLine) continue;\n            // Parse current transaction\n            const currentMatch = currentLine.match(/^(\\d{2}\\/\\d{2}\\/\\d{2})\\s*\\|\\s*(.+?)\\s*\\|\\s*([\\d,]+\\.\\d{2})\\s+([\\d,]+\\.\\d{2})$/);\n            if (!currentMatch) {\n                categorizedLines.push(currentLine); // Keep line as-is if can't parse\n                continue;\n            }\n            const [, currentDate, currentDesc, currentAmount, currentBalance] = currentMatch;\n            const currentBalanceNum = parseFloat(currentBalance.replace(/,/g, \"\"));\n            const currentAmountNum = parseFloat(currentAmount.replace(/,/g, \"\"));\n            let transactionType = \"\";\n            // For the first transaction, we can't compare with previous\n            if (i === 0) {\n                // Look at the next transaction to determine type\n                if (i + 1 < lines.length) {\n                    const nextLine = lines[i + 1].trim();\n                    const nextMatch = nextLine.match(/^(\\d{2}\\/\\d{2}\\/\\d{2})\\s*\\|\\s*(.+?)\\s*\\|\\s*([\\d,]+\\.\\d{2})\\s+([\\d,]+\\.\\d{2})$/);\n                    if (nextMatch) {\n                        const nextBalanceNum = parseFloat(nextMatch[4].replace(/,/g, \"\"));\n                        const balanceDiff = currentBalanceNum - nextBalanceNum;\n                        const nextAmountNum = parseFloat(nextMatch[3].replace(/,/g, \"\"));\n                        // If the balance difference roughly equals the next transaction amount\n                        // and current balance is higher, then current transaction was likely a credit\n                        if (Math.abs(balanceDiff - nextAmountNum) < 0.01 && currentBalanceNum > nextBalanceNum) {\n                            transactionType = \"CREDIT\";\n                        } else {\n                            // Default assumption for first transaction\n                            transactionType = \"DEBIT\";\n                        }\n                    } else {\n                        transactionType = \"UNKNOWN\";\n                    }\n                } else {\n                    transactionType = \"UNKNOWN\";\n                }\n            } else {\n                // Compare with previous transaction\n                const prevLine = lines[i - 1].trim();\n                const prevMatch = prevLine.match(/^(\\d{2}\\/\\d{2}\\/\\d{2})\\s*\\|\\s*(.+?)\\s*\\|\\s*([\\d,]+\\.\\d{2})\\s+([\\d,]+\\.\\d{2})$/);\n                if (prevMatch) {\n                    const prevBalanceNum = parseFloat(prevMatch[4].replace(/,/g, \"\"));\n                    // Calculate expected balance based on transaction type\n                    const expectedBalanceIfDebit = prevBalanceNum - currentAmountNum;\n                    const expectedBalanceIfCredit = prevBalanceNum + currentAmountNum;\n                    // Determine which is closer to actual balance\n                    const debitDiff = Math.abs(expectedBalanceIfDebit - currentBalanceNum);\n                    const creditDiff = Math.abs(expectedBalanceIfCredit - currentBalanceNum);\n                    if (debitDiff < creditDiff && debitDiff < 0.01) {\n                        transactionType = \"DEBIT\";\n                    } else if (creditDiff < debitDiff && creditDiff < 0.01) {\n                        transactionType = \"CREDIT\";\n                    } else {\n                        // Fallback: if balance decreased, it's likely a debit\n                        transactionType = currentBalanceNum < prevBalanceNum ? \"DEBIT\" : \"CREDIT\";\n                    }\n                } else {\n                    transactionType = \"UNKNOWN\";\n                }\n            }\n            const formatAmount = Math.abs(currentAmountNum).toFixed(2);\n            // Add the transaction type to the line\n            categorizedLines.push(`${currentDate} | ${currentDesc} | ${formatAmount} | ${transactionType}`);\n        }\n        return categorizedLines.join(\"\\n\\n\");\n    }\n    parseTransactionLine(transactionLine) {\n        // Remove extra whitespace and normalize\n        const normalized = this.normalizeWhitespace(transactionLine);\n        // Pattern to match date at the beginning of the line\n        const dateMatch = normalized.match(/^(\\d{2}\\/\\d{2}\\/\\d{2})/);\n        if (!dateMatch) return null;\n        const date = dateMatch[1];\n        // Correctly extract all numbers with a decimal and two digits.\n        const currencyMatches = this.extractCurrencyAmounts(normalized);\n        // If we can't find at least two currency numbers, it's not a valid transaction line for this output format.\n        if (!currencyMatches || currencyMatches.length < 2) {\n            return null;\n        }\n        const cleanAmounts = currencyMatches.slice();\n        // The amount is the second to last currency-formatted number.\n        const amount = cleanAmounts[currencyMatches.length - 2];\n        // The balance is the last currency-formatted number.\n        const balance = cleanAmounts[currencyMatches.length - 1];\n        // Extract description by first removing the date and amounts.\n        let description = normalized.replace(date, \"\") // Remove first date\n        .replace(amount, \"\") // Remove amount\n        .replace(balance, \"\") // Remove balance\n        .trim();\n        // The key change is here: remove any remaining date patterns and other unwanted codes.\n        description = description.replace(/(\\d{2}\\/\\d{2}\\/\\d{2})/g, \"\") // Remove any remaining date patterns\n        .replace(/\\|/g, \"\") // Remove pipe characters\n        .replace(/\\bUPL-/g, \"\") // Remove UPL- prefix\n        .replace(/@[A-Z0-9\\-]+/g, \"\") // Remove @OKAXIS, @HDFCBANK etc\n        .replace(/-KKBK\\d+/g, \"\") // Remove bank codes like -KKBK0008057\n        .replace(/-UPI$/g, \"\") // Remove -UPI endings\n        .replace(/-UPT$/g, \"\") // Remove -UPT endings\n        .replace(/-PAY$/g, \"\") // Remove -PAY endings\n        .replace(/AIR-BANK/g, \"\") // Remove AIR-BANK\n        .replace(/[A-Z0-9]{10,}/g, \"\") // Remove long alphanumeric IDs\n        .replace(/\\s+/g, \" \") // Normalize spaces\n        .trim();\n        // Return the cleaned string\n        const absoluteAmount = Math.abs(parseFloat(amount.replace(/,/g, \"\"))).toFixed(2);\n        return `${date} | ${description} | ${absoluteAmount} ${balance}`;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RXhELDhEQUE4RDtRQUM5RCxJQUFJd0QsY0FBY1YsV0FDZm5CLE9BQU8sQ0FBQ3NCLE1BQU0sSUFBSSxvQkFBb0I7U0FDdEN0QixPQUFPLENBQUMyQixRQUFRLElBQUksZ0JBQWdCO1NBQ3BDM0IsT0FBTyxDQUFDNEIsU0FBUyxJQUFJLGlCQUFpQjtTQUN0Q25ELElBQUk7UUFFUCx1RkFBdUY7UUFDdkZvRCxjQUFjQSxZQUNYN0IsT0FBTyxDQUFDLDBCQUEwQixJQUFJLHFDQUFxQztTQUMzRUEsT0FBTyxDQUFDLE9BQU8sSUFBSSx5QkFBeUI7U0FDNUNBLE9BQU8sQ0FBQyxXQUFXLElBQUkscUJBQXFCO1NBQzVDQSxPQUFPLENBQUMsaUJBQWlCLElBQUksZ0NBQWdDO1NBQzdEQSxPQUFPLENBQUMsYUFBYSxJQUFJLHNDQUFzQztTQUMvREEsT0FBTyxDQUFDLFVBQVUsSUFBSSxzQkFBc0I7U0FDNUNBLE9BQU8sQ0FBQyxVQUFVLElBQUksc0JBQXNCO1NBQzVDQSxPQUFPLENBQUMsVUFBVSxJQUFJLHNCQUFzQjtTQUM1Q0EsT0FBTyxDQUFDLGFBQWEsSUFBSSxrQkFBa0I7U0FDM0NBLE9BQU8sQ0FBQyxrQkFBa0IsSUFBSSwrQkFBK0I7U0FDN0RBLE9BQU8sQ0FBQyxRQUFRLEtBQUssbUJBQW1CO1NBQ3hDdkIsSUFBSTtRQUVQLDRCQUE0QjtRQUM1QixNQUFNcUQsaUJBQWlCdkIsS0FBS0MsR0FBRyxDQUFDVCxXQUFXNEIsT0FBTzNCLE9BQU8sQ0FBQyxNQUFNLE1BQU1pQixPQUFPLENBQUM7UUFDbEYsT0FBTyxDQUFDLEVBQUVLLEtBQUssR0FBRyxFQUFFTyxZQUFZLEdBQUcsRUFBRUMsZUFBZSxDQUFDLEVBQUVGLFFBQVEsQ0FBQztJQUM5RDtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmFuay1zdGF0ZW1lbnQtcmVhZGVyLy4vY29tcG9uZW50cy9wYXJzZXJzL2hkZmNQYXJzZXIuanM/M2Q1NSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBwYXJzZXJzL0hERkNQYXJzZXIuanNcblxuaW1wb3J0IEJhc2VQYXJzZXIgZnJvbSAnLi9iYXNlUGFyc2VyLmpzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSERGQ1BhcnNlciBleHRlbmRzIEJhc2VQYXJzZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignSERGQycpO1xuICB9XG5cbiAgZ2V0UGF0dGVybnMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC8vIFRyYW5zYWN0aW9uIGxpbmU6IHN0YXJ0cyB3aXRoIGRhdGUgcGF0dGVyblxuICAgICAgdHJhbnNhY3Rpb246IC9eXFxkezJ9XFwvXFxkezJ9XFwvXFxkezJ9XFxzKlxcfC8sXG4gICAgICBcbiAgICAgIC8vIEhlYWRlciBwYXR0ZXJucyAobW9yZSBmbGV4aWJsZSlcbiAgICAgIGhlYWRlcnM6IFtcbiAgICAgICAgL149ezMsfVxccypQQUdFL2ksICAgICAgICAgICAvLyBQYWdlIG1hcmtlcnNcbiAgICAgICAgL14oUGFnZSBOb3xQYWdlTm8pWzouXT9cXHMqXFxkKy9pLCAgLy8gUGFnZSBudW1iZXJzXG4gICAgICAgIC9IREZDXFxzK0JBTksvaSwgICAgICAgICAgICAgLy8gQmFuayBuYW1lXG4gICAgICAgIC9BY2NvdW50XFxzK0JyYW5jaC9pLCAgICAgICAgLy8gQWNjb3VudCBpbmZvXG4gICAgICAgIC9BZGRyZXNzXFxzKjovaSwgICAgICAgICAgICAgLy8gQWRkcmVzcyBsaW5lc1xuICAgICAgICAvUGhvbmVcXHMrbm8vaSwgICAgICAgICAgICAgIC8vIFBob25lXG4gICAgICAgIC9DdXN0XFxzK0lEL2ksICAgICAgICAgICAgICAgLy8gQ3VzdG9tZXIgSURcbiAgICAgICAgL0FjY291bnQoTm98TnVtYmVyKS9pLCAgICAgIC8vIEFjY291bnQgbnVtYmVyXG4gICAgICAgIC9SVEdTXFwvTkVGVC9pLCAgICAgICAgICAgICAgLy8gQmFua2luZyBjb2Rlc1xuICAgICAgICAvU3RhdGVtZW50XFxzK29mXFxzK2FjY291bnQvaSwgLy8gU3RhdGVtZW50IGhlYWRlclxuICAgICAgICAvRnJvbVxccyo6XFxzKlxcZHsyfVxcL1xcZHsyfS9pLCAvLyBEYXRlIHJhbmdlXG4gICAgICAgIC9DbG9zaW5nXFxzK0JhbGFuY2UvaSwgICAgICAgLy8gVGFibGUgaGVhZGVyc1xuICAgICAgICAvV2l0aGRyYXdhbFxccytBbXQvaSwgICAgICAgIC8vIFRhYmxlIGhlYWRlcnNcbiAgICAgICAgL1NUQVRFTUVOVFxccytTVU1NQVJZL2ksICAgICAvLyBTdW1tYXJ5IHNlY3Rpb25cbiAgICAgICAgL0dlbmVyYXRlZFxccytPbjovaSwgICAgICAgICAvLyBHZW5lcmF0aW9uIGluZm9cbiAgICAgICAgL2NvbXB1dGVyXFxzK2dlbmVyYXRlZC9pLCAgICAvLyBEaXNjbGFpbWVyc1xuICAgICAgICAvXlxcKi4qZnVuZHMuKmVhcm1hcmtlZC9pLCAgIC8vIERpc2NsYWltZXJzXG4gICAgICAgIC9Db250ZW50c1xccytvZlxccyt0aGlzL2ksICAgIC8vIERpc2NsYWltZXJzXG4gICAgICAgIC9SZWdpc3RlcmVkXFxzK09mZmljZS9pLCAgICAgLy8gQWRkcmVzcyBpbmZvXG4gICAgICBdLFxuICAgICAgXG4gICAgICAvLyBDb250aW51YXRpb24gcGF0dGVybnMgKFVQSSBkZXRhaWxzLCBiYW5rIGNvZGVzLCBldGMuKVxuICAgICAgY29udGludWF0aW9uOiBbXG4gICAgICAgIC9AW0EtWjAtOVxcLV0rLywgICAgICAgICAgICAgLy8gRW1haWwtbGlrZSBwYXR0ZXJucyAoQE9LQVhJUywgQEhERkNCQU5LKVxuICAgICAgICAvW0EtWl17Myx9QkFOSy8sICAgICAgICAgICAgLy8gQmFuayBuYW1lc1xuICAgICAgICAvLVVQSSQvLCAgICAgICAgICAgICAgICAgICAgLy8gVVBJIGVuZGluZ3NcbiAgICAgICAgLy1VUFQkLywgICAgICAgICAgICAgICAgICAgIC8vIFVQVCBlbmRpbmdzICBcbiAgICAgICAgLy1QQVkkLywgICAgICAgICAgICAgICAgICAgIC8vIFBBWSBlbmRpbmdzXG4gICAgICAgIC9eW0EtWjAtOUBcXC1dezgsfSQvLCAgICAgICAgLy8gTG9uZyBhbHBoYW51bWVyaWMgY29kZXNcbiAgICAgICAgL0hERkNcXGR7N30vLCAgICAgICAgICAgICAgICAvLyBIREZDIHJlZmVyZW5jZSBudW1iZXJzXG4gICAgICAgIC9JQ0lDXFxkezd9LywgICAgICAgICAgICAgICAgLy8gSUNJQ0kgcmVmZXJlbmNlIG51bWJlcnNcbiAgICAgIF0sXG4gICAgICBcbiAgICAgIC8vIExpa2VseSBwZXJzb25hbCBpbmZvIChhZGRyZXNzZXMsIG5hbWVzKVxuICAgICAgcGVyc29uYWxJbmZvOiBbXG4gICAgICAgIC9eKE1SfE1TfE1SUylcXHMrW0EtWlxcc10rJC8sXG4gICAgICAgIC9eRkxBVFxccytOT1xccytcXGQrL2ksXG4gICAgICAgIC9eKExJVklOR3xBUEFSVE1FTlR8Uk9BRHxTVFJFRVQpL2ksXG4gICAgICAgIC9eKEJBTkdBTE9SRXxCRU5HQUxVUlV8TVVNQkFJfERFTEhJfENIRU5OQUl8S09MS0FUQSkvaSxcbiAgICAgICAgL15bQS1aXFxzXSsoTkFHQVJ8Q09MT05ZfExBWU9VVHxDUk9TUykvaSxcbiAgICAgIF1cbiAgICB9O1xuICB9XG5cbiAgY2xlYW5PQ1JPdXRwdXQocmF3VGV4dCkge1xuICAgIGNvbnN0IGxpbmVzID0gcmF3VGV4dC5zcGxpdCgnXFxuJyk7XG4gICAgY29uc3QgdHJhbnNhY3Rpb25MaW5lcyA9IFtdO1xuICAgIGNvbnN0IHBhdHRlcm5zID0gdGhpcy5nZXRQYXR0ZXJucygpO1xuICAgIFxuICAgIFxuICAgIGNvbnN0IGlzSGVhZGVyTGluZSA9IChsaW5lKSA9PiB7XG4gICAgICByZXR1cm4gcGF0dGVybnMuaGVhZGVycy5zb21lKHBhdHRlcm4gPT4gcGF0dGVybi50ZXN0KGxpbmUpKTtcbiAgICB9O1xuICAgIFxuICAgIGNvbnN0IGlzQ29udGludWF0aW9uTGluZSA9IChsaW5lKSA9PiB7XG4gICAgICAvLyBDaGVjayBpZiBpdCdzIGxpa2VseSBhIGNvbnRpbnVhdGlvbiBvZiB0cmFuc2FjdGlvbiBkZXRhaWxzXG4gICAgICByZXR1cm4gcGF0dGVybnMuY29udGludWF0aW9uLnNvbWUocGF0dGVybiA9PiBwYXR0ZXJuLnRlc3QobGluZSkpIHx8XG4gICAgICAgICAgICAgKGxpbmUubGVuZ3RoID4gNSAmJiAvXltBLVowLTlAXFwtXFxzXSskLy50ZXN0KGxpbmUpICYmICFpc0hlYWRlckxpbmUobGluZSkpO1xuICAgIH07XG4gICAgXG4gICAgY29uc3QgaXNQZXJzb25hbEluZm9MaW5lID0gKGxpbmUpID0+IHtcbiAgICAgIHJldHVybiBwYXR0ZXJucy5wZXJzb25hbEluZm8uc29tZShwYXR0ZXJuID0+IHBhdHRlcm4udGVzdChsaW5lKSk7XG4gICAgfTtcbiAgICBcbiAgICBjb25zdCBpc0xpa2VseVRyYW5zYWN0aW9uRGF0YSA9IChsaW5lKSA9PiB7XG4gICAgICAvLyBDb250YWlucyBudW1iZXJzIHRoYXQgbG9vayBsaWtlIGFtb3VudHMgb3IgZGF0ZXNcbiAgICAgIHJldHVybiAvXFxkezEsM30oPzosXFxkezN9KSooPzpcXC5cXGR7Mn0pPy8udGVzdChsaW5lKSB8fCBcbiAgICAgICAgICAgICAvXFxkezJ9XFwvXFxkezJ9XFwvXFxkezJ9Ly50ZXN0KGxpbmUpO1xuICAgIH07XG4gICAgXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgbGluZSA9IGxpbmVzW2ldLnRyaW0oKTtcbiAgICAgIFxuICAgICAgLy8gU2tpcCBlbXB0eSBsaW5lc1xuICAgICAgaWYgKCFsaW5lKSBjb250aW51ZTtcbiAgICAgIFxuICAgICAgLy8gU2tpcCBvYnZpb3VzIGhlYWRlcnMgYW5kIHBlcnNvbmFsIGluZm9cbiAgICAgIGlmIChpc0hlYWRlckxpbmUobGluZSkgfHwgaXNQZXJzb25hbEluZm9MaW5lKGxpbmUpKSBjb250aW51ZTtcbiAgICAgIFxuICAgICAgLy8gTG9vayBmb3IgdHJhbnNhY3Rpb24gbGluZXNcbiAgICAgIGlmIChwYXR0ZXJucy50cmFuc2FjdGlvbi50ZXN0KGxpbmUpKSB7XG4gICAgICAgIGxldCB0cmFuc2FjdGlvblRleHQgPSBsaW5lO1xuICAgICAgICBcbiAgICAgICAgLy8gQ29sbGVjdCBjb250aW51YXRpb24gbGluZXNcbiAgICAgICAgbGV0IGogPSBpICsgMTtcbiAgICAgICAgd2hpbGUgKGogPCBsaW5lcy5sZW5ndGgpIHtcbiAgICAgICAgICBjb25zdCBuZXh0TGluZSA9IGxpbmVzW2pdLnRyaW0oKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBTdG9wIGlmIHdlIGhpdCBhbm90aGVyIHRyYW5zYWN0aW9uLCBoZWFkZXIsIG9yIGVtcHR5IGxpbmVcbiAgICAgICAgICBpZiAoIW5leHRMaW5lIHx8IFxuICAgICAgICAgICAgICBwYXR0ZXJucy50cmFuc2FjdGlvbi50ZXN0KG5leHRMaW5lKSB8fFxuICAgICAgICAgICAgICBpc0hlYWRlckxpbmUobmV4dExpbmUpKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gSW5jbHVkZSBpZiBpdCdzIGxpa2VseSBjb250aW51YXRpb24gZGF0YVxuICAgICAgICAgIGlmIChpc0NvbnRpbnVhdGlvbkxpbmUobmV4dExpbmUpIHx8IFxuICAgICAgICAgICAgICAoaXNMaWtlbHlUcmFuc2FjdGlvbkRhdGEobmV4dExpbmUpICYmIG5leHRMaW5lLmxlbmd0aCA8IDEwMCkpIHtcbiAgICAgICAgICAgIHRyYW5zYWN0aW9uVGV4dCArPSBuZXh0TGluZTtcbiAgICAgICAgICAgIGkgPSBqOyAvLyBTa2lwIHRoaXMgbGluZSBpbiBtYWluIGxvb3BcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGorKztcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgdHJhbnNhY3Rpb25MaW5lcy5wdXNoKHRyYW5zYWN0aW9uVGV4dCk7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIHJldHVybiB0cmFuc2FjdGlvbkxpbmVzLmpvaW4oJ1xcblxcbicpO1xuICB9XG5cbiAgY2xlYW5PQ1JPdXRwdXRTaW1wbGlmaWVkKHJhd1RleHQpIHtcbiAgICAvLyBDb3JyZWN0ZWQgdG8gc3BsaXQgYnkgc2luZ2xlIG5ld2xpbmUgdG8gcHJldmVudCBibGFuayBsaW5lc1xuICAgIGNvbnN0IGxpbmVzID0gcmF3VGV4dC5zcGxpdCgnXFxuJyk7XG4gICAgY29uc3Qgc2ltcGxpZmllZExpbmVzID0gW107XG5cbiAgICBmb3IgKGNvbnN0IGxpbmUgb2YgbGluZXMpIHtcbiAgICAgICAgaWYgKCFsaW5lLnRyaW0oKSkgY29udGludWU7XG5cbiAgICAgICAgLy8gUGFyc2UgdGhlIHRyYW5zYWN0aW9uIGxpbmUgdG8gZXh0cmFjdCBlc3NlbnRpYWwgaW5mb1xuICAgICAgICBjb25zdCBzaW1wbGlmaWVkID0gdGhpcy5wYXJzZVRyYW5zYWN0aW9uTGluZShsaW5lKTtcbiAgICAgICAgaWYgKHNpbXBsaWZpZWQpIHtcbiAgICAgICAgICAgIHNpbXBsaWZpZWRMaW5lcy5wdXNoKHNpbXBsaWZpZWQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gSm9pbiB3aXRoIGEgc2luZ2xlIG5ld2xpbmUgZm9yIGNsZWFuIG91dHB1dFxuICAgIHJldHVybiBzaW1wbGlmaWVkTGluZXMuam9pbignXFxuXFxuJyk7XG4gIH1cblxuICBjYXRlZ29yaXplVHJhbnNhY3Rpb25zKHNpbXBsaWZpZWRUZXh0KSB7XG4gICAgaWYgKCFzaW1wbGlmaWVkVGV4dC50cmltKCkpIHJldHVybiAnJztcbiAgICBcbiAgICBjb25zdCBsaW5lcyA9IHNpbXBsaWZpZWRUZXh0LnNwbGl0KCdcXG4nKS5maWx0ZXIobGluZSA9PiBsaW5lLnRyaW0oKSk7XG4gICAgY29uc3QgY2F0ZWdvcml6ZWRMaW5lcyA9IFtdO1xuICAgIFxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGN1cnJlbnRMaW5lID0gbGluZXNbaV0udHJpbSgpO1xuICAgICAgaWYgKCFjdXJyZW50TGluZSkgY29udGludWU7XG4gICAgICBcbiAgICAgIC8vIFBhcnNlIGN1cnJlbnQgdHJhbnNhY3Rpb25cbiAgICAgIGNvbnN0IGN1cnJlbnRNYXRjaCA9IGN1cnJlbnRMaW5lLm1hdGNoKC9eKFxcZHsyfVxcL1xcZHsyfVxcL1xcZHsyfSlcXHMqXFx8XFxzKiguKz8pXFxzKlxcfFxccyooW1xcZCxdK1xcLlxcZHsyfSlcXHMrKFtcXGQsXStcXC5cXGR7Mn0pJC8pO1xuICAgICAgaWYgKCFjdXJyZW50TWF0Y2gpIHtcbiAgICAgICAgY2F0ZWdvcml6ZWRMaW5lcy5wdXNoKGN1cnJlbnRMaW5lKTsgLy8gS2VlcCBsaW5lIGFzLWlzIGlmIGNhbid0IHBhcnNlXG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zdCBbLCBjdXJyZW50RGF0ZSwgY3VycmVudERlc2MsIGN1cnJlbnRBbW91bnQsIGN1cnJlbnRCYWxhbmNlXSA9IGN1cnJlbnRNYXRjaDtcbiAgICAgIGNvbnN0IGN1cnJlbnRCYWxhbmNlTnVtID0gcGFyc2VGbG9hdChjdXJyZW50QmFsYW5jZS5yZXBsYWNlKC8sL2csICcnKSk7XG4gICAgICBjb25zdCBjdXJyZW50QW1vdW50TnVtID0gcGFyc2VGbG9hdChjdXJyZW50QW1vdW50LnJlcGxhY2UoLywvZywgJycpKTtcbiAgICAgIFxuICAgICAgbGV0IHRyYW5zYWN0aW9uVHlwZSA9ICcnO1xuICAgICAgXG4gICAgICAvLyBGb3IgdGhlIGZpcnN0IHRyYW5zYWN0aW9uLCB3ZSBjYW4ndCBjb21wYXJlIHdpdGggcHJldmlvdXNcbiAgICAgIGlmIChpID09PSAwKSB7XG4gICAgICAgIC8vIExvb2sgYXQgdGhlIG5leHQgdHJhbnNhY3Rpb24gdG8gZGV0ZXJtaW5lIHR5cGVcbiAgICAgICAgaWYgKGkgKyAxIDwgbGluZXMubGVuZ3RoKSB7XG4gICAgICAgICAgY29uc3QgbmV4dExpbmUgPSBsaW5lc1tpICsgMV0udHJpbSgpO1xuICAgICAgICAgIGNvbnN0IG5leHRNYXRjaCA9IG5leHRMaW5lLm1hdGNoKC9eKFxcZHsyfVxcL1xcZHsyfVxcL1xcZHsyfSlcXHMqXFx8XFxzKiguKz8pXFxzKlxcfFxccyooW1xcZCxdK1xcLlxcZHsyfSlcXHMrKFtcXGQsXStcXC5cXGR7Mn0pJC8pO1xuICAgICAgICAgIFxuICAgICAgICAgIGlmIChuZXh0TWF0Y2gpIHtcbiAgICAgICAgICAgIGNvbnN0IG5leHRCYWxhbmNlTnVtID0gcGFyc2VGbG9hdChuZXh0TWF0Y2hbNF0ucmVwbGFjZSgvLC9nLCAnJykpO1xuICAgICAgICAgICAgY29uc3QgYmFsYW5jZURpZmYgPSBjdXJyZW50QmFsYW5jZU51bSAtIG5leHRCYWxhbmNlTnVtO1xuICAgICAgICAgICAgY29uc3QgbmV4dEFtb3VudE51bSA9IHBhcnNlRmxvYXQobmV4dE1hdGNoWzNdLnJlcGxhY2UoLywvZywgJycpKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gSWYgdGhlIGJhbGFuY2UgZGlmZmVyZW5jZSByb3VnaGx5IGVxdWFscyB0aGUgbmV4dCB0cmFuc2FjdGlvbiBhbW91bnRcbiAgICAgICAgICAgIC8vIGFuZCBjdXJyZW50IGJhbGFuY2UgaXMgaGlnaGVyLCB0aGVuIGN1cnJlbnQgdHJhbnNhY3Rpb24gd2FzIGxpa2VseSBhIGNyZWRpdFxuICAgICAgICAgICAgaWYgKE1hdGguYWJzKGJhbGFuY2VEaWZmIC0gbmV4dEFtb3VudE51bSkgPCAwLjAxICYmIGN1cnJlbnRCYWxhbmNlTnVtID4gbmV4dEJhbGFuY2VOdW0pIHtcbiAgICAgICAgICAgICAgdHJhbnNhY3Rpb25UeXBlID0gJ0NSRURJVCc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBEZWZhdWx0IGFzc3VtcHRpb24gZm9yIGZpcnN0IHRyYW5zYWN0aW9uXG4gICAgICAgICAgICAgIHRyYW5zYWN0aW9uVHlwZSA9ICdERUJJVCc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRyYW5zYWN0aW9uVHlwZSA9ICdVTktOT1dOJztcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdHJhbnNhY3Rpb25UeXBlID0gJ1VOS05PV04nO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBDb21wYXJlIHdpdGggcHJldmlvdXMgdHJhbnNhY3Rpb25cbiAgICAgICAgY29uc3QgcHJldkxpbmUgPSBsaW5lc1tpIC0gMV0udHJpbSgpO1xuICAgICAgICBjb25zdCBwcmV2TWF0Y2ggPSBwcmV2TGluZS5tYXRjaCgvXihcXGR7Mn1cXC9cXGR7Mn1cXC9cXGR7Mn0pXFxzKlxcfFxccyooLis/KVxccypcXHxcXHMqKFtcXGQsXStcXC5cXGR7Mn0pXFxzKyhbXFxkLF0rXFwuXFxkezJ9KSQvKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChwcmV2TWF0Y2gpIHtcbiAgICAgICAgICBjb25zdCBwcmV2QmFsYW5jZU51bSA9IHBhcnNlRmxvYXQocHJldk1hdGNoWzRdLnJlcGxhY2UoLywvZywgJycpKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBDYWxjdWxhdGUgZXhwZWN0ZWQgYmFsYW5jZSBiYXNlZCBvbiB0cmFuc2FjdGlvbiB0eXBlXG4gICAgICAgICAgY29uc3QgZXhwZWN0ZWRCYWxhbmNlSWZEZWJpdCA9IHByZXZCYWxhbmNlTnVtIC0gY3VycmVudEFtb3VudE51bTtcbiAgICAgICAgICBjb25zdCBleHBlY3RlZEJhbGFuY2VJZkNyZWRpdCA9IHByZXZCYWxhbmNlTnVtICsgY3VycmVudEFtb3VudE51bTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBEZXRlcm1pbmUgd2hpY2ggaXMgY2xvc2VyIHRvIGFjdHVhbCBiYWxhbmNlXG4gICAgICAgICAgY29uc3QgZGViaXREaWZmID0gTWF0aC5hYnMoZXhwZWN0ZWRCYWxhbmNlSWZEZWJpdCAtIGN1cnJlbnRCYWxhbmNlTnVtKTtcbiAgICAgICAgICBjb25zdCBjcmVkaXREaWZmID0gTWF0aC5hYnMoZXhwZWN0ZWRCYWxhbmNlSWZDcmVkaXQgLSBjdXJyZW50QmFsYW5jZU51bSk7XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKGRlYml0RGlmZiA8IGNyZWRpdERpZmYgJiYgZGViaXREaWZmIDwgMC4wMSkge1xuICAgICAgICAgICAgdHJhbnNhY3Rpb25UeXBlID0gJ0RFQklUJztcbiAgICAgICAgICB9IGVsc2UgaWYgKGNyZWRpdERpZmYgPCBkZWJpdERpZmYgJiYgY3JlZGl0RGlmZiA8IDAuMDEpIHtcbiAgICAgICAgICAgIHRyYW5zYWN0aW9uVHlwZSA9ICdDUkVESVQnO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBGYWxsYmFjazogaWYgYmFsYW5jZSBkZWNyZWFzZWQsIGl0J3MgbGlrZWx5IGEgZGViaXRcbiAgICAgICAgICAgIHRyYW5zYWN0aW9uVHlwZSA9IGN1cnJlbnRCYWxhbmNlTnVtIDwgcHJldkJhbGFuY2VOdW0gPyAnREVCSVQnIDogJ0NSRURJVCc7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRyYW5zYWN0aW9uVHlwZSA9ICdVTktOT1dOJztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjb25zdCBmb3JtYXRBbW91bnQgPSBNYXRoLmFicyhjdXJyZW50QW1vdW50TnVtKS50b0ZpeGVkKDIpO1xuICAgICAgXG4gICAgICAvLyBBZGQgdGhlIHRyYW5zYWN0aW9uIHR5cGUgdG8gdGhlIGxpbmVcbiAgICAgIGNhdGVnb3JpemVkTGluZXMucHVzaChgJHtjdXJyZW50RGF0ZX0gfCAke2N1cnJlbnREZXNjfSB8ICR7Zm9ybWF0QW1vdW50fSB8ICR7dHJhbnNhY3Rpb25UeXBlfWApO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gY2F0ZWdvcml6ZWRMaW5lcy5qb2luKCdcXG5cXG4nKTtcbiAgfVxuXG4gIHBhcnNlVHJhbnNhY3Rpb25MaW5lKHRyYW5zYWN0aW9uTGluZSkge1xuICAgIC8vIFJlbW92ZSBleHRyYSB3aGl0ZXNwYWNlIGFuZCBub3JtYWxpemVcbiAgICBjb25zdCBub3JtYWxpemVkID0gdGhpcy5ub3JtYWxpemVXaGl0ZXNwYWNlKHRyYW5zYWN0aW9uTGluZSk7XG5cbiAgICAvLyBQYXR0ZXJuIHRvIG1hdGNoIGRhdGUgYXQgdGhlIGJlZ2lubmluZyBvZiB0aGUgbGluZVxuICAgIGNvbnN0IGRhdGVNYXRjaCA9IG5vcm1hbGl6ZWQubWF0Y2goL14oXFxkezJ9XFwvXFxkezJ9XFwvXFxkezJ9KS8pO1xuICAgIGlmICghZGF0ZU1hdGNoKSByZXR1cm4gbnVsbDtcbiAgICBcbiAgICBjb25zdCBkYXRlID0gZGF0ZU1hdGNoWzFdO1xuICAgIFxuICAgIC8vIENvcnJlY3RseSBleHRyYWN0IGFsbCBudW1iZXJzIHdpdGggYSBkZWNpbWFsIGFuZCB0d28gZGlnaXRzLlxuICAgIGNvbnN0IGN1cnJlbmN5TWF0Y2hlcyA9IHRoaXMuZXh0cmFjdEN1cnJlbmN5QW1vdW50cyhub3JtYWxpemVkKTtcbiAgICBcbiAgICAvLyBJZiB3ZSBjYW4ndCBmaW5kIGF0IGxlYXN0IHR3byBjdXJyZW5jeSBudW1iZXJzLCBpdCdzIG5vdCBhIHZhbGlkIHRyYW5zYWN0aW9uIGxpbmUgZm9yIHRoaXMgb3V0cHV0IGZvcm1hdC5cbiAgICBpZiAoIWN1cnJlbmN5TWF0Y2hlcyB8fCBjdXJyZW5jeU1hdGNoZXMubGVuZ3RoIDwgMikge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgY29uc3QgY2xlYW5BbW91bnRzID0gY3VycmVuY3lNYXRjaGVzLnNsaWNlKCk7XG4gICAgXG4gICAgLy8gVGhlIGFtb3VudCBpcyB0aGUgc2Vjb25kIHRvIGxhc3QgY3VycmVuY3ktZm9ybWF0dGVkIG51bWJlci5cbiAgICBjb25zdCBhbW91bnQgPSBjbGVhbkFtb3VudHNbY3VycmVuY3lNYXRjaGVzLmxlbmd0aCAtIDJdO1xuICAgIC8vIFRoZSBiYWxhbmNlIGlzIHRoZSBsYXN0IGN1cnJlbmN5LWZvcm1hdHRlZCBudW1iZXIuXG4gICAgY29uc3QgYmFsYW5jZSA9IGNsZWFuQW1vdW50c1tjdXJyZW5jeU1hdGNoZXMubGVuZ3RoIC0gMV07XG4gICAgXG4gICAgLy8gRXh0cmFjdCBkZXNjcmlwdGlvbiBieSBmaXJzdCByZW1vdmluZyB0aGUgZGF0ZSBhbmQgYW1vdW50cy5cbiAgICBsZXQgZGVzY3JpcHRpb24gPSBub3JtYWxpemVkXG4gICAgICAucmVwbGFjZShkYXRlLCAnJykgLy8gUmVtb3ZlIGZpcnN0IGRhdGVcbiAgICAgIC5yZXBsYWNlKGFtb3VudCwgJycpIC8vIFJlbW92ZSBhbW91bnRcbiAgICAgIC5yZXBsYWNlKGJhbGFuY2UsICcnKSAvLyBSZW1vdmUgYmFsYW5jZVxuICAgICAgLnRyaW0oKTtcblxuICAgIC8vIFRoZSBrZXkgY2hhbmdlIGlzIGhlcmU6IHJlbW92ZSBhbnkgcmVtYWluaW5nIGRhdGUgcGF0dGVybnMgYW5kIG90aGVyIHVud2FudGVkIGNvZGVzLlxuICAgIGRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb25cbiAgICAgIC5yZXBsYWNlKC8oXFxkezJ9XFwvXFxkezJ9XFwvXFxkezJ9KS9nLCAnJykgLy8gUmVtb3ZlIGFueSByZW1haW5pbmcgZGF0ZSBwYXR0ZXJuc1xuICAgICAgLnJlcGxhY2UoL1xcfC9nLCAnJykgLy8gUmVtb3ZlIHBpcGUgY2hhcmFjdGVyc1xuICAgICAgLnJlcGxhY2UoL1xcYlVQTC0vZywgJycpIC8vIFJlbW92ZSBVUEwtIHByZWZpeFxuICAgICAgLnJlcGxhY2UoL0BbQS1aMC05XFwtXSsvZywgJycpIC8vIFJlbW92ZSBAT0tBWElTLCBASERGQ0JBTksgZXRjXG4gICAgICAucmVwbGFjZSgvLUtLQktcXGQrL2csICcnKSAvLyBSZW1vdmUgYmFuayBjb2RlcyBsaWtlIC1LS0JLMDAwODA1N1xuICAgICAgLnJlcGxhY2UoLy1VUEkkL2csICcnKSAvLyBSZW1vdmUgLVVQSSBlbmRpbmdzXG4gICAgICAucmVwbGFjZSgvLVVQVCQvZywgJycpIC8vIFJlbW92ZSAtVVBUIGVuZGluZ3NcbiAgICAgIC5yZXBsYWNlKC8tUEFZJC9nLCAnJykgLy8gUmVtb3ZlIC1QQVkgZW5kaW5nc1xuICAgICAgLnJlcGxhY2UoL0FJUi1CQU5LL2csICcnKSAvLyBSZW1vdmUgQUlSLUJBTktcbiAgICAgIC5yZXBsYWNlKC9bQS1aMC05XXsxMCx9L2csICcnKSAvLyBSZW1vdmUgbG9uZyBhbHBoYW51bWVyaWMgSURzXG4gICAgICAucmVwbGFjZSgvXFxzKy9nLCAnICcpIC8vIE5vcm1hbGl6ZSBzcGFjZXNcbiAgICAgIC50cmltKCk7XG5cbiAgICAvLyBSZXR1cm4gdGhlIGNsZWFuZWQgc3RyaW5nXG4gICAgY29uc3QgYWJzb2x1dGVBbW91bnQgPSBNYXRoLmFicyhwYXJzZUZsb2F0KGFtb3VudC5yZXBsYWNlKC8sL2csICcnKSkpLnRvRml4ZWQoMik7XG5yZXR1cm4gYCR7ZGF0ZX0gfCAke2Rlc2NyaXB0aW9ufSB8ICR7YWJzb2x1dGVBbW91bnR9ICR7YmFsYW5jZX1gO1xuICB9XG59Il0sIm5hbWVzIjpbIkJhc2VQYXJzZXIiLCJIREZDUGFyc2VyIiwiY29uc3RydWN0b3IiLCJnZXRQYXR0ZXJucyIsInRyYW5zYWN0aW9uIiwiaGVhZGVycyIsImNvbnRpbnVhdGlvbiIsInBlcnNvbmFsSW5mbyIsImNsZWFuT0NST3V0cHV0IiwicmF3VGV4dCIsImxpbmVzIiwic3BsaXQiLCJ0cmFuc2FjdGlvbkxpbmVzIiwicGF0dGVybnMiLCJpc0hlYWRlckxpbmUiLCJsaW5lIiwic29tZSIsInBhdHRlcm4iLCJ0ZXN0IiwiaXNDb250aW51YXRpb25MaW5lIiwibGVuZ3RoIiwiaXNQZXJzb25hbEluZm9MaW5lIiwiaXNMaWtlbHlUcmFuc2FjdGlvbkRhdGEiLCJpIiwidHJpbSIsInRyYW5zYWN0aW9uVGV4dCIsImoiLCJuZXh0TGluZSIsInB1c2giLCJqb2luIiwiY2xlYW5PQ1JPdXRwdXRTaW1wbGlmaWVkIiwic2ltcGxpZmllZExpbmVzIiwic2ltcGxpZmllZCIsInBhcnNlVHJhbnNhY3Rpb25MaW5lIiwiY2F0ZWdvcml6ZVRyYW5zYWN0aW9ucyIsInNpbXBsaWZpZWRUZXh0IiwiZmlsdGVyIiwiY2F0ZWdvcml6ZWRMaW5lcyIsImN1cnJlbnRMaW5lIiwiY3VycmVudE1hdGNoIiwibWF0Y2giLCJjdXJyZW50RGF0ZSIsImN1cnJlbnREZXNjIiwiY3VycmVudEFtb3VudCIsImN1cnJlbnRCYWxhbmNlIiwiY3VycmVudEJhbGFuY2VOdW0iLCJwYXJzZUZsb2F0IiwicmVwbGFjZSIsImN1cnJlbnRBbW91bnROdW0iLCJ0cmFuc2FjdGlvblR5cGUiLCJuZXh0TWF0Y2giLCJuZXh0QmFsYW5jZU51bSIsImJhbGFuY2VEaWZmIiwibmV4dEFtb3VudE51bSIsIk1hdGgiLCJhYnMiLCJwcmV2TGluZSIsInByZXZNYXRjaCIsInByZXZCYWxhbmNlTnVtIiwiZXhwZWN0ZWRCYWxhbmNlSWZEZWJpdCIsImV4cGVjdGVkQmFsYW5jZUlmQ3JlZGl0IiwiZGViaXREaWZmIiwiY3JlZGl0RGlmZiIsImZvcm1hdEFtb3VudCIsInRvRml4ZWQiLCJ0cmFuc2FjdGlvbkxpbmUiLCJub3JtYWxpemVkIiwibm9ybWFsaXplV2hpdGVzcGFjZSIsImRhdGVNYXRjaCIsImRhdGUiLCJjdXJyZW5jeU1hdGNoZXMiLCJleHRyYWN0Q3VycmVuY3lBbW91bnRzIiwiY2xlYW5BbW91bnRzIiwic2xpY2UiLCJhbW91bnQiLCJiYWxhbmNlIiwiZGVzY3JpcHRpb24iLCJhYnNvbHV0ZUFtb3VudCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./components/parsers/hdfcParser.js\n");

/***/ }),

/***/ "./components/parsers/iciciParser.js":
/*!*******************************************!*\
  !*** ./components/parsers/iciciParser.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ICICIParser)\n/* harmony export */ });\n/* harmony import */ var _baseParser_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./baseParser.js */ \"./components/parsers/baseParser.js\");\n// parsers/ICICIParser.js\n\nclass ICICIParser extends _baseParser_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n    constructor(){\n        super(\"ICICI\");\n    }\n    /**\n   * Defines the regular expression patterns for identifying different parts of the statement.\n   */ getPatterns() {\n        return {\n            // Identifies the start of a transaction line (optional S.No, Value Date, Transaction Date)\n            transaction: /^\\s*(?:\\d+\\s+)?\\d{2}\\/\\d{2}\\/\\d{4}\\s+\\d{2}\\/\\d{2}\\/\\d{4}/,\n            // Patterns to identify and ignore header/footer/junk lines.\n            headers: [\n                /DETAILED\\s+STATEMENT/i,\n                /Transactions\\s+List/i,\n                /Account\\s+Number/i,\n                /^S\\s+No\\./i,\n                /^Value\\s+Date/i,\n                /^Transaction\\s+Date/i,\n                /^Withdrawal\\s+Amount/i,\n                /^Deposit\\s+Amount/i,\n                /^Balance\\s+\\(INR\\s+\\)/i,\n                /ICICI\\s+Bank/i\n            ],\n            // Patterns to identify lines that are continuations of a transaction description.\n            continuation: [\n                /@[A-Z0-9\\-]+/,\n                /[A-Z]{3,}BANK/i,\n                /\\b\\d{12,}\\b/,\n                /\\b[A-Z0-9]{15,}\\b/,\n                /^\\s*[a-zA-Z\\s\\/]+$/\n            ]\n        };\n    }\n    /**\n   * STEP 1: Cleans the raw OCR text by removing headers and merging multi-line transactions.\n   * This function is now correctly implemented.\n   */ cleanOCROutput(rawText) {\n        const lines = rawText.split(\"\\n\");\n        const transactionLines = [];\n        const patterns = this.getPatterns();\n        const isHeaderLine = (line)=>patterns.headers.some((pattern)=>pattern.test(line));\n        for(let i = 0; i < lines.length; i++){\n            const line = lines[i].trim();\n            if (!line || isHeaderLine(line)) {\n                continue;\n            }\n            if (patterns.transaction.test(line)) {\n                let transactionText = line;\n                let j = i + 1;\n                while(j < lines.length){\n                    const nextLine = lines[j].trim();\n                    if (!nextLine || patterns.transaction.test(nextLine) || isHeaderLine(nextLine)) {\n                        break;\n                    }\n                    transactionText += \" \" + nextLine;\n                    i = j;\n                    j++;\n                }\n                transactionLines.push(transactionText);\n            }\n        }\n        return transactionLines.join(\"\\n\\n\");\n    }\n    /**\n   * STEP 2: Parses the merged transaction lines into a simplified, structured format.\n   * This function is now fixed to process all lines from the step above.\n   */ cleanOCROutputSimplified(rawText) {\n        const mergedTransactionsText = this.cleanOCROutput(rawText);\n        if (!mergedTransactionsText) return \"\";\n        const mergedLines = mergedTransactionsText.split(\"\\n\\n\");\n        const simplifiedLines = [];\n        for (const line of mergedLines){\n            if (line.trim()) {\n                const simplified = this.parseTransactionLine(line);\n                if (simplified) {\n                    simplifiedLines.push(simplified);\n                }\n            }\n        }\n        return simplifiedLines.join(\"\\n\");\n    }\n    /**\n   * STEP 3: Takes the simplified text and adds the final transaction type (DEBIT/CREDIT).\n   * This function is now fixed to correctly parse its input and categorize all transactions.\n   */ categorizeTransactions(simplifiedText) {\n        if (!simplifiedText || !simplifiedText.trim()) return \"\";\n        const lines = simplifiedText.split(\"\\n\");\n        const categorizedLines = [];\n        for (const line of lines){\n            const parts = line.split(\"|\");\n            if (parts.length < 3) continue;\n            const date = parts[0].trim();\n            let description = parts[1].trim();\n            const amountsPart = parts[2].trim();\n            const amounts = amountsPart.split(/\\s+/);\n            if (amounts.length < 3) continue;\n            const withdrawalAmount = amounts[0];\n            const depositAmount = amounts[1];\n            const withdrawalNum = parseFloat(withdrawalAmount.replace(/,/g, \"\"));\n            const depositNum = parseFloat(depositAmount.replace(/,/g, \"\"));\n            let transactionType = \"UNKNOWN\";\n            let actualAmount = \"0.00\";\n            if (withdrawalNum > 0 && depositNum === 0) {\n                transactionType = \"DEBIT\";\n                actualAmount = withdrawalAmount;\n            } else if (depositNum > 0 && withdrawalNum === 0) {\n                transactionType = \"CREDIT\";\n                actualAmount = depositAmount;\n            }\n            // Further clean the description to make it more readable\n            description = description.replace(/\\/UPI\\/[A-Z\\s]+BANK/gi, \"\").replace(/\\b\\d{10,}\\b/g, \"\").replace(/[a-zA-Z0-9.\\-_]+@[a-zA-Z0-9]+/g, \" \").replace(/\\b[A-Z0-9]{15,}\\b/g, \"\").replace(/\\s+/g, \" \").split(/[\\/-]/)[0].trim();\n            categorizedLines.push(`${date} | ${description || \"Transaction\"} | ${actualAmount} | ${transactionType}`);\n        }\n        return categorizedLines.join(\"\\n\\n\");\n    }\n    /**\n   * HELPER: Parses a single merged transaction line.\n   * This function's logic is the core of the fix.\n   */ parseTransactionLine(transactionLine) {\n        const normalized = transactionLine.replace(/\\s+/g, \" \").trim();\n        // 1. Get the date and the rest of the line's content.\n        const dateMatch = normalized.match(/^\\s*(?:\\d+\\s+)?\\d{2}\\/\\d{2}\\/\\d{4}\\s+(\\d{2}\\/\\d{2}\\/\\d{4})\\s+(.*)$/);\n        if (!dateMatch) return null;\n        const [, date, remainingData] = dateMatch;\n        // 2. Find the crucial three-amount sequence (Withdrawal, Deposit, Balance) within the content.\n        // This is more robust than assuming they are always at the end.\n        // The pattern looks for two numbers followed by a number with exactly two decimal places (the balance).\n        const amountRegex = /(.*)\\s+([\\d,.]*\\d)\\s+([\\d,.]*\\d)\\s+([\\d,.]*\\d\\.\\d{2})\\b/;\n        const amountMatch = remainingData.match(amountRegex);\n        if (!amountMatch) return null;\n        const [, description, withdrawalAmount, depositAmount, balance] = amountMatch;\n        // 3. Return the data in the pipe-separated format for the next step.\n        return `${date} | ${description.trim()} | ${withdrawalAmount} ${depositAmount} ${balance}`;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFZRCxXQUFXRSxLQUFLLENBQUM7UUFDbkMsSUFBSSxDQUFDRCxXQUFXLE9BQU87UUFFdkIsTUFBTSxHQUFHZCxNQUFNZ0IsY0FBYyxHQUFHRjtRQUVoQywrRkFBK0Y7UUFDL0YsZ0VBQWdFO1FBQ2hFLHdHQUF3RztRQUN4RyxNQUFNRyxjQUFjO1FBQ3BCLE1BQU1DLGNBQWNGLGNBQWNELEtBQUssQ0FBQ0U7UUFFeEMsSUFBSSxDQUFDQyxhQUFhLE9BQU87UUFFekIsTUFBTSxHQUFHakIsYUFBYUcsa0JBQWtCQyxlQUFlYyxRQUFRLEdBQUdEO1FBRWxFLHFFQUFxRTtRQUNyRSxPQUFPLENBQUMsRUFBRWxCLEtBQUssR0FBRyxFQUFFQyxZQUFZakIsSUFBSSxHQUFHLEdBQUcsRUFBRW9CLGlCQUFpQixDQUFDLEVBQUVDLGNBQWMsQ0FBQyxFQUFFYyxRQUFRLENBQUM7SUFDNUY7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2Jhbmstc3RhdGVtZW50LXJlYWRlci8uL2NvbXBvbmVudHMvcGFyc2Vycy9pY2ljaVBhcnNlci5qcz9iZDA5Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIHBhcnNlcnMvSUNJQ0lQYXJzZXIuanNcblxuaW1wb3J0IEJhc2VQYXJzZXIgZnJvbSAnLi9iYXNlUGFyc2VyLmpzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSUNJQ0lQYXJzZXIgZXh0ZW5kcyBCYXNlUGFyc2VyIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ0lDSUNJJyk7XG4gIH1cblxuICAvKipcbiAgICogRGVmaW5lcyB0aGUgcmVndWxhciBleHByZXNzaW9uIHBhdHRlcm5zIGZvciBpZGVudGlmeWluZyBkaWZmZXJlbnQgcGFydHMgb2YgdGhlIHN0YXRlbWVudC5cbiAgICovXG4gIGdldFBhdHRlcm5zKCkge1xuICAgIHJldHVybiB7XG4gICAgICAvLyBJZGVudGlmaWVzIHRoZSBzdGFydCBvZiBhIHRyYW5zYWN0aW9uIGxpbmUgKG9wdGlvbmFsIFMuTm8sIFZhbHVlIERhdGUsIFRyYW5zYWN0aW9uIERhdGUpXG4gICAgICB0cmFuc2FjdGlvbjogL15cXHMqKD86XFxkK1xccyspP1xcZHsyfVxcL1xcZHsyfVxcL1xcZHs0fVxccytcXGR7Mn1cXC9cXGR7Mn1cXC9cXGR7NH0vLFxuICAgICAgXG4gICAgICAvLyBQYXR0ZXJucyB0byBpZGVudGlmeSBhbmQgaWdub3JlIGhlYWRlci9mb290ZXIvanVuayBsaW5lcy5cbiAgICAgIGhlYWRlcnM6IFtcbiAgICAgICAgL0RFVEFJTEVEXFxzK1NUQVRFTUVOVC9pLFxuICAgICAgICAvVHJhbnNhY3Rpb25zXFxzK0xpc3QvaSxcbiAgICAgICAgL0FjY291bnRcXHMrTnVtYmVyL2ksXG4gICAgICAgIC9eU1xccytOb1xcLi9pLFxuICAgICAgICAvXlZhbHVlXFxzK0RhdGUvaSxcbiAgICAgICAgL15UcmFuc2FjdGlvblxccytEYXRlL2ksXG4gICAgICAgIC9eV2l0aGRyYXdhbFxccytBbW91bnQvaSxcbiAgICAgICAgL15EZXBvc2l0XFxzK0Ftb3VudC9pLFxuICAgICAgICAvXkJhbGFuY2VcXHMrXFwoSU5SXFxzK1xcKS9pLFxuICAgICAgICAvSUNJQ0lcXHMrQmFuay9pLFxuICAgICAgXSxcbiAgICAgIFxuICAgICAgLy8gUGF0dGVybnMgdG8gaWRlbnRpZnkgbGluZXMgdGhhdCBhcmUgY29udGludWF0aW9ucyBvZiBhIHRyYW5zYWN0aW9uIGRlc2NyaXB0aW9uLlxuICAgICAgY29udGludWF0aW9uOiBbXG4gICAgICAgIC9AW0EtWjAtOVxcLV0rLywgICAgICAgICAvLyBVUEkgaGFuZGxlcyBsaWtlIEBPS0lDSUNJXG4gICAgICAgIC9bQS1aXXszLH1CQU5LL2ksICAgICAgIC8vIEJhbmsgbmFtZXNcbiAgICAgICAgL1xcYlxcZHsxMix9XFxiLywgICAgICAgICAgLy8gTG9uZyBudW1lcmljIHRyYW5zYWN0aW9uIElEc1xuICAgICAgICAvXFxiW0EtWjAtOV17MTUsfVxcYi8sICAgIC8vIExvbmcgYWxwaGFudW1lcmljIHJlZmVyZW5jZSBudW1iZXJzXG4gICAgICAgIC9eXFxzKlthLXpBLVpcXHNcXC9dKyQvLCAgIC8vIExpbmVzIHdpdGggb25seSB0ZXh0L3NsYXNoZXNcbiAgICAgIF0sXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTVEVQIDE6IENsZWFucyB0aGUgcmF3IE9DUiB0ZXh0IGJ5IHJlbW92aW5nIGhlYWRlcnMgYW5kIG1lcmdpbmcgbXVsdGktbGluZSB0cmFuc2FjdGlvbnMuXG4gICAqIFRoaXMgZnVuY3Rpb24gaXMgbm93IGNvcnJlY3RseSBpbXBsZW1lbnRlZC5cbiAgICovXG4gIGNsZWFuT0NST3V0cHV0KHJhd1RleHQpIHtcbiAgICBjb25zdCBsaW5lcyA9IHJhd1RleHQuc3BsaXQoJ1xcbicpO1xuICAgIGNvbnN0IHRyYW5zYWN0aW9uTGluZXMgPSBbXTtcbiAgICBjb25zdCBwYXR0ZXJucyA9IHRoaXMuZ2V0UGF0dGVybnMoKTtcbiAgICBcbiAgICBjb25zdCBpc0hlYWRlckxpbmUgPSAobGluZSkgPT4gcGF0dGVybnMuaGVhZGVycy5zb21lKHBhdHRlcm4gPT4gcGF0dGVybi50ZXN0KGxpbmUpKTtcbiAgICBcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBsaW5lID0gbGluZXNbaV0udHJpbSgpO1xuICAgICAgXG4gICAgICBpZiAoIWxpbmUgfHwgaXNIZWFkZXJMaW5lKGxpbmUpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgXG4gICAgICBpZiAocGF0dGVybnMudHJhbnNhY3Rpb24udGVzdChsaW5lKSkge1xuICAgICAgICBsZXQgdHJhbnNhY3Rpb25UZXh0ID0gbGluZTtcbiAgICAgICAgXG4gICAgICAgIGxldCBqID0gaSArIDE7XG4gICAgICAgIHdoaWxlIChqIDwgbGluZXMubGVuZ3RoKSB7XG4gICAgICAgICAgY29uc3QgbmV4dExpbmUgPSBsaW5lc1tqXS50cmltKCk7XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKCFuZXh0TGluZSB8fCBwYXR0ZXJucy50cmFuc2FjdGlvbi50ZXN0KG5leHRMaW5lKSB8fCBpc0hlYWRlckxpbmUobmV4dExpbmUpKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgdHJhbnNhY3Rpb25UZXh0ICs9ICcgJyArIG5leHRMaW5lO1xuICAgICAgICAgIGkgPSBqO1xuICAgICAgICAgIGorKztcbiAgICAgICAgfVxuICAgICAgICB0cmFuc2FjdGlvbkxpbmVzLnB1c2godHJhbnNhY3Rpb25UZXh0KTtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIHRyYW5zYWN0aW9uTGluZXMuam9pbignXFxuXFxuJyk7XG4gIH1cblxuICAvKipcbiAgICogU1RFUCAyOiBQYXJzZXMgdGhlIG1lcmdlZCB0cmFuc2FjdGlvbiBsaW5lcyBpbnRvIGEgc2ltcGxpZmllZCwgc3RydWN0dXJlZCBmb3JtYXQuXG4gICAqIFRoaXMgZnVuY3Rpb24gaXMgbm93IGZpeGVkIHRvIHByb2Nlc3MgYWxsIGxpbmVzIGZyb20gdGhlIHN0ZXAgYWJvdmUuXG4gICAqL1xuICBjbGVhbk9DUk91dHB1dFNpbXBsaWZpZWQocmF3VGV4dCkge1xuICAgIGNvbnN0IG1lcmdlZFRyYW5zYWN0aW9uc1RleHQgPSB0aGlzLmNsZWFuT0NST3V0cHV0KHJhd1RleHQpO1xuICAgIGlmICghbWVyZ2VkVHJhbnNhY3Rpb25zVGV4dCkgcmV0dXJuICcnO1xuICAgIFxuICAgIGNvbnN0IG1lcmdlZExpbmVzID0gbWVyZ2VkVHJhbnNhY3Rpb25zVGV4dC5zcGxpdCgnXFxuXFxuJyk7XG4gICAgY29uc3Qgc2ltcGxpZmllZExpbmVzID0gW107XG5cbiAgICBmb3IgKGNvbnN0IGxpbmUgb2YgbWVyZ2VkTGluZXMpIHtcbiAgICAgICAgaWYgKGxpbmUudHJpbSgpKSB7XG4gICAgICAgICAgICBjb25zdCBzaW1wbGlmaWVkID0gdGhpcy5wYXJzZVRyYW5zYWN0aW9uTGluZShsaW5lKTtcbiAgICAgICAgICAgIGlmIChzaW1wbGlmaWVkKSB7XG4gICAgICAgICAgICAgICAgc2ltcGxpZmllZExpbmVzLnB1c2goc2ltcGxpZmllZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gc2ltcGxpZmllZExpbmVzLmpvaW4oJ1xcbicpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNURVAgMzogVGFrZXMgdGhlIHNpbXBsaWZpZWQgdGV4dCBhbmQgYWRkcyB0aGUgZmluYWwgdHJhbnNhY3Rpb24gdHlwZSAoREVCSVQvQ1JFRElUKS5cbiAgICogVGhpcyBmdW5jdGlvbiBpcyBub3cgZml4ZWQgdG8gY29ycmVjdGx5IHBhcnNlIGl0cyBpbnB1dCBhbmQgY2F0ZWdvcml6ZSBhbGwgdHJhbnNhY3Rpb25zLlxuICAgKi9cbiAgY2F0ZWdvcml6ZVRyYW5zYWN0aW9ucyhzaW1wbGlmaWVkVGV4dCkge1xuICAgIGlmICghc2ltcGxpZmllZFRleHQgfHwgIXNpbXBsaWZpZWRUZXh0LnRyaW0oKSkgcmV0dXJuICcnO1xuICAgIFxuICAgIGNvbnN0IGxpbmVzID0gc2ltcGxpZmllZFRleHQuc3BsaXQoJ1xcbicpO1xuICAgIGNvbnN0IGNhdGVnb3JpemVkTGluZXMgPSBbXTtcbiAgICBcbiAgICBmb3IgKGNvbnN0IGxpbmUgb2YgbGluZXMpIHtcbiAgICAgIGNvbnN0IHBhcnRzID0gbGluZS5zcGxpdCgnfCcpO1xuICAgICAgaWYgKHBhcnRzLmxlbmd0aCA8IDMpIGNvbnRpbnVlO1xuXG4gICAgICBjb25zdCBkYXRlID0gcGFydHNbMF0udHJpbSgpO1xuICAgICAgbGV0IGRlc2NyaXB0aW9uID0gcGFydHNbMV0udHJpbSgpO1xuICAgICAgY29uc3QgYW1vdW50c1BhcnQgPSBwYXJ0c1syXS50cmltKCk7XG4gICAgICBcbiAgICAgIGNvbnN0IGFtb3VudHMgPSBhbW91bnRzUGFydC5zcGxpdCgvXFxzKy8pO1xuICAgICAgaWYgKGFtb3VudHMubGVuZ3RoIDwgMykgY29udGludWU7XG5cbiAgICAgIGNvbnN0IHdpdGhkcmF3YWxBbW91bnQgPSBhbW91bnRzWzBdO1xuICAgICAgY29uc3QgZGVwb3NpdEFtb3VudCA9IGFtb3VudHNbMV07XG4gICAgICBcbiAgICAgIGNvbnN0IHdpdGhkcmF3YWxOdW0gPSBwYXJzZUZsb2F0KHdpdGhkcmF3YWxBbW91bnQucmVwbGFjZSgvLC9nLCAnJykpO1xuICAgICAgY29uc3QgZGVwb3NpdE51bSA9IHBhcnNlRmxvYXQoZGVwb3NpdEFtb3VudC5yZXBsYWNlKC8sL2csICcnKSk7XG4gICAgICBcbiAgICAgIGxldCB0cmFuc2FjdGlvblR5cGUgPSAnVU5LTk9XTic7XG4gICAgICBsZXQgYWN0dWFsQW1vdW50ID0gJzAuMDAnO1xuICAgICAgXG4gICAgICBpZiAod2l0aGRyYXdhbE51bSA+IDAgJiYgZGVwb3NpdE51bSA9PT0gMCkge1xuICAgICAgICB0cmFuc2FjdGlvblR5cGUgPSAnREVCSVQnO1xuICAgICAgICBhY3R1YWxBbW91bnQgPSB3aXRoZHJhd2FsQW1vdW50O1xuICAgICAgfSBlbHNlIGlmIChkZXBvc2l0TnVtID4gMCAmJiB3aXRoZHJhd2FsTnVtID09PSAwKSB7XG4gICAgICAgIHRyYW5zYWN0aW9uVHlwZSA9ICdDUkVESVQnO1xuICAgICAgICBhY3R1YWxBbW91bnQgPSBkZXBvc2l0QW1vdW50O1xuICAgICAgfVxuXG4gICAgICAvLyBGdXJ0aGVyIGNsZWFuIHRoZSBkZXNjcmlwdGlvbiB0byBtYWtlIGl0IG1vcmUgcmVhZGFibGVcbiAgICAgIGRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb25cbiAgICAgICAgLnJlcGxhY2UoL1xcL1VQSVxcL1tBLVpcXHNdK0JBTksvZ2ksICcnKVxuICAgICAgICAucmVwbGFjZSgvXFxiXFxkezEwLH1cXGIvZywgJycpXG4gICAgICAgIC5yZXBsYWNlKC9bYS16QS1aMC05LlxcLV9dK0BbYS16QS1aMC05XSsvZywgJyAnKVxuICAgICAgICAucmVwbGFjZSgvXFxiW0EtWjAtOV17MTUsfVxcYi9nLCAnJylcbiAgICAgICAgLnJlcGxhY2UoL1xccysvZywgJyAnKVxuICAgICAgICAuc3BsaXQoL1tcXC8tXS8pWzBdXG4gICAgICAgIC50cmltKCk7XG5cbiAgICAgIGNhdGVnb3JpemVkTGluZXMucHVzaChgJHtkYXRlfSB8ICR7ZGVzY3JpcHRpb24gfHwgXCJUcmFuc2FjdGlvblwifSB8ICR7YWN0dWFsQW1vdW50fSB8ICR7dHJhbnNhY3Rpb25UeXBlfWApO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gY2F0ZWdvcml6ZWRMaW5lcy5qb2luKCdcXG5cXG4nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIRUxQRVI6IFBhcnNlcyBhIHNpbmdsZSBtZXJnZWQgdHJhbnNhY3Rpb24gbGluZS5cbiAgICogVGhpcyBmdW5jdGlvbidzIGxvZ2ljIGlzIHRoZSBjb3JlIG9mIHRoZSBmaXguXG4gICAqL1xuICBwYXJzZVRyYW5zYWN0aW9uTGluZSh0cmFuc2FjdGlvbkxpbmUpIHtcbiAgICBjb25zdCBub3JtYWxpemVkID0gdHJhbnNhY3Rpb25MaW5lLnJlcGxhY2UoL1xccysvZywgJyAnKS50cmltKCk7XG5cbiAgICAvLyAxLiBHZXQgdGhlIGRhdGUgYW5kIHRoZSByZXN0IG9mIHRoZSBsaW5lJ3MgY29udGVudC5cbiAgICBjb25zdCBkYXRlTWF0Y2ggPSBub3JtYWxpemVkLm1hdGNoKC9eXFxzKig/OlxcZCtcXHMrKT9cXGR7Mn1cXC9cXGR7Mn1cXC9cXGR7NH1cXHMrKFxcZHsyfVxcL1xcZHsyfVxcL1xcZHs0fSlcXHMrKC4qKSQvKTtcbiAgICBpZiAoIWRhdGVNYXRjaCkgcmV0dXJuIG51bGw7XG5cbiAgICBjb25zdCBbLCBkYXRlLCByZW1haW5pbmdEYXRhXSA9IGRhdGVNYXRjaDtcblxuICAgIC8vIDIuIEZpbmQgdGhlIGNydWNpYWwgdGhyZWUtYW1vdW50IHNlcXVlbmNlIChXaXRoZHJhd2FsLCBEZXBvc2l0LCBCYWxhbmNlKSB3aXRoaW4gdGhlIGNvbnRlbnQuXG4gICAgLy8gVGhpcyBpcyBtb3JlIHJvYnVzdCB0aGFuIGFzc3VtaW5nIHRoZXkgYXJlIGFsd2F5cyBhdCB0aGUgZW5kLlxuICAgIC8vIFRoZSBwYXR0ZXJuIGxvb2tzIGZvciB0d28gbnVtYmVycyBmb2xsb3dlZCBieSBhIG51bWJlciB3aXRoIGV4YWN0bHkgdHdvIGRlY2ltYWwgcGxhY2VzICh0aGUgYmFsYW5jZSkuXG4gICAgY29uc3QgYW1vdW50UmVnZXggPSAvKC4qKVxccysoW1xcZCwuXSpcXGQpXFxzKyhbXFxkLC5dKlxcZClcXHMrKFtcXGQsLl0qXFxkXFwuXFxkezJ9KVxcYi87XG4gICAgY29uc3QgYW1vdW50TWF0Y2ggPSByZW1haW5pbmdEYXRhLm1hdGNoKGFtb3VudFJlZ2V4KTtcblxuICAgIGlmICghYW1vdW50TWF0Y2gpIHJldHVybiBudWxsO1xuICAgIFxuICAgIGNvbnN0IFssIGRlc2NyaXB0aW9uLCB3aXRoZHJhd2FsQW1vdW50LCBkZXBvc2l0QW1vdW50LCBiYWxhbmNlXSA9IGFtb3VudE1hdGNoO1xuICAgIFxuICAgIC8vIDMuIFJldHVybiB0aGUgZGF0YSBpbiB0aGUgcGlwZS1zZXBhcmF0ZWQgZm9ybWF0IGZvciB0aGUgbmV4dCBzdGVwLlxuICAgIHJldHVybiBgJHtkYXRlfSB8ICR7ZGVzY3JpcHRpb24udHJpbSgpfSB8ICR7d2l0aGRyYXdhbEFtb3VudH0gJHtkZXBvc2l0QW1vdW50fSAke2JhbGFuY2V9YDtcbiAgfVxufSJdLCJuYW1lcyI6WyJCYXNlUGFyc2VyIiwiSUNJQ0lQYXJzZXIiLCJjb25zdHJ1Y3RvciIsImdldFBhdHRlcm5zIiwidHJhbnNhY3Rpb24iLCJoZWFkZXJzIiwiY29udGludWF0aW9uIiwiY2xlYW5PQ1JPdXRwdXQiLCJyYXdUZXh0IiwibGluZXMiLCJzcGxpdCIsInRyYW5zYWN0aW9uTGluZXMiLCJwYXR0ZXJucyIsImlzSGVhZGVyTGluZSIsImxpbmUiLCJzb21lIiwicGF0dGVybiIsInRlc3QiLCJpIiwibGVuZ3RoIiwidHJpbSIsInRyYW5zYWN0aW9uVGV4dCIsImoiLCJuZXh0TGluZSIsInB1c2giLCJqb2luIiwiY2xlYW5PQ1JPdXRwdXRTaW1wbGlmaWVkIiwibWVyZ2VkVHJhbnNhY3Rpb25zVGV4dCIsIm1lcmdlZExpbmVzIiwic2ltcGxpZmllZExpbmVzIiwic2ltcGxpZmllZCIsInBhcnNlVHJhbnNhY3Rpb25MaW5lIiwiY2F0ZWdvcml6ZVRyYW5zYWN0aW9ucyIsInNpbXBsaWZpZWRUZXh0IiwiY2F0ZWdvcml6ZWRMaW5lcyIsInBhcnRzIiwiZGF0ZSIsImRlc2NyaXB0aW9uIiwiYW1vdW50c1BhcnQiLCJhbW91bnRzIiwid2l0aGRyYXdhbEFtb3VudCIsImRlcG9zaXRBbW91bnQiLCJ3aXRoZHJhd2FsTnVtIiwicGFyc2VGbG9hdCIsInJlcGxhY2UiLCJkZXBvc2l0TnVtIiwidHJhbnNhY3Rpb25UeXBlIiwiYWN0dWFsQW1vdW50IiwidHJhbnNhY3Rpb25MaW5lIiwibm9ybWFsaXplZCIsImRhdGVNYXRjaCIsIm1hdGNoIiwicmVtYWluaW5nRGF0YSIsImFtb3VudFJlZ2V4IiwiYW1vdW50TWF0Y2giLCJiYWxhbmNlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./components/parsers/iciciParser.js\n");

/***/ }),

/***/ "./components/parsers/index.js":
/*!*************************************!*\
  !*** ./components/parsers/index.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getParser: () => (/* binding */ getParser),\n/* harmony export */   getSupportedBanks: () => (/* binding */ getSupportedBanks)\n/* harmony export */ });\n/* harmony import */ var _hdfcParser_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./hdfcParser.js */ \"./components/parsers/hdfcParser.js\");\n/* harmony import */ var _kotakParser_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./kotakParser.js */ \"./components/parsers/kotakParser.js\");\n/* harmony import */ var _iciciParser_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./iciciParser.js */ \"./components/parsers/iciciParser.js\");\n// components/parsers/index.js\n\n\n\nfunction getParser(docCode) {\n    if (!docCode) {\n        throw new Error(\"Document code cannot be empty.\");\n    }\n    switch(docCode.toUpperCase()){\n        case \"HDFC\":\n            return new _hdfcParser_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n        case \"KOTAK\":\n            return new _kotakParser_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n        case \"ICICI\":\n            return new _iciciParser_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n        default:\n            throw new Error(`Parser not implemented for code: ${docCode}`);\n    }\n}\nfunction getSupportedBanks() {\n    return [\n        \"HDFC\",\n        \"KOTAK\",\n        \"ICICI\"\n    ];\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9jb21wb25lbnRzL3BhcnNlcnMvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQSw4QkFBOEI7QUFFVztBQUNFO0FBQ0E7QUFFcEMsU0FBU0csVUFBVUMsT0FBTztJQUMvQixJQUFJLENBQUNBLFNBQVM7UUFDWixNQUFNLElBQUlDLE1BQU07SUFDbEI7SUFFQSxPQUFRRCxRQUFRRSxXQUFXO1FBQ3pCLEtBQUs7WUFDSCxPQUFPLElBQUlOLHNEQUFVQTtRQUV2QixLQUFLO1lBQ0gsT0FBTyxJQUFJQyx1REFBV0E7UUFFeEIsS0FBSztZQUNILE9BQU8sSUFBSUMsdURBQVdBO1FBR3hCO1lBQ0UsTUFBTSxJQUFJRyxNQUFNLENBQUMsaUNBQWlDLEVBQUVELFFBQVEsQ0FBQztJQUNqRTtBQUNGO0FBRU8sU0FBU0c7SUFDZCxPQUFPO1FBQUM7UUFBUTtRQUFTO0tBQVE7QUFDbkMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iYW5rLXN0YXRlbWVudC1yZWFkZXIvLi9jb21wb25lbnRzL3BhcnNlcnMvaW5kZXguanM/OGRlNiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBjb21wb25lbnRzL3BhcnNlcnMvaW5kZXguanNcblxuaW1wb3J0IEhERkNQYXJzZXIgZnJvbSAnLi9oZGZjUGFyc2VyLmpzJztcbmltcG9ydCBLb3Rha1BhcnNlciBmcm9tICcuL2tvdGFrUGFyc2VyLmpzJztcbmltcG9ydCBJQ0lDSVBhcnNlciBmcm9tICcuL2ljaWNpUGFyc2VyLmpzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGdldFBhcnNlcihkb2NDb2RlKSB7XG4gIGlmICghZG9jQ29kZSkge1xuICAgIHRocm93IG5ldyBFcnJvcignRG9jdW1lbnQgY29kZSBjYW5ub3QgYmUgZW1wdHkuJyk7XG4gIH1cblxuICBzd2l0Y2ggKGRvY0NvZGUudG9VcHBlckNhc2UoKSkge1xuICAgIGNhc2UgJ0hERkMnOlxuICAgICAgcmV0dXJuIG5ldyBIREZDUGFyc2VyKCk7XG4gICAgXG4gICAgY2FzZSAnS09UQUsnOlxuICAgICAgcmV0dXJuIG5ldyBLb3Rha1BhcnNlcigpO1xuXG4gICAgY2FzZSAnSUNJQ0knOlxuICAgICAgcmV0dXJuIG5ldyBJQ0lDSVBhcnNlcigpO1xuICAgIFxuICAgIFxuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFBhcnNlciBub3QgaW1wbGVtZW50ZWQgZm9yIGNvZGU6ICR7ZG9jQ29kZX1gKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3VwcG9ydGVkQmFua3MoKSB7XG4gIHJldHVybiBbJ0hERkMnLCAnS09UQUsnLCAnSUNJQ0knXTtcbn0iXSwibmFtZXMiOlsiSERGQ1BhcnNlciIsIktvdGFrUGFyc2VyIiwiSUNJQ0lQYXJzZXIiLCJnZXRQYXJzZXIiLCJkb2NDb2RlIiwiRXJyb3IiLCJ0b1VwcGVyQ2FzZSIsImdldFN1cHBvcnRlZEJhbmtzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./components/parsers/index.js\n");

/***/ }),

/***/ "./components/parsers/kotakParser.js":
/*!*******************************************!*\
  !*** ./components/parsers/kotakParser.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ KotakParser)\n/* harmony export */ });\n/* harmony import */ var _baseParser_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./baseParser.js */ \"./components/parsers/baseParser.js\");\n// parsers/KotakParser.js\n\nclass KotakParser extends _baseParser_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n    constructor(){\n        super(\"Kotak\");\n    }\n    /**\n   * Defines the regular expressions specific to Kotak Bank statements.\n   */ getPatterns() {\n        return {\n            // Transaction line starts with a DD-MM-YYYY date format\n            transaction: /^\\d{2}-\\d{2}-\\d{4}\\s+/,\n            // Generic patterns to identify header/footer/metadata lines\n            headers: [\n                // Page and document structure\n                /^={3,}\\s*PAGE/i,\n                /^(Page|PageNo)[\\s:]?\\d+(\\s+of\\s+\\d+)?/i,\n                // Bank identification (any bank)\n                /\\b(BANK|MAHINDRA|KOTAK)\\b/i,\n                /\\b(IFSC|MICR|RTGS|NEFT)\\s+(Code|No)/i,\n                // Account and customer info patterns\n                /^(Account|Acc)\\s+(No|Number)\\s*[:=]/i,\n                /^(Cust|Customer)\\s+/i,\n                /^Currency\\s*[:=]/i,\n                /^Branch\\s*[:=]/i,\n                /^Nominee\\s+(Registered|Name)/i,\n                // Statement headers and footers\n                /^(Date|Txn Date)\\s+(Narration|Description)/i,\n                /^Statement\\s+(Summary|Period)/i,\n                /^(Opening|Closing)\\s+Balance/i,\n                /^Total\\s+(Withdrawal|Deposit|Credit|Debit)/i,\n                /^(Withdrawal|Deposit|Credit|Debit)\\s+(Count|Amount)/i,\n                // Disclaimers and legal text\n                /^(Any|All)\\s+discrepancy/i,\n                /^End\\s+of\\s+Statement/i,\n                /^This\\s+is\\s+(system|computer)/i,\n                /^(Generated|Printed)\\s+(On|At)/i,\n                /does\\s+not\\s+require\\s+(signature|stamp)/i,\n                // Common document elements\n                /^(Registered|Corporate)\\s+Office/i,\n                /^For\\s+(any|more)\\s+(queries|information)/i\n            ],\n            // Dynamic continuation patterns\n            continuation: [\n                // UPI related continuations\n                /^\\/UP[Il]?intent$/i,\n                /^\\/Payment(\\s|$)/i,\n                /^from\\s+Ph(one)?$/i,\n                // Transaction type continuations\n                /^\\[(Rent|EMI|Loan|Bill)\\s+for$/i,\n                /^(repayme|repayment)$/i,\n                /^\\/[A-Z][a-z]+pay$/i,\n                // Merchant continuations\n                /^I[A-Z][a-z]+Online/i,\n                /^\\d+\\s+(will?|rs?)$/i,\n                /^(Pay\\s+to|Transfer\\s+to)$/i,\n                /^[A-Z][a-z]+Pe$/i,\n                /^Only\\s+Rs\\.?$/i\n            ],\n            // Dynamic personal information patterns\n            personalInfo: [\n                // Name patterns\n                /^(MR|MS|MRS|DR|PROF)\\.?\\s+[A-Z][A-Za-z\\s]+$/,\n                /^[A-Z][A-Za-z]+\\s+[A-Z][A-Za-z]+(\\s+Period)?$/i,\n                // Address patterns\n                /^(FLAT|APARTMENT|HOUSE|BLDG|BUILDING)\\s+(NO\\.?|NUMBER)\\s*\\d+/i,\n                /^(FLOOR|FLR)\\s*\\d+/i,\n                /^[A-Z\\d\\s]+(APARTMENT|COMPLEX|RESIDENCY|LAYOUT|COLONY)$/i,\n                /^[A-Z\\d\\s]+(ROAD|STREET|AVENUE|LANE|CROSS)$/i,\n                /^[A-Z\\d\\s]+(NAGAR|PURAM|ENCLAVE|SOCIETY)$/i,\n                // City and location patterns\n                /^[A-Z][a-z]+(ABAD|URU|AI|PORE|TAN|GAR)-\\d{6}$/i,\n                /^(KARNATAKA|MAHARASHTRA|TAMIL\\s+NADU|GUJARAT|DELHI|RAJASTHAN|UP|MP),?\\s+(INDIA)?$/i,\n                /^INDIA$/i,\n                // Contact information\n                /^(Phone|Mobile|Tel|Contact)\\s+(No|Number)\\.?\\s*[:=]?\\s*\\d/i,\n                /^Email\\s*[:=]/i\n            ]\n        };\n    }\n    /**\n   * Cleans raw OCR text by identifying transaction lines and merging them with their continuations.\n   */ cleanOCROutput(rawText) {\n        const lines = rawText.split(\"\\n\");\n        const transactionLines = [];\n        const patterns = this.getPatterns();\n        const isHeaderLine = (line)=>patterns.headers.some((p)=>p.test(line));\n        const isContinuationLine = (line)=>patterns.continuation.some((p)=>p.test(line));\n        const isPersonalInfoLine = (line)=>patterns.personalInfo.some((p)=>p.test(line));\n        const hasTransactionElements = (line)=>{\n            return /UPI-\\d+/.test(line) || /IMPS-\\d+/.test(line) || /NEFTINW-\\d+/.test(line) || /MB-\\d+/.test(line) || /BF-[a-z0-9]+/.test(line) || /\\d+\\.\\d{2}\\((Cr|Dr)\\)/.test(line);\n        };\n        for(let i = 0; i < lines.length; i++){\n            const line = lines[i].trim();\n            if (!line || isHeaderLine(line) || isPersonalInfoLine(line)) {\n                continue;\n            }\n            if (patterns.transaction.test(line)) {\n                let transactionText = line;\n                let j = i + 1;\n                while(j < lines.length){\n                    const nextLine = lines[j].trim();\n                    if (!nextLine || patterns.transaction.test(nextLine) || isHeaderLine(nextLine)) {\n                        break;\n                    }\n                    if (isContinuationLine(nextLine) || hasTransactionElements(nextLine) && nextLine.length < 150) {\n                        transactionText += \" \" + nextLine;\n                        i = j;\n                    } else {\n                        break;\n                    }\n                    j++;\n                }\n                transactionText = transactionText.replace(/\\s+/g, \" \").trim();\n                if (transactionText) {\n                    transactionLines.push(transactionText);\n                }\n            }\n        }\n        return transactionLines.join(\"\\n\\n\");\n    }\n    /**\n   * Takes raw text, parses each potential transaction line, and formats it into a simplified structure.\n   */ cleanOCROutputSimplified(rawText) {\n        const lines = rawText.split(\"\\n\");\n        const simplifiedLines = [];\n        for (const line of lines){\n            if (!line.trim()) continue;\n            const simplified = this.parseTransactionLine(line);\n            if (simplified) {\n                simplifiedLines.push(simplified);\n            }\n        }\n        return simplifiedLines.join(\"\\n\\n\");\n    }\n    /**\n   * Categorizes transactions as 'credit' or 'debit' based on the (Cr/Dr) indicator.\n   */ categorizeTransactions(simplifiedText) {\n        if (!simplifiedText || !simplifiedText.trim()) {\n            return \"\";\n        }\n        const lines = simplifiedText.split(\"\\n\").filter((line)=>line.trim());\n        const categorizedLines = [];\n        const transactionRegex = /^(\\d{2}-\\d{2}-\\d{4})\\s*\\|\\s*(.+?)\\s*\\|\\s*([\\d,]+\\.\\d{2})\\((Cr|Dr)\\)/;\n        for (const line of lines){\n            const match = line.match(transactionRegex);\n            if (match) {\n                const [, date, description, amount, typeIndicator] = match;\n                const transactionType = typeIndicator === \"Cr\" ? \"CREDIT\" : \"DEBIT\";\n                categorizedLines.push(`${date} | ${description.trim()} | ${amount} | ${transactionType}`);\n            }\n        }\n        return categorizedLines.join(\"\\n\\n\");\n    }\n    /**\n   * Parses a single raw transaction line to extract and clean the date, description, and amount.\n   */ parseTransactionLine(transactionLine) {\n        const baseRegex = /^(\\d{2}-\\d{2}-\\d{4})\\s+(.+?)\\s+(\\d{1,3}(?:,\\d{3})*\\.\\d{2}\\((?:Dr|Cr)\\)).*$/;\n        const match = transactionLine.match(baseRegex);\n        if (!match) {\n            return null;\n        }\n        const [, date, fullDescription, amount] = match;\n        let cleanedDescription = \"UNKNOWN\";\n        // Refined parsing logic for various transaction types\n        if (fullDescription.startsWith(\"NEFT\")) {\n            const neftMatch = fullDescription.match(/^NEFT\\s+[A-Z0-9]+\\s+(.+?)\\s+NEFTINW-\\d+/);\n            if (neftMatch) cleanedDescription = neftMatch[1];\n        } else if (fullDescription.startsWith(\"MB:RECEIVED FROM\")) {\n            const mbMatch = fullDescription.match(/MB:RECEIVED FROM\\s+(.+?)\\s+MB-\\d+/);\n            if (mbMatch) cleanedDescription = mbMatch[1];\n        } else if (fullDescription.toUpperCase().includes(\"IMPS\")) {\n            const impsMatch = fullDescription.match(/(?:SentIMPS|Senilupss21)\\d*([A-Za-z\\s\\.]+?)(?:\\/|IMPS)/);\n            if (impsMatch) cleanedDescription = impsMatch[1];\n        } else if (fullDescription.startsWith(\"CASHBACK EARNED\")) {\n            cleanedDescription = \"CASHBACK EARNED\";\n        } else if (fullDescription.includes(\"/\")) {\n            const parts = fullDescription.split(\"/\");\n            const firstPart = parts[0];\n            if (/^(UPI|UPU|UPV|UPl|UP1)$/i.test(firstPart)) {\n                cleanedDescription = parts[1];\n            } else {\n                cleanedDescription = firstPart.replace(/^(UPI|UPU|UPV|UPl|UP1)/i, \"\");\n            }\n        }\n        return `${date} | ${cleanedDescription.trim()} | ${amount}`;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QkFDNUNSLHFCQUFxQk8sS0FBSyxDQUFDLEVBQUU7WUFDakMsT0FBTztnQkFDSFAscUJBQXFCUSxVQUFVN0IsT0FBTyxDQUFDLDJCQUEyQjtZQUN0RTtRQUNKO1FBRUEsT0FBTyxDQUFDLEVBQUVhLEtBQUssR0FBRyxFQUFFUSxtQkFBbUJ6QixJQUFJLEdBQUcsR0FBRyxFQUFFbUIsT0FBTyxDQUFDO0lBQzdEO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iYW5rLXN0YXRlbWVudC1yZWFkZXIvLi9jb21wb25lbnRzL3BhcnNlcnMva290YWtQYXJzZXIuanM/N2ZjZiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBwYXJzZXJzL0tvdGFrUGFyc2VyLmpzXG5cbmltcG9ydCBCYXNlUGFyc2VyIGZyb20gJy4vYmFzZVBhcnNlci5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEtvdGFrUGFyc2VyIGV4dGVuZHMgQmFzZVBhcnNlciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdLb3RhaycpO1xuICB9XG5cbiAgLyoqXG4gICAqIERlZmluZXMgdGhlIHJlZ3VsYXIgZXhwcmVzc2lvbnMgc3BlY2lmaWMgdG8gS290YWsgQmFuayBzdGF0ZW1lbnRzLlxuICAgKi9cbiAgZ2V0UGF0dGVybnMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLy8gVHJhbnNhY3Rpb24gbGluZSBzdGFydHMgd2l0aCBhIERELU1NLVlZWVkgZGF0ZSBmb3JtYXRcbiAgICAgICAgdHJhbnNhY3Rpb246IC9eXFxkezJ9LVxcZHsyfS1cXGR7NH1cXHMrLyxcbiAgICAgICAgXG4gICAgICAgIC8vIEdlbmVyaWMgcGF0dGVybnMgdG8gaWRlbnRpZnkgaGVhZGVyL2Zvb3Rlci9tZXRhZGF0YSBsaW5lc1xuICAgICAgICBoZWFkZXJzOiBbXG4gICAgICAgICAgLy8gUGFnZSBhbmQgZG9jdW1lbnQgc3RydWN0dXJlXG4gICAgICAgICAgL149ezMsfVxccypQQUdFL2ksICAgICAgICAgICAgICAgICAgICAvLyBQYWdlIHNlcGFyYXRvcnNcbiAgICAgICAgICAvXihQYWdlfFBhZ2VObylbXFxzOl0/XFxkKyhcXHMrb2ZcXHMrXFxkKyk/L2ksIC8vIFBhZ2UgbnVtYmVyc1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIEJhbmsgaWRlbnRpZmljYXRpb24gKGFueSBiYW5rKVxuICAgICAgICAgIC9cXGIoQkFOS3xNQUhJTkRSQXxLT1RBSylcXGIvaSwgICAgICAgIC8vIEJhbmsgbmFtZXNcbiAgICAgICAgICAvXFxiKElGU0N8TUlDUnxSVEdTfE5FRlQpXFxzKyhDb2RlfE5vKS9pLCAvLyBCYW5raW5nIGNvZGVzXG4gICAgICAgICAgXG4gICAgICAgICAgLy8gQWNjb3VudCBhbmQgY3VzdG9tZXIgaW5mbyBwYXR0ZXJuc1xuICAgICAgICAgIC9eKEFjY291bnR8QWNjKVxccysoTm98TnVtYmVyKVxccypbOj1dL2ksIC8vIEFjY291bnQgbnVtYmVyIGxpbmVzXG4gICAgICAgICAgL14oQ3VzdHxDdXN0b21lcilcXHMrL2ksICAgICAgICAgICAgICAvLyBDdXN0b21lciBpbmZvXG4gICAgICAgICAgL15DdXJyZW5jeVxccypbOj1dL2ksICAgICAgICAgICAgICAgICAvLyBDdXJyZW5jeSBzcGVjaWZpY2F0aW9uXG4gICAgICAgICAgL15CcmFuY2hcXHMqWzo9XS9pLCAgICAgICAgICAgICAgICAgICAvLyBCcmFuY2ggaW5mb1xuICAgICAgICAgIC9eTm9taW5lZVxccysoUmVnaXN0ZXJlZHxOYW1lKS9pLCAgICAgLy8gTm9taW5lZSBpbmZvXG4gICAgICAgICAgXG4gICAgICAgICAgLy8gU3RhdGVtZW50IGhlYWRlcnMgYW5kIGZvb3RlcnNcbiAgICAgICAgICAvXihEYXRlfFR4biBEYXRlKVxccysoTmFycmF0aW9ufERlc2NyaXB0aW9uKS9pLCAvLyBUYWJsZSBoZWFkZXJzXG4gICAgICAgICAgL15TdGF0ZW1lbnRcXHMrKFN1bW1hcnl8UGVyaW9kKS9pLCAgICAvLyBTdGF0ZW1lbnQgc2VjdGlvbnNcbiAgICAgICAgICAvXihPcGVuaW5nfENsb3NpbmcpXFxzK0JhbGFuY2UvaSwgICAgIC8vIEJhbGFuY2UgbGluZXNcbiAgICAgICAgICAvXlRvdGFsXFxzKyhXaXRoZHJhd2FsfERlcG9zaXR8Q3JlZGl0fERlYml0KS9pLCAvLyBTdW1tYXJ5IHRvdGFsc1xuICAgICAgICAgIC9eKFdpdGhkcmF3YWx8RGVwb3NpdHxDcmVkaXR8RGViaXQpXFxzKyhDb3VudHxBbW91bnQpL2ksIC8vIFRyYW5zYWN0aW9uIGNvdW50c1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIERpc2NsYWltZXJzIGFuZCBsZWdhbCB0ZXh0XG4gICAgICAgICAgL14oQW55fEFsbClcXHMrZGlzY3JlcGFuY3kvaSwgICAgICAgICAvLyBEaXNjbGFpbWVyIHN0YXJ0XG4gICAgICAgICAgL15FbmRcXHMrb2ZcXHMrU3RhdGVtZW50L2ksICAgICAgICAgICAgLy8gU3RhdGVtZW50IGVuZFxuICAgICAgICAgIC9eVGhpc1xccytpc1xccysoc3lzdGVtfGNvbXB1dGVyKS9pLCAgIC8vIFN5c3RlbSBnZW5lcmF0ZWRcbiAgICAgICAgICAvXihHZW5lcmF0ZWR8UHJpbnRlZClcXHMrKE9ufEF0KS9pLCAgIC8vIEdlbmVyYXRpb24gaW5mb1xuICAgICAgICAgIC9kb2VzXFxzK25vdFxccytyZXF1aXJlXFxzKyhzaWduYXR1cmV8c3RhbXApL2ksIC8vIExlZ2FsIGRpc2NsYWltZXJzXG4gICAgICAgICAgXG4gICAgICAgICAgLy8gQ29tbW9uIGRvY3VtZW50IGVsZW1lbnRzXG4gICAgICAgICAgL14oUmVnaXN0ZXJlZHxDb3Jwb3JhdGUpXFxzK09mZmljZS9pLCAgLy8gT2ZmaWNlIGFkZHJlc3Nlc1xuICAgICAgICAgIC9eRm9yXFxzKyhhbnl8bW9yZSlcXHMrKHF1ZXJpZXN8aW5mb3JtYXRpb24pL2ksIC8vIEhlbHAgdGV4dFxuICAgICAgICBdLFxuICAgICAgICBcbiAgICAgICAgLy8gRHluYW1pYyBjb250aW51YXRpb24gcGF0dGVybnNcbiAgICAgICAgY29udGludWF0aW9uOiBbXG4gICAgICAgICAgLy8gVVBJIHJlbGF0ZWQgY29udGludWF0aW9uc1xuICAgICAgICAgIC9eXFwvVVBbSWxdP2ludGVudCQvaSwgICAgICAgICAgICAgICAvLyBVUEkgaW50ZW50IHZhcmlhdGlvbnNcbiAgICAgICAgICAvXlxcL1BheW1lbnQoXFxzfCQpL2ksICAgICAgICAgICAgICAgIC8vIFBheW1lbnQgY29udGludWF0aW9uc1xuICAgICAgICAgIC9eZnJvbVxccytQaChvbmUpPyQvaSwgICAgICAgICAgICAgICAvLyBQaG9uZSBwYXltZW50XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gVHJhbnNhY3Rpb24gdHlwZSBjb250aW51YXRpb25zXG4gICAgICAgICAgL15cXFsoUmVudHxFTUl8TG9hbnxCaWxsKVxccytmb3IkL2ksICAvLyBQYXltZW50IGRlc2NyaXB0aW9ucyBpbiBicmFja2V0c1xuICAgICAgICAgIC9eKHJlcGF5bWV8cmVwYXltZW50KSQvaSwgICAgICAgICAgIC8vIFJlcGF5bWVudCBjb250aW51YXRpb25zXG4gICAgICAgICAgL15cXC9bQS1aXVthLXpdK3BheSQvaSwgICAgICAgICAgICAgIC8vIFZhcmlvdXMgcGF5IHNlcnZpY2VzIChMYXp5cGF5LCBldGMuKVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIE1lcmNoYW50IGNvbnRpbnVhdGlvbnNcbiAgICAgICAgICAvXklbQS1aXVthLXpdK09ubGluZS9pLCAgICAgICAgICAgICAvLyBPbmxpbmUgc2VydmljZSBjb250aW51YXRpb25zXG4gICAgICAgICAgL15cXGQrXFxzKyh3aWxsP3xycz8pJC9pLCAgICAgICAgICAgICAvLyBBbW91bnQgY29udGludWF0aW9uc1xuICAgICAgICAgIC9eKFBheVxccyt0b3xUcmFuc2Zlclxccyt0bykkL2ksICAgICAgLy8gVHJhbnNmZXIgZGVzY3JpcHRpb25zXG4gICAgICAgICAgL15bQS1aXVthLXpdK1BlJC9pLCAgICAgICAgICAgICAgICAgLy8gUGF5bWVudCBwbGF0Zm9ybXMgKEJoYXJhdFBlLCBldGMuKVxuICAgICAgICAgIC9eT25seVxccytSc1xcLj8kL2ksICAgICAgICAgICAgICAgICAgLy8gQW1vdW50IHF1YWxpZmllcnNcbiAgICAgICAgXSxcbiAgICAgICAgXG4gICAgICAgIC8vIER5bmFtaWMgcGVyc29uYWwgaW5mb3JtYXRpb24gcGF0dGVybnNcbiAgICAgICAgcGVyc29uYWxJbmZvOiBbXG4gICAgICAgICAgLy8gTmFtZSBwYXR0ZXJuc1xuICAgICAgICAgIC9eKE1SfE1TfE1SU3xEUnxQUk9GKVxcLj9cXHMrW0EtWl1bQS1aYS16XFxzXSskLyxcbiAgICAgICAgICAvXltBLVpdW0EtWmEtel0rXFxzK1tBLVpdW0EtWmEtel0rKFxccytQZXJpb2QpPyQvaSwgLy8gTmFtZSB3aXRoIG9wdGlvbmFsIFwiUGVyaW9kXCJcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBBZGRyZXNzIHBhdHRlcm5zXG4gICAgICAgICAgL14oRkxBVHxBUEFSVE1FTlR8SE9VU0V8QkxER3xCVUlMRElORylcXHMrKE5PXFwuP3xOVU1CRVIpXFxzKlxcZCsvaSxcbiAgICAgICAgICAvXihGTE9PUnxGTFIpXFxzKlxcZCsvaSwgICAgICAgICAgICAgIC8vIEZsb29yIG51bWJlcnNcbiAgICAgICAgICAvXltBLVpcXGRcXHNdKyhBUEFSVE1FTlR8Q09NUExFWHxSRVNJREVOQ1l8TEFZT1VUfENPTE9OWSkkL2ksXG4gICAgICAgICAgL15bQS1aXFxkXFxzXSsoUk9BRHxTVFJFRVR8QVZFTlVFfExBTkV8Q1JPU1MpJC9pLFxuICAgICAgICAgIC9eW0EtWlxcZFxcc10rKE5BR0FSfFBVUkFNfEVOQ0xBVkV8U09DSUVUWSkkL2ksXG4gICAgICAgICAgXG4gICAgICAgICAgLy8gQ2l0eSBhbmQgbG9jYXRpb24gcGF0dGVybnNcbiAgICAgICAgICAvXltBLVpdW2Etel0rKEFCQUR8VVJVfEFJfFBPUkV8VEFOfEdBUiktXFxkezZ9JC9pLCAvLyBDaXRpZXMgd2l0aCBwaW5jb2Rlc1xuICAgICAgICAgIC9eKEtBUk5BVEFLQXxNQUhBUkFTSFRSQXxUQU1JTFxccytOQURVfEdVSkFSQVR8REVMSEl8UkFKQVNUSEFOfFVQfE1QKSw/XFxzKyhJTkRJQSk/JC9pLFxuICAgICAgICAgIC9eSU5ESUEkL2ksICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvdW50cnkgbGluZVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIENvbnRhY3QgaW5mb3JtYXRpb25cbiAgICAgICAgICAvXihQaG9uZXxNb2JpbGV8VGVsfENvbnRhY3QpXFxzKyhOb3xOdW1iZXIpXFwuP1xccypbOj1dP1xccypcXGQvaSxcbiAgICAgICAgICAvXkVtYWlsXFxzKls6PV0vaSwgICAgICAgICAgICAgICAgICAgLy8gRW1haWwgbGluZXNcbiAgICAgICAgXVxuICAgICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDbGVhbnMgcmF3IE9DUiB0ZXh0IGJ5IGlkZW50aWZ5aW5nIHRyYW5zYWN0aW9uIGxpbmVzIGFuZCBtZXJnaW5nIHRoZW0gd2l0aCB0aGVpciBjb250aW51YXRpb25zLlxuICAgKi9cbiAgY2xlYW5PQ1JPdXRwdXQocmF3VGV4dCkge1xuICAgIGNvbnN0IGxpbmVzID0gcmF3VGV4dC5zcGxpdCgnXFxuJyk7XG4gICAgY29uc3QgdHJhbnNhY3Rpb25MaW5lcyA9IFtdO1xuICAgIGNvbnN0IHBhdHRlcm5zID0gdGhpcy5nZXRQYXR0ZXJucygpO1xuXG4gICAgY29uc3QgaXNIZWFkZXJMaW5lID0gKGxpbmUpID0+IHBhdHRlcm5zLmhlYWRlcnMuc29tZShwID0+IHAudGVzdChsaW5lKSk7XG4gICAgY29uc3QgaXNDb250aW51YXRpb25MaW5lID0gKGxpbmUpID0+IHBhdHRlcm5zLmNvbnRpbnVhdGlvbi5zb21lKHAgPT4gcC50ZXN0KGxpbmUpKTtcbiAgICBjb25zdCBpc1BlcnNvbmFsSW5mb0xpbmUgPSAobGluZSkgPT4gcGF0dGVybnMucGVyc29uYWxJbmZvLnNvbWUocCA9PiBwLnRlc3QobGluZSkpO1xuXG4gICAgY29uc3QgaGFzVHJhbnNhY3Rpb25FbGVtZW50cyA9IChsaW5lKSA9PiB7XG4gICAgICByZXR1cm4gL1VQSS1cXGQrLy50ZXN0KGxpbmUpIHx8XG4gICAgICAgICAgICAgL0lNUFMtXFxkKy8udGVzdChsaW5lKSB8fFxuICAgICAgICAgICAgIC9ORUZUSU5XLVxcZCsvLnRlc3QobGluZSkgfHxcbiAgICAgICAgICAgICAvTUItXFxkKy8udGVzdChsaW5lKSB8fFxuICAgICAgICAgICAgIC9CRi1bYS16MC05XSsvLnRlc3QobGluZSkgfHxcbiAgICAgICAgICAgICAvXFxkK1xcLlxcZHsyfVxcKChDcnxEcilcXCkvLnRlc3QobGluZSk7XG4gICAgfTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGxpbmUgPSBsaW5lc1tpXS50cmltKCk7XG4gICAgICBpZiAoIWxpbmUgfHwgaXNIZWFkZXJMaW5lKGxpbmUpIHx8IGlzUGVyc29uYWxJbmZvTGluZShsaW5lKSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHBhdHRlcm5zLnRyYW5zYWN0aW9uLnRlc3QobGluZSkpIHtcbiAgICAgICAgbGV0IHRyYW5zYWN0aW9uVGV4dCA9IGxpbmU7XG4gICAgICAgIGxldCBqID0gaSArIDE7XG4gICAgICAgIHdoaWxlIChqIDwgbGluZXMubGVuZ3RoKSB7XG4gICAgICAgICAgY29uc3QgbmV4dExpbmUgPSBsaW5lc1tqXS50cmltKCk7XG4gICAgICAgICAgaWYgKCFuZXh0TGluZSB8fCBwYXR0ZXJucy50cmFuc2FjdGlvbi50ZXN0KG5leHRMaW5lKSB8fCBpc0hlYWRlckxpbmUobmV4dExpbmUpKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGlzQ29udGludWF0aW9uTGluZShuZXh0TGluZSkgfHwgKGhhc1RyYW5zYWN0aW9uRWxlbWVudHMobmV4dExpbmUpICYmIG5leHRMaW5lLmxlbmd0aCA8IDE1MCkpIHtcbiAgICAgICAgICAgIHRyYW5zYWN0aW9uVGV4dCArPSAnICcgKyBuZXh0TGluZTtcbiAgICAgICAgICAgIGkgPSBqO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgaisrO1xuICAgICAgICB9XG4gICAgICAgIHRyYW5zYWN0aW9uVGV4dCA9IHRyYW5zYWN0aW9uVGV4dC5yZXBsYWNlKC9cXHMrL2csICcgJykudHJpbSgpO1xuICAgICAgICBpZiAodHJhbnNhY3Rpb25UZXh0KSB7XG4gICAgICAgICAgdHJhbnNhY3Rpb25MaW5lcy5wdXNoKHRyYW5zYWN0aW9uVGV4dCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRyYW5zYWN0aW9uTGluZXMuam9pbignXFxuXFxuJyk7XG4gIH1cbiAgXG4gIC8qKlxuICAgKiBUYWtlcyByYXcgdGV4dCwgcGFyc2VzIGVhY2ggcG90ZW50aWFsIHRyYW5zYWN0aW9uIGxpbmUsIGFuZCBmb3JtYXRzIGl0IGludG8gYSBzaW1wbGlmaWVkIHN0cnVjdHVyZS5cbiAgICovXG4gIGNsZWFuT0NST3V0cHV0U2ltcGxpZmllZChyYXdUZXh0KSB7XG4gICAgY29uc3QgbGluZXMgPSByYXdUZXh0LnNwbGl0KCdcXG4nKTtcbiAgICBjb25zdCBzaW1wbGlmaWVkTGluZXMgPSBbXTtcblxuICAgIGZvciAoY29uc3QgbGluZSBvZiBsaW5lcykge1xuICAgICAgICBpZiAoIWxpbmUudHJpbSgpKSBjb250aW51ZTtcbiAgICAgICAgY29uc3Qgc2ltcGxpZmllZCA9IHRoaXMucGFyc2VUcmFuc2FjdGlvbkxpbmUobGluZSk7XG4gICAgICAgIGlmIChzaW1wbGlmaWVkKSB7XG4gICAgICAgICAgICBzaW1wbGlmaWVkTGluZXMucHVzaChzaW1wbGlmaWVkKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc2ltcGxpZmllZExpbmVzLmpvaW4oJ1xcblxcbicpO1xuICB9XG4gIFxuICAvKipcbiAgICogQ2F0ZWdvcml6ZXMgdHJhbnNhY3Rpb25zIGFzICdjcmVkaXQnIG9yICdkZWJpdCcgYmFzZWQgb24gdGhlIChDci9EcikgaW5kaWNhdG9yLlxuICAgKi9cbiAgY2F0ZWdvcml6ZVRyYW5zYWN0aW9ucyhzaW1wbGlmaWVkVGV4dCkge1xuICAgIGlmICghc2ltcGxpZmllZFRleHQgfHwgIXNpbXBsaWZpZWRUZXh0LnRyaW0oKSkge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgXG4gICAgY29uc3QgbGluZXMgPSBzaW1wbGlmaWVkVGV4dC5zcGxpdCgnXFxuJykuZmlsdGVyKGxpbmUgPT4gbGluZS50cmltKCkpO1xuICAgIGNvbnN0IGNhdGVnb3JpemVkTGluZXMgPSBbXTtcbiAgICBjb25zdCB0cmFuc2FjdGlvblJlZ2V4ID0gL14oXFxkezJ9LVxcZHsyfS1cXGR7NH0pXFxzKlxcfFxccyooLis/KVxccypcXHxcXHMqKFtcXGQsXStcXC5cXGR7Mn0pXFwoKENyfERyKVxcKS87XG5cbiAgICBmb3IgKGNvbnN0IGxpbmUgb2YgbGluZXMpIHtcbiAgICAgIGNvbnN0IG1hdGNoID0gbGluZS5tYXRjaCh0cmFuc2FjdGlvblJlZ2V4KTtcbiAgXG4gICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgY29uc3QgWywgZGF0ZSwgZGVzY3JpcHRpb24sIGFtb3VudCwgdHlwZUluZGljYXRvcl0gPSBtYXRjaDtcbiAgICAgICAgY29uc3QgdHJhbnNhY3Rpb25UeXBlID0gdHlwZUluZGljYXRvciA9PT0gJ0NyJyA/ICdDUkVESVQnIDogJ0RFQklUJztcbiAgICAgICAgY2F0ZWdvcml6ZWRMaW5lcy5wdXNoKGAke2RhdGV9IHwgJHtkZXNjcmlwdGlvbi50cmltKCl9IHwgJHthbW91bnR9IHwgJHt0cmFuc2FjdGlvblR5cGV9YCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjYXRlZ29yaXplZExpbmVzLmpvaW4oJ1xcblxcbicpO1xuICB9XG5cbiAgLyoqXG4gICAqIFBhcnNlcyBhIHNpbmdsZSByYXcgdHJhbnNhY3Rpb24gbGluZSB0byBleHRyYWN0IGFuZCBjbGVhbiB0aGUgZGF0ZSwgZGVzY3JpcHRpb24sIGFuZCBhbW91bnQuXG4gICAqL1xuICBwYXJzZVRyYW5zYWN0aW9uTGluZSh0cmFuc2FjdGlvbkxpbmUpIHtcbiAgICBjb25zdCBiYXNlUmVnZXggPSAvXihcXGR7Mn0tXFxkezJ9LVxcZHs0fSlcXHMrKC4rPylcXHMrKFxcZHsxLDN9KD86LFxcZHszfSkqXFwuXFxkezJ9XFwoKD86RHJ8Q3IpXFwpKS4qJC87XG4gICAgY29uc3QgbWF0Y2ggPSB0cmFuc2FjdGlvbkxpbmUubWF0Y2goYmFzZVJlZ2V4KTtcblxuICAgIGlmICghbWF0Y2gpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgY29uc3QgWyAsIGRhdGUsIGZ1bGxEZXNjcmlwdGlvbiwgYW1vdW50XSA9IG1hdGNoO1xuICAgIGxldCBjbGVhbmVkRGVzY3JpcHRpb24gPSAnVU5LTk9XTic7XG5cbiAgICAvLyBSZWZpbmVkIHBhcnNpbmcgbG9naWMgZm9yIHZhcmlvdXMgdHJhbnNhY3Rpb24gdHlwZXNcbiAgICBpZiAoZnVsbERlc2NyaXB0aW9uLnN0YXJ0c1dpdGgoJ05FRlQnKSkge1xuICAgICAgICBjb25zdCBuZWZ0TWF0Y2ggPSBmdWxsRGVzY3JpcHRpb24ubWF0Y2goL15ORUZUXFxzK1tBLVowLTldK1xccysoLis/KVxccytORUZUSU5XLVxcZCsvKTtcbiAgICAgICAgaWYgKG5lZnRNYXRjaCkgY2xlYW5lZERlc2NyaXB0aW9uID0gbmVmdE1hdGNoWzFdO1xuICAgIH0gZWxzZSBpZiAoZnVsbERlc2NyaXB0aW9uLnN0YXJ0c1dpdGgoJ01COlJFQ0VJVkVEIEZST00nKSkge1xuICAgICAgICBjb25zdCBtYk1hdGNoID0gZnVsbERlc2NyaXB0aW9uLm1hdGNoKC9NQjpSRUNFSVZFRCBGUk9NXFxzKyguKz8pXFxzK01CLVxcZCsvKTtcbiAgICAgICAgaWYgKG1iTWF0Y2gpIGNsZWFuZWREZXNjcmlwdGlvbiA9IG1iTWF0Y2hbMV07XG4gICAgfSBlbHNlIGlmIChmdWxsRGVzY3JpcHRpb24udG9VcHBlckNhc2UoKS5pbmNsdWRlcygnSU1QUycpKSB7XG4gICAgICAgIGNvbnN0IGltcHNNYXRjaCA9IGZ1bGxEZXNjcmlwdGlvbi5tYXRjaCgvKD86U2VudElNUFN8U2VuaWx1cHNzMjEpXFxkKihbQS1aYS16XFxzXFwuXSs/KSg/OlxcL3xJTVBTKS8pO1xuICAgICAgICBpZiAoaW1wc01hdGNoKSBjbGVhbmVkRGVzY3JpcHRpb24gPSBpbXBzTWF0Y2hbMV07XG4gICAgfSBlbHNlIGlmIChmdWxsRGVzY3JpcHRpb24uc3RhcnRzV2l0aCgnQ0FTSEJBQ0sgRUFSTkVEJykpIHtcbiAgICAgICAgY2xlYW5lZERlc2NyaXB0aW9uID0gJ0NBU0hCQUNLIEVBUk5FRCc7XG4gICAgfSBlbHNlIGlmIChmdWxsRGVzY3JpcHRpb24uaW5jbHVkZXMoJy8nKSkge1xuICAgICAgICBjb25zdCBwYXJ0cyA9IGZ1bGxEZXNjcmlwdGlvbi5zcGxpdCgnLycpO1xuICAgICAgICBjb25zdCBmaXJzdFBhcnQgPSBwYXJ0c1swXTtcbiAgICAgICAgaWYgKC9eKFVQSXxVUFV8VVBWfFVQbHxVUDEpJC9pLnRlc3QoZmlyc3RQYXJ0KSkge1xuICAgICAgICAgICAgY2xlYW5lZERlc2NyaXB0aW9uID0gcGFydHNbMV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjbGVhbmVkRGVzY3JpcHRpb24gPSBmaXJzdFBhcnQucmVwbGFjZSgvXihVUEl8VVBVfFVQVnxVUGx8VVAxKS9pLCAnJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gYCR7ZGF0ZX0gfCAke2NsZWFuZWREZXNjcmlwdGlvbi50cmltKCl9IHwgJHthbW91bnR9YDtcbiAgfVxufSJdLCJuYW1lcyI6WyJCYXNlUGFyc2VyIiwiS290YWtQYXJzZXIiLCJjb25zdHJ1Y3RvciIsImdldFBhdHRlcm5zIiwidHJhbnNhY3Rpb24iLCJoZWFkZXJzIiwiY29udGludWF0aW9uIiwicGVyc29uYWxJbmZvIiwiY2xlYW5PQ1JPdXRwdXQiLCJyYXdUZXh0IiwibGluZXMiLCJzcGxpdCIsInRyYW5zYWN0aW9uTGluZXMiLCJwYXR0ZXJucyIsImlzSGVhZGVyTGluZSIsImxpbmUiLCJzb21lIiwicCIsInRlc3QiLCJpc0NvbnRpbnVhdGlvbkxpbmUiLCJpc1BlcnNvbmFsSW5mb0xpbmUiLCJoYXNUcmFuc2FjdGlvbkVsZW1lbnRzIiwiaSIsImxlbmd0aCIsInRyaW0iLCJ0cmFuc2FjdGlvblRleHQiLCJqIiwibmV4dExpbmUiLCJyZXBsYWNlIiwicHVzaCIsImpvaW4iLCJjbGVhbk9DUk91dHB1dFNpbXBsaWZpZWQiLCJzaW1wbGlmaWVkTGluZXMiLCJzaW1wbGlmaWVkIiwicGFyc2VUcmFuc2FjdGlvbkxpbmUiLCJjYXRlZ29yaXplVHJhbnNhY3Rpb25zIiwic2ltcGxpZmllZFRleHQiLCJmaWx0ZXIiLCJjYXRlZ29yaXplZExpbmVzIiwidHJhbnNhY3Rpb25SZWdleCIsIm1hdGNoIiwiZGF0ZSIsImRlc2NyaXB0aW9uIiwiYW1vdW50IiwidHlwZUluZGljYXRvciIsInRyYW5zYWN0aW9uVHlwZSIsInRyYW5zYWN0aW9uTGluZSIsImJhc2VSZWdleCIsImZ1bGxEZXNjcmlwdGlvbiIsImNsZWFuZWREZXNjcmlwdGlvbiIsInN0YXJ0c1dpdGgiLCJuZWZ0TWF0Y2giLCJtYk1hdGNoIiwidG9VcHBlckNhc2UiLCJpbmNsdWRlcyIsImltcHNNYXRjaCIsInBhcnRzIiwiZmlyc3RQYXJ0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./components/parsers/kotakParser.js\n");

/***/ }),

/***/ "./components/pnlStatementReader.js":
/*!******************************************!*\
  !*** ./components/pnlStatementReader.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ FinancialDataTableReader)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_supabase__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/supabase */ \"./lib/supabase.js\");\n/* harmony import */ var tesseract_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! tesseract.js */ \"tesseract.js\");\n/* harmony import */ var tesseract_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(tesseract_js__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var pdfjs_dist__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! pdfjs-dist */ \"pdfjs-dist\");\n/* harmony import */ var pdfjs_dist__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(pdfjs_dist__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _lib_dataStore__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../lib/dataStore */ \"./lib/dataStore.js\");\n// components/FinancialDataTableReader.js\n\n\n // Make sure you have this file\n\n\n\n// Set up PDF.js worker\nif (false) {}\n// **NEW, MORE ROBUST PARSER**\n// This parser no longer relies on reading headers. It identifies data rows\n// by the month format (e.g., \"Jan-24\") and assumes a fixed column order.\nconst DataTableParser = {\n    parse: (text)=>{\n        const dataRows = [];\n        const lines = text.split(\"\\n\");\n        for (const line of lines){\n            const trimmedLine = line.trim();\n            // Check if the line starts with the typical month format (e.g., \"Jan-24\")\n            if (/^[A-Za-z]{3}-\\d{2}/.test(trimmedLine)) {\n                const values = trimmedLine.split(/\\s+/); // Split the row by spaces\n                // Ensure we have enough columns, otherwise skip the row\n                if (values.length >= 6) {\n                    const rowObject = {\n                        month: values[0],\n                        revenue: values[1],\n                        operating_expenses: values[2],\n                        interest_expense: values[3],\n                        emi_total: values[4],\n                        cash_on_hand: values[5]\n                    };\n                    dataRows.push(rowObject);\n                }\n            }\n        }\n        return dataRows;\n    }\n};\nfunction FinancialDataTableReader({ onProcessComplete }) {\n    const [file, setFile] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [ocrProgress, setOcrProgress] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [ocrOutput, setOcrOutput] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [parsedData, setParsedData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [aiAnalysis, setAiAnalysis] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [aiLoading, setAiLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [aiError, setAiError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [saveLoading, setSaveLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [saveSuccess, setSaveSuccess] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const convertPDFToImages = async (file)=>{\n        const arrayBuffer = await file.arrayBuffer();\n        const pdf = await pdfjs_dist__WEBPACK_IMPORTED_MODULE_4__.getDocument(arrayBuffer).promise;\n        const images = [];\n        for(let i = 1; i <= pdf.numPages; i++){\n            setOcrProgress(`Converting page ${i} of ${pdf.numPages} to image...`);\n            const page = await pdf.getPage(i);\n            const viewport = page.getViewport({\n                scale: 2.5\n            });\n            const canvas = document.createElement(\"canvas\");\n            const context = canvas.getContext(\"2d\");\n            canvas.height = viewport.height;\n            canvas.width = viewport.width;\n            await page.render({\n                canvasContext: context,\n                viewport\n            }).promise;\n            images.push(canvas.toDataURL(\"image/png\"));\n        }\n        return images;\n    };\n    const performOCR = async (images)=>{\n        let fullText = \"\";\n        for(let i = 0; i < images.length; i++){\n            setOcrProgress(`Processing page ${i + 1} of ${images.length} with OCR...`);\n            const { data: { text } } = await tesseract_js__WEBPACK_IMPORTED_MODULE_3___default().recognize(images[i], \"eng\", {\n                logger: (m)=>{\n                    if (m.status === \"recognizing text\") setOcrProgress(`Page ${i + 1}: ${Math.round(m.progress * 100)}% complete`);\n                },\n                tessedit_pageseg_mode: 6\n            });\n            fullText += `\\n${text}`;\n        }\n        return fullText;\n    };\n    const handleFileUpload = async (event)=>{\n        const uploadedFile = event.target.files[0];\n        if (!uploadedFile) return;\n        setFile(uploadedFile);\n        setLoading(true);\n        setError(\"\");\n        setOcrProgress(\"\");\n        setOcrOutput(\"\");\n        setParsedData([]);\n        setAiAnalysis(\"\");\n        setAiError(\"\");\n        setSaveSuccess(false);\n        if (onProcessComplete) onProcessComplete(false);\n        try {\n            const images = await convertPDFToImages(uploadedFile);\n            const extractedText = await performOCR(images);\n            setOcrOutput(extractedText);\n            (0,_lib_dataStore__WEBPACK_IMPORTED_MODULE_5__.updatePnLData)(extractedText);\n            setOcrProgress(\"Parsing data structure...\");\n            const data = DataTableParser.parse(extractedText);\n            setParsedData(data);\n            if (data.length === 0) {\n                setError(\"Could not find any data rows matching the expected format (e.g., 'Jan-24 ...'). Please check the document.\");\n                if (onProcessComplete) onProcessComplete(false);\n            } else {\n                setOcrProgress(`Parsing complete! Found ${data.length} rows.`);\n                if (onProcessComplete) onProcessComplete(true);\n            }\n        } catch (err) {\n            setError(\"Error processing document: \" + err.message);\n            if (onProcessComplete) onProcessComplete(false);\n        } finally{\n            setLoading(false);\n        }\n    };\n    const handleAiAnalysis = async ()=>{\n        if (!ocrOutput) {\n            setAiError(\"No OCR data is available to analyze.\");\n            return;\n        }\n        setAiLoading(true);\n        setAiError(\"\");\n        setAiAnalysis(\"\");\n        try {\n            const response = await fetch(\"/api/analyzePNL\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    ocrOutput: ocrOutput\n                })\n            });\n            const data = await response.json();\n            if (!response.ok) {\n                throw new Error(data.details || \"An unknown error occurred during analysis.\");\n            }\n            setAiAnalysis(data.analysis);\n        } catch (err) {\n            setAiError(err.message);\n        } finally{\n            setAiLoading(false);\n        }\n    };\n    const saveToDatabase = async ()=>{\n        if (!parsedData || parsedData.length === 0) {\n            setError(\"No parsed data available to save.\");\n            return;\n        }\n        setSaveLoading(true);\n        setSaveSuccess(false);\n        setError(\"\");\n        try {\n            // Clean and convert parsed string data to the correct numeric types for the database\n            const dataToInsert = parsedData.map((row)=>({\n                    month: row.month,\n                    revenue: parseFloat(String(row.revenue)?.replace(/,/g, \"\")) || 0,\n                    operating_expenses: parseFloat(String(row.operating_expenses)?.replace(/,/g, \"\")) || 0,\n                    interest_expense: parseFloat(String(row.interest_expense)?.replace(/,/g, \"\")) || 0,\n                    emi_total: parseFloat(String(row.emi_total)?.replace(/,/g, \"\")) || 0,\n                    cash_on_hand: parseFloat(String(row.cash_on_hand)?.replace(/,/g, \"\")) || 0\n                }));\n            const { error } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_2__.supabase.from(\"pnl\").insert(dataToInsert);\n            if (error) {\n                throw error;\n            }\n            setSaveSuccess(true);\n        } catch (err) {\n            console.error(\"Database save error:\", err);\n            setError(\"Failed to save to database: \" + err.message);\n        } finally{\n            setSaveLoading(false);\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"bg-white rounded-lg shadow-lg p-6\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mb-8\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center gap-3 mb-4\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center justify-center w-8 h-8 rounded-full bg-blue-600 text-white font-bold text-lg\",\n                                children: \"2\"\n                            }, void 0, false, {\n                                fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/pnlStatementReader.js\",\n                                lineNumber: 201,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                className: \"text-lg font-semibold text-gray-800\",\n                                children: \"Upload Your PnL Sheet\"\n                            }, void 0, false, {\n                                fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/pnlStatementReader.js\",\n                                lineNumber: 204,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/pnlStatementReader.js\",\n                        lineNumber: 200,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center justify-center w-full\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                            className: \"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100 transition-colors\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex flex-col items-center justify-center pt-5 pb-6\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                            className: \"w-8 h-8 mb-4 text-gray-500\",\n                                            fill: \"none\",\n                                            stroke: \"currentColor\",\n                                            viewBox: \"0 0 24 24\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                strokeLinecap: \"round\",\n                                                strokeLinejoin: \"round\",\n                                                strokeWidth: 2,\n                                                d: \"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/pnlStatementReader.js\",\n                                                lineNumber: 210,\n                                                columnNumber: 113\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/pnlStatementReader.js\",\n                                            lineNumber: 210,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"mb-2 text-sm text-gray-500\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"font-semibold\",\n                                                    children: \"Click to upload\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/pnlStatementReader.js\",\n                                                    lineNumber: 211,\n                                                    columnNumber: 57\n                                                }, this),\n                                                \" document\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/pnlStatementReader.js\",\n                                            lineNumber: 211,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-xs text-gray-500\",\n                                            children: \"PDF, PNG, JPG files\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/pnlStatementReader.js\",\n                                            lineNumber: 212,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/pnlStatementReader.js\",\n                                    lineNumber: 209,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                    type: \"file\",\n                                    className: \"hidden\",\n                                    accept: \".pdf,image/*\",\n                                    onChange: handleFileUpload,\n                                    disabled: loading\n                                }, void 0, false, {\n                                    fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/pnlStatementReader.js\",\n                                    lineNumber: 214,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/pnlStatementReader.js\",\n                            lineNumber: 208,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/pnlStatementReader.js\",\n                        lineNumber: 207,\n                        columnNumber: 9\n                    }, this),\n                    file && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mt-4 text-sm text-gray-600\",\n                        children: [\n                            \"Selected file: \",\n                            file.name\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/pnlStatementReader.js\",\n                        lineNumber: 217,\n                        columnNumber: 19\n                    }, this),\n                    loading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mt-4 flex flex-col items-center justify-center\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mb-2\"\n                            }, void 0, false, {\n                                fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/pnlStatementReader.js\",\n                                lineNumber: 218,\n                                columnNumber: 86\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"text-gray-600\",\n                                children: ocrProgress || \"Processing...\"\n                            }, void 0, false, {\n                                fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/pnlStatementReader.js\",\n                                lineNumber: 218,\n                                columnNumber: 175\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/pnlStatementReader.js\",\n                        lineNumber: 218,\n                        columnNumber: 22\n                    }, this),\n                    error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mt-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded\",\n                        children: error\n                    }, void 0, false, {\n                        fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/pnlStatementReader.js\",\n                        lineNumber: 219,\n                        columnNumber: 20\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/pnlStatementReader.js\",\n                lineNumber: 199,\n                columnNumber: 7\n            }, this),\n            ocrOutput && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mb-8\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                        className: \"text-xl font-semibold mb-4 text-gray-800\",\n                        children: \"Extracted Data\"\n                    }, void 0, false, {\n                        fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/pnlStatementReader.js\",\n                        lineNumber: 225,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                        value: ocrOutput,\n                        readOnly: true,\n                        className: \"w-full h-96 p-4 border border-gray-300 rounded-lg font-mono text-xs bg-gray-100\"\n                    }, void 0, false, {\n                        fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/pnlStatementReader.js\",\n                        lineNumber: 226,\n                        columnNumber: 11\n                    }, this),\n                    saveSuccess && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mt-4 bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                children: \"Success!\"\n                            }, void 0, false, {\n                                fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/pnlStatementReader.js\",\n                                lineNumber: 234,\n                                columnNumber: 11\n                            }, this),\n                            \" Your P&L data has been saved to the database.\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/pnlStatementReader.js\",\n                        lineNumber: 233,\n                        columnNumber: 9\n                    }, this),\n                    parsedData.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mt-4\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: saveToDatabase,\n                            disabled: saveLoading || saveSuccess,\n                            className: `px-4 py-2 text-white font-semibold rounded-lg shadow-sm transition-colors ${saveSuccess ? \"bg-green-600 hover:bg-green-700 cursor-default\" : saveLoading ? \"bg-gray-400 cursor-not-allowed\" : \"bg-blue-600 hover:bg-blue-700\"}`,\n                            children: saveLoading ? \"Saving...\" : saveSuccess ? \"Saved \" : \"Save Data\"\n                        }, void 0, false, {\n                            fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/pnlStatementReader.js\",\n                            lineNumber: 239,\n                            columnNumber: 15\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/pnlStatementReader.js\",\n                        lineNumber: 238,\n                        columnNumber: 13\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/pnlStatementReader.js\",\n                lineNumber: 224,\n                columnNumber: 9\n            }, this),\n            ocrOutput && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-6 border-t pt-6\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                        className: \"text-lg font-semibold mb-3 text-indigo-800\",\n                        children: \"Optional: Get AI Insights\"\n                    }, void 0, false, {\n                        fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/pnlStatementReader.js\",\n                        lineNumber: 259,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: handleAiAnalysis,\n                        disabled: aiLoading,\n                        className: \"px-4 py-2 bg-indigo-600 text-white font-semibold rounded-lg shadow-sm hover:bg-indigo-700 disabled:bg-indigo-300 disabled:cursor-not-allowed\",\n                        children: aiLoading ? \"Analyzing...\" : \"Analyze with Watsonx AI\"\n                    }, void 0, false, {\n                        fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/pnlStatementReader.js\",\n                        lineNumber: 260,\n                        columnNumber: 11\n                    }, this),\n                    aiLoading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mt-4 flex items-center text-gray-600\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"animate-spin rounded-full h-5 w-5 border-b-2 border-indigo-600 mr-3\"\n                            }, void 0, false, {\n                                fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/pnlStatementReader.js\",\n                                lineNumber: 263,\n                                columnNumber: 80\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                children: \"Contacting Watsonx.ai for insights... Please wait.\"\n                            }, void 0, false, {\n                                fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/pnlStatementReader.js\",\n                                lineNumber: 263,\n                                columnNumber: 171\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/pnlStatementReader.js\",\n                        lineNumber: 263,\n                        columnNumber: 26\n                    }, this),\n                    aiError && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mt-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                children: \"Error:\"\n                            }, void 0, false, {\n                                fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/pnlStatementReader.js\",\n                                lineNumber: 264,\n                                columnNumber: 109\n                            }, this),\n                            \" \",\n                            aiError\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/pnlStatementReader.js\",\n                        lineNumber: 264,\n                        columnNumber: 24\n                    }, this),\n                    aiAnalysis && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mt-4 p-4 border border-indigo-200 rounded-lg bg-indigo-50\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                className: \"text-md font-semibold mb-2 text-indigo-900\",\n                                children: \"AI Financial Summary:\"\n                            }, void 0, false, {\n                                fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/pnlStatementReader.js\",\n                                lineNumber: 267,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-sm text-gray-800 whitespace-pre-wrap\",\n                                children: aiAnalysis\n                            }, void 0, false, {\n                                fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/pnlStatementReader.js\",\n                                lineNumber: 268,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/pnlStatementReader.js\",\n                        lineNumber: 266,\n                        columnNumber: 13\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/pnlStatementReader.js\",\n                lineNumber: 258,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-6 p-4 border border-yellow-200 bg-yellow-50 rounded-lg\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                        className: \"text-lg font-semibold text-yellow-800 mb-2\",\n                        children: \"Instructions\"\n                    }, void 0, false, {\n                        fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/pnlStatementReader.js\",\n                        lineNumber: 276,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                        className: \"list-disc list-inside text-sm text-gray-700 space-y-1\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                children: \"Upload your Profit & Loss (PnL) statement in PDF or image format.\"\n                            }, void 0, false, {\n                                fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/pnlStatementReader.js\",\n                                lineNumber: 278,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                children: \"The system will automatically run OCR to extract text from your document.\"\n                            }, void 0, false, {\n                                fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/pnlStatementReader.js\",\n                                lineNumber: 279,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                children: [\n                                    \"Rows should follow the format \",\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"code\", {\n                                        children: \"Jan-24 Revenue Expenses Interest EMI Cash\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/pnlStatementReader.js\",\n                                        lineNumber: 280,\n                                        columnNumber: 47\n                                    }, this),\n                                    \".\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/pnlStatementReader.js\",\n                                lineNumber: 280,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                children: \"Once data is parsed, you can review the raw OCR output and structured rows.\"\n                            }, void 0, false, {\n                                fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/pnlStatementReader.js\",\n                                lineNumber: 281,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                children: [\n                                    \"Click \",\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                        children: \"Save Extracted Data\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/pnlStatementReader.js\",\n                                        lineNumber: 282,\n                                        columnNumber: 23\n                                    }, this),\n                                    \" to store the results in the \",\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"code\", {\n                                        children: \"pnl\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/pnlStatementReader.js\",\n                                        lineNumber: 282,\n                                        columnNumber: 88\n                                    }, this),\n                                    \" database table.\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/pnlStatementReader.js\",\n                                lineNumber: 282,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                children: [\n                                    \"Optionally, use \",\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                        children: \"Analyze with Watsonx AI\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/pnlStatementReader.js\",\n                                        lineNumber: 283,\n                                        columnNumber: 33\n                                    }, this),\n                                    \" to generate automated financial insights.\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/pnlStatementReader.js\",\n                                lineNumber: 283,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/pnlStatementReader.js\",\n                        lineNumber: 277,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/pnlStatementReader.js\",\n                lineNumber: 275,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/components/pnlStatementReader.js\",\n        lineNumber: 198,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0FDSiw4REFBQ0E7O29DQUFHO2tEQUE4Qiw4REFBQ0M7a0RBQUs7Ozs7OztvQ0FBZ0Q7Ozs7Ozs7MENBQ3hGLDhEQUFDRDswQ0FBRzs7Ozs7OzBDQUNKLDhEQUFDQTs7b0NBQUc7a0RBQU0sOERBQUNOO2tEQUFPOzs7Ozs7b0NBQTRCO2tEQUE2Qiw4REFBQ087a0RBQUs7Ozs7OztvQ0FBVTs7Ozs7OzswQ0FDM0YsOERBQUNEOztvQ0FBRztrREFBZ0IsOERBQUNOO2tEQUFPOzs7Ozs7b0NBQWdDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBUXhFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmFuay1zdGF0ZW1lbnQtcmVhZGVyLy4vY29tcG9uZW50cy9wbmxTdGF0ZW1lbnRSZWFkZXIuanM/OGNmNiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBjb21wb25lbnRzL0ZpbmFuY2lhbERhdGFUYWJsZVJlYWRlci5qc1xuXG5pbXBvcnQgeyB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHN1cGFiYXNlIH0gZnJvbSAnLi4vbGliL3N1cGFiYXNlJzsgLy8gTWFrZSBzdXJlIHlvdSBoYXZlIHRoaXMgZmlsZVxuaW1wb3J0IFRlc3NlcmFjdCBmcm9tICd0ZXNzZXJhY3QuanMnO1xuaW1wb3J0ICogYXMgcGRmanNMaWIgZnJvbSAncGRmanMtZGlzdCc7XG5cbmltcG9ydCB7IHVwZGF0ZVBuTERhdGEgfSBmcm9tICcuLi9saWIvZGF0YVN0b3JlJztcblxuLy8gU2V0IHVwIFBERi5qcyB3b3JrZXJcbmlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICBwZGZqc0xpYi5HbG9iYWxXb3JrZXJPcHRpb25zLndvcmtlclNyYyA9IGBodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9wZGYuanMvJHtwZGZqc0xpYi52ZXJzaW9ufS9wZGYud29ya2VyLm1pbi5qc2A7XG59XG5cbi8vICoqTkVXLCBNT1JFIFJPQlVTVCBQQVJTRVIqKlxuLy8gVGhpcyBwYXJzZXIgbm8gbG9uZ2VyIHJlbGllcyBvbiByZWFkaW5nIGhlYWRlcnMuIEl0IGlkZW50aWZpZXMgZGF0YSByb3dzXG4vLyBieSB0aGUgbW9udGggZm9ybWF0IChlLmcuLCBcIkphbi0yNFwiKSBhbmQgYXNzdW1lcyBhIGZpeGVkIGNvbHVtbiBvcmRlci5cbmNvbnN0IERhdGFUYWJsZVBhcnNlciA9IHtcbiAgcGFyc2U6ICh0ZXh0KSA9PiB7XG4gICAgY29uc3QgZGF0YVJvd3MgPSBbXTtcbiAgICBjb25zdCBsaW5lcyA9IHRleHQuc3BsaXQoJ1xcbicpO1xuXG4gICAgZm9yIChjb25zdCBsaW5lIG9mIGxpbmVzKSB7XG4gICAgICBjb25zdCB0cmltbWVkTGluZSA9IGxpbmUudHJpbSgpO1xuICAgICAgLy8gQ2hlY2sgaWYgdGhlIGxpbmUgc3RhcnRzIHdpdGggdGhlIHR5cGljYWwgbW9udGggZm9ybWF0IChlLmcuLCBcIkphbi0yNFwiKVxuICAgICAgaWYgKC9eW0EtWmEtel17M30tXFxkezJ9Ly50ZXN0KHRyaW1tZWRMaW5lKSkge1xuICAgICAgICBjb25zdCB2YWx1ZXMgPSB0cmltbWVkTGluZS5zcGxpdCgvXFxzKy8pOyAvLyBTcGxpdCB0aGUgcm93IGJ5IHNwYWNlc1xuXG4gICAgICAgIC8vIEVuc3VyZSB3ZSBoYXZlIGVub3VnaCBjb2x1bW5zLCBvdGhlcndpc2Ugc2tpcCB0aGUgcm93XG4gICAgICAgIGlmICh2YWx1ZXMubGVuZ3RoID49IDYpIHtcbiAgICAgICAgICBjb25zdCByb3dPYmplY3QgPSB7XG4gICAgICAgICAgICBtb250aDogdmFsdWVzWzBdLFxuICAgICAgICAgICAgcmV2ZW51ZTogdmFsdWVzWzFdLFxuICAgICAgICAgICAgb3BlcmF0aW5nX2V4cGVuc2VzOiB2YWx1ZXNbMl0sXG4gICAgICAgICAgICBpbnRlcmVzdF9leHBlbnNlOiB2YWx1ZXNbM10sXG4gICAgICAgICAgICBlbWlfdG90YWw6IHZhbHVlc1s0XSxcbiAgICAgICAgICAgIGNhc2hfb25faGFuZDogdmFsdWVzWzVdLFxuICAgICAgICAgIH07XG4gICAgICAgICAgZGF0YVJvd3MucHVzaChyb3dPYmplY3QpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBkYXRhUm93cztcbiAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gRmluYW5jaWFsRGF0YVRhYmxlUmVhZGVyKHsgb25Qcm9jZXNzQ29tcGxldGUgfSkge1xuICBjb25zdCBbZmlsZSwgc2V0RmlsZV0gPSB1c2VTdGF0ZShudWxsKTtcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW29jclByb2dyZXNzLCBzZXRPY3JQcm9ncmVzc10gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IFtvY3JPdXRwdXQsIHNldE9jck91dHB1dF0gPSB1c2VTdGF0ZSgnJyk7XG4gIFxuICBjb25zdCBbcGFyc2VkRGF0YSwgc2V0UGFyc2VkRGF0YV0gPSB1c2VTdGF0ZShbXSk7IFxuXG4gIGNvbnN0IFthaUFuYWx5c2lzLCBzZXRBaUFuYWx5c2lzXSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW2FpTG9hZGluZywgc2V0QWlMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2FpRXJyb3IsIHNldEFpRXJyb3JdID0gdXNlU3RhdGUoJycpO1xuICBcbiAgY29uc3QgW3NhdmVMb2FkaW5nLCBzZXRTYXZlTG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtzYXZlU3VjY2Vzcywgc2V0U2F2ZVN1Y2Nlc3NdID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gIGNvbnN0IGNvbnZlcnRQREZUb0ltYWdlcyA9IGFzeW5jIChmaWxlKSA9PiB7XG4gICAgY29uc3QgYXJyYXlCdWZmZXIgPSBhd2FpdCBmaWxlLmFycmF5QnVmZmVyKCk7XG4gICAgY29uc3QgcGRmID0gYXdhaXQgcGRmanNMaWIuZ2V0RG9jdW1lbnQoYXJyYXlCdWZmZXIpLnByb21pc2U7XG4gICAgY29uc3QgaW1hZ2VzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gcGRmLm51bVBhZ2VzOyBpKyspIHtcbiAgICAgIHNldE9jclByb2dyZXNzKGBDb252ZXJ0aW5nIHBhZ2UgJHtpfSBvZiAke3BkZi5udW1QYWdlc30gdG8gaW1hZ2UuLi5gKTtcbiAgICAgIGNvbnN0IHBhZ2UgPSBhd2FpdCBwZGYuZ2V0UGFnZShpKTtcbiAgICAgIGNvbnN0IHZpZXdwb3J0ID0gcGFnZS5nZXRWaWV3cG9ydCh7IHNjYWxlOiAyLjUgfSk7XG4gICAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgIGNvbnN0IGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgIGNhbnZhcy5oZWlnaHQgPSB2aWV3cG9ydC5oZWlnaHQ7XG4gICAgICBjYW52YXMud2lkdGggPSB2aWV3cG9ydC53aWR0aDtcbiAgICAgIGF3YWl0IHBhZ2UucmVuZGVyKHsgY2FudmFzQ29udGV4dDogY29udGV4dCwgdmlld3BvcnQgfSkucHJvbWlzZTtcbiAgICAgIGltYWdlcy5wdXNoKGNhbnZhcy50b0RhdGFVUkwoJ2ltYWdlL3BuZycpKTtcbiAgICB9XG4gICAgcmV0dXJuIGltYWdlcztcbiAgfTtcblxuICBjb25zdCBwZXJmb3JtT0NSID0gYXN5bmMgKGltYWdlcykgPT4ge1xuICAgIGxldCBmdWxsVGV4dCA9ICcnO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW1hZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBzZXRPY3JQcm9ncmVzcyhgUHJvY2Vzc2luZyBwYWdlICR7aSArIDF9IG9mICR7aW1hZ2VzLmxlbmd0aH0gd2l0aCBPQ1IuLi5gKTtcbiAgICAgIGNvbnN0IHsgZGF0YTogeyB0ZXh0IH0gfSA9IGF3YWl0IFRlc3NlcmFjdC5yZWNvZ25pemUoXG4gICAgICAgIGltYWdlc1tpXSwgJ2VuZycsIHtcbiAgICAgICAgICBsb2dnZXI6IG0gPT4geyBpZiAobS5zdGF0dXMgPT09ICdyZWNvZ25pemluZyB0ZXh0Jykgc2V0T2NyUHJvZ3Jlc3MoYFBhZ2UgJHtpICsgMX06ICR7TWF0aC5yb3VuZChtLnByb2dyZXNzICogMTAwKX0lIGNvbXBsZXRlYCk7IH0sXG4gICAgICAgICAgdGVzc2VkaXRfcGFnZXNlZ19tb2RlOiA2LFxuICAgICAgICB9XG4gICAgICApO1xuICAgICAgZnVsbFRleHQgKz0gYFxcbiR7dGV4dH1gO1xuICAgIH1cbiAgICByZXR1cm4gZnVsbFRleHQ7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlRmlsZVVwbG9hZCA9IGFzeW5jIChldmVudCkgPT4ge1xuICAgIGNvbnN0IHVwbG9hZGVkRmlsZSA9IGV2ZW50LnRhcmdldC5maWxlc1swXTtcbiAgICBpZiAoIXVwbG9hZGVkRmlsZSkgcmV0dXJuO1xuICAgIHNldEZpbGUodXBsb2FkZWRGaWxlKTtcbiAgICBzZXRMb2FkaW5nKHRydWUpO1xuICAgIHNldEVycm9yKCcnKTtcbiAgICBzZXRPY3JQcm9ncmVzcygnJyk7XG4gICAgc2V0T2NyT3V0cHV0KCcnKTtcbiAgICBzZXRQYXJzZWREYXRhKFtdKTtcbiAgICBzZXRBaUFuYWx5c2lzKCcnKTtcbiAgICBzZXRBaUVycm9yKCcnKTtcbiAgICBzZXRTYXZlU3VjY2VzcyhmYWxzZSk7XG4gICAgaWYgKG9uUHJvY2Vzc0NvbXBsZXRlKSBvblByb2Nlc3NDb21wbGV0ZShmYWxzZSk7XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgaW1hZ2VzID0gYXdhaXQgY29udmVydFBERlRvSW1hZ2VzKHVwbG9hZGVkRmlsZSk7XG4gICAgICBjb25zdCBleHRyYWN0ZWRUZXh0ID0gYXdhaXQgcGVyZm9ybU9DUihpbWFnZXMpO1xuICAgICAgc2V0T2NyT3V0cHV0KGV4dHJhY3RlZFRleHQpO1xuICAgICAgdXBkYXRlUG5MRGF0YShleHRyYWN0ZWRUZXh0KTsgXG4gICAgICBcbiAgICAgIHNldE9jclByb2dyZXNzKCdQYXJzaW5nIGRhdGEgc3RydWN0dXJlLi4uJyk7XG4gICAgICBjb25zdCBkYXRhID0gRGF0YVRhYmxlUGFyc2VyLnBhcnNlKGV4dHJhY3RlZFRleHQpO1xuICAgICAgc2V0UGFyc2VkRGF0YShkYXRhKTtcblxuICAgICAgaWYgKGRhdGEubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHNldEVycm9yKFwiQ291bGQgbm90IGZpbmQgYW55IGRhdGEgcm93cyBtYXRjaGluZyB0aGUgZXhwZWN0ZWQgZm9ybWF0IChlLmcuLCAnSmFuLTI0IC4uLicpLiBQbGVhc2UgY2hlY2sgdGhlIGRvY3VtZW50LlwiKTtcbiAgICAgICAgaWYgKG9uUHJvY2Vzc0NvbXBsZXRlKSBvblByb2Nlc3NDb21wbGV0ZShmYWxzZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZXRPY3JQcm9ncmVzcyhgUGFyc2luZyBjb21wbGV0ZSEgRm91bmQgJHtkYXRhLmxlbmd0aH0gcm93cy5gKTtcbiAgICAgICAgaWYgKG9uUHJvY2Vzc0NvbXBsZXRlKSBvblByb2Nlc3NDb21wbGV0ZSh0cnVlKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHNldEVycm9yKCdFcnJvciBwcm9jZXNzaW5nIGRvY3VtZW50OiAnICsgZXJyLm1lc3NhZ2UpO1xuICAgICAgaWYgKG9uUHJvY2Vzc0NvbXBsZXRlKSBvblByb2Nlc3NDb21wbGV0ZShmYWxzZSk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVBaUFuYWx5c2lzID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmICghb2NyT3V0cHV0KSB7XG4gICAgICBzZXRBaUVycm9yKCdObyBPQ1IgZGF0YSBpcyBhdmFpbGFibGUgdG8gYW5hbHl6ZS4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2V0QWlMb2FkaW5nKHRydWUpO1xuICAgIHNldEFpRXJyb3IoJycpO1xuICAgIHNldEFpQW5hbHlzaXMoJycpO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL2FuYWx5emVQTkwnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBvY3JPdXRwdXQ6IG9jck91dHB1dCB9KSxcbiAgICAgIH0pO1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGRhdGEuZGV0YWlscyB8fCAnQW4gdW5rbm93biBlcnJvciBvY2N1cnJlZCBkdXJpbmcgYW5hbHlzaXMuJyk7XG4gICAgICB9XG4gICAgICBzZXRBaUFuYWx5c2lzKGRhdGEuYW5hbHlzaXMpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgc2V0QWlFcnJvcihlcnIubWVzc2FnZSk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldEFpTG9hZGluZyhmYWxzZSk7XG4gICAgfVxuICB9O1xuICBcbiAgY29uc3Qgc2F2ZVRvRGF0YWJhc2UgPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKCFwYXJzZWREYXRhIHx8IHBhcnNlZERhdGEubGVuZ3RoID09PSAwKSB7XG4gICAgICBzZXRFcnJvcignTm8gcGFyc2VkIGRhdGEgYXZhaWxhYmxlIHRvIHNhdmUuJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc2V0U2F2ZUxvYWRpbmcodHJ1ZSk7XG4gICAgc2V0U2F2ZVN1Y2Nlc3MoZmFsc2UpO1xuICAgIHNldEVycm9yKCcnKTtcblxuICAgIHRyeSB7XG4gICAgICAvLyBDbGVhbiBhbmQgY29udmVydCBwYXJzZWQgc3RyaW5nIGRhdGEgdG8gdGhlIGNvcnJlY3QgbnVtZXJpYyB0eXBlcyBmb3IgdGhlIGRhdGFiYXNlXG4gICAgICBjb25zdCBkYXRhVG9JbnNlcnQgPSBwYXJzZWREYXRhLm1hcChyb3cgPT4gKHtcbiAgICAgICAgbW9udGg6IHJvdy5tb250aCxcbiAgICAgICAgcmV2ZW51ZTogcGFyc2VGbG9hdChTdHJpbmcocm93LnJldmVudWUpPy5yZXBsYWNlKC8sL2csICcnKSkgfHwgMCxcbiAgICAgICAgb3BlcmF0aW5nX2V4cGVuc2VzOiBwYXJzZUZsb2F0KFN0cmluZyhyb3cub3BlcmF0aW5nX2V4cGVuc2VzKT8ucmVwbGFjZSgvLC9nLCAnJykpIHx8IDAsXG4gICAgICAgIGludGVyZXN0X2V4cGVuc2U6IHBhcnNlRmxvYXQoU3RyaW5nKHJvdy5pbnRlcmVzdF9leHBlbnNlKT8ucmVwbGFjZSgvLC9nLCAnJykpIHx8IDAsXG4gICAgICAgIGVtaV90b3RhbDogcGFyc2VGbG9hdChTdHJpbmcocm93LmVtaV90b3RhbCk/LnJlcGxhY2UoLywvZywgJycpKSB8fCAwLFxuICAgICAgICBjYXNoX29uX2hhbmQ6IHBhcnNlRmxvYXQoU3RyaW5nKHJvdy5jYXNoX29uX2hhbmQpPy5yZXBsYWNlKC8sL2csICcnKSkgfHwgMCxcbiAgICAgIH0pKTtcblxuICAgICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ3BubCcpXG4gICAgICAgIC5pbnNlcnQoZGF0YVRvSW5zZXJ0KTtcblxuICAgICAgaWYgKGVycm9yKSB7IHRocm93IGVycm9yOyB9XG4gICAgICBzZXRTYXZlU3VjY2Vzcyh0cnVlKTtcbiAgICAgIFxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcignRGF0YWJhc2Ugc2F2ZSBlcnJvcjonLCBlcnIpO1xuICAgICAgc2V0RXJyb3IoJ0ZhaWxlZCB0byBzYXZlIHRvIGRhdGFiYXNlOiAnICsgZXJyLm1lc3NhZ2UpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRTYXZlTG9hZGluZyhmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSByb3VuZGVkLWxnIHNoYWRvdy1sZyBwLTZcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItOFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0zIG1iLTRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHctOCBoLTggcm91bmRlZC1mdWxsIGJnLWJsdWUtNjAwIHRleHQtd2hpdGUgZm9udC1ib2xkIHRleHQtbGdcIj5cbiAgICAgICAgICAgIDJcbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LXNlbWlib2xkIHRleHQtZ3JheS04MDBcIj5VcGxvYWQgWW91ciBQbkwgU2hlZXQ8L2gyPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHctZnVsbFwiPlxuICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB3LWZ1bGwgaC0zMiBib3JkZXItMiBib3JkZXItZ3JheS0zMDAgYm9yZGVyLWRhc2hlZCByb3VuZGVkLWxnIGN1cnNvci1wb2ludGVyIGJnLWdyYXktNTAgaG92ZXI6YmctZ3JheS0xMDAgdHJhbnNpdGlvbi1jb2xvcnNcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcHQtNSBwYi02XCI+XG4gICAgICAgICAgICAgIDxzdmcgY2xhc3NOYW1lPVwidy04IGgtOCBtYi00IHRleHQtZ3JheS01MDBcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlV2lkdGg9ezJ9IGQ9XCJNOSAxMmg2bS02IDRoNm0yIDVIN2EyIDIgMCAwMS0yLTJWNWEyIDIgMCAwMTItMmg1LjU4NmExIDEgMCAwMS43MDcuMjkzbDUuNDE0IDUuNDE0YTEgMSAwIDAxLjI5My43MDdWMTlhMiAyIDAgMDEtMiAyelwiIC8+PC9zdmc+XG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTIgdGV4dC1zbSB0ZXh0LWdyYXktNTAwXCI+PHNwYW4gY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZFwiPkNsaWNrIHRvIHVwbG9hZDwvc3Bhbj4gZG9jdW1lbnQ8L3A+XG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTUwMFwiPlBERiwgUE5HLCBKUEcgZmlsZXM8L3A+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiZmlsZVwiIGNsYXNzTmFtZT1cImhpZGRlblwiIGFjY2VwdD1cIi5wZGYsaW1hZ2UvKlwiIG9uQ2hhbmdlPXtoYW5kbGVGaWxlVXBsb2FkfSBkaXNhYmxlZD17bG9hZGluZ30gLz5cbiAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAge2ZpbGUgJiYgKDxkaXYgY2xhc3NOYW1lPVwibXQtNCB0ZXh0LXNtIHRleHQtZ3JheS02MDBcIj5TZWxlY3RlZCBmaWxlOiB7ZmlsZS5uYW1lfTwvZGl2Pil9XG4gICAgICAgIHtsb2FkaW5nICYmICg8ZGl2IGNsYXNzTmFtZT1cIm10LTQgZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj48ZGl2IGNsYXNzTmFtZT1cImFuaW1hdGUtc3BpbiByb3VuZGVkLWZ1bGwgaC04IHctOCBib3JkZXItYi0yIGJvcmRlci1ibHVlLTYwMCBtYi0yXCI+PC9kaXY+PHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTYwMFwiPntvY3JQcm9ncmVzcyB8fCAnUHJvY2Vzc2luZy4uLid9PC9zcGFuPjwvZGl2Pil9XG4gICAgICAgIHtlcnJvciAmJiAoPGRpdiBjbGFzc05hbWU9XCJtdC00IGJnLXJlZC01MCBib3JkZXIgYm9yZGVyLXJlZC0yMDAgdGV4dC1yZWQtNzAwIHB4LTQgcHktMyByb3VuZGVkXCI+e2Vycm9yfTwvZGl2Pil9XG4gICAgICA8L2Rpdj5cblxuXG4gICAgICB7b2NyT3V0cHV0ICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi04XCI+XG4gICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQteGwgZm9udC1zZW1pYm9sZCBtYi00IHRleHQtZ3JheS04MDBcIj5FeHRyYWN0ZWQgRGF0YTwvaDI+XG4gICAgICAgICAgPHRleHRhcmVhIFxuICAgICAgICAgICAgdmFsdWU9e29jck91dHB1dH0gXG4gICAgICAgICAgICByZWFkT25seSBcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBoLTk2IHAtNCBib3JkZXIgYm9yZGVyLWdyYXktMzAwIHJvdW5kZWQtbGcgZm9udC1tb25vIHRleHQteHMgYmctZ3JheS0xMDBcIiBcbiAgICAgICAgICAvPlxuICAgICAgICAgIFxuICAgICAgICAgIHtzYXZlU3VjY2VzcyAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNCBiZy1ncmVlbi01MCBib3JkZXIgYm9yZGVyLWdyZWVuLTIwMCB0ZXh0LWdyZWVuLTcwMCBweC00IHB5LTMgcm91bmRlZFwiPlxuICAgICAgICAgIDxzdHJvbmc+U3VjY2VzcyE8L3N0cm9uZz4gWW91ciBQJkwgZGF0YSBoYXMgYmVlbiBzYXZlZCB0byB0aGUgZGF0YWJhc2UuXG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICAgICAgICB7cGFyc2VkRGF0YS5sZW5ndGggPiAwICYmIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNFwiPlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgb25DbGljaz17c2F2ZVRvRGF0YWJhc2V9XG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3NhdmVMb2FkaW5nIHx8IHNhdmVTdWNjZXNzfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHB4LTQgcHktMiB0ZXh0LXdoaXRlIGZvbnQtc2VtaWJvbGQgcm91bmRlZC1sZyBzaGFkb3ctc20gdHJhbnNpdGlvbi1jb2xvcnMgJHtcbiAgICAgICAgICAgICAgICAgIHNhdmVTdWNjZXNzIFxuICAgICAgICAgICAgICAgICAgICA/ICdiZy1ncmVlbi02MDAgaG92ZXI6YmctZ3JlZW4tNzAwIGN1cnNvci1kZWZhdWx0JyBcbiAgICAgICAgICAgICAgICAgICAgOiBzYXZlTG9hZGluZyBcbiAgICAgICAgICAgICAgICAgICAgICA/ICdiZy1ncmF5LTQwMCBjdXJzb3Itbm90LWFsbG93ZWQnXG4gICAgICAgICAgICAgICAgICAgICAgOiAnYmctYmx1ZS02MDAgaG92ZXI6YmctYmx1ZS03MDAnXG4gICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7c2F2ZUxvYWRpbmcgPyAnU2F2aW5nLi4uJyA6IHNhdmVTdWNjZXNzID8gJ1NhdmVkIOKckycgOiAnU2F2ZSBEYXRhJ31cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG5cbiAgICAgIHtvY3JPdXRwdXQgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTYgYm9yZGVyLXQgcHQtNlwiPlxuICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgbWItMyB0ZXh0LWluZGlnby04MDBcIj5PcHRpb25hbDogR2V0IEFJIEluc2lnaHRzPC9oMz5cbiAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e2hhbmRsZUFpQW5hbHlzaXN9IGRpc2FibGVkPXthaUxvYWRpbmd9IGNsYXNzTmFtZT1cInB4LTQgcHktMiBiZy1pbmRpZ28tNjAwIHRleHQtd2hpdGUgZm9udC1zZW1pYm9sZCByb3VuZGVkLWxnIHNoYWRvdy1zbSBob3ZlcjpiZy1pbmRpZ28tNzAwIGRpc2FibGVkOmJnLWluZGlnby0zMDAgZGlzYWJsZWQ6Y3Vyc29yLW5vdC1hbGxvd2VkXCI+XG4gICAgICAgICAgICB7YWlMb2FkaW5nID8gJ0FuYWx5emluZy4uLicgOiAnQW5hbHl6ZSB3aXRoIFdhdHNvbnggQUknfVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIHthaUxvYWRpbmcgJiYgKDxkaXYgY2xhc3NOYW1lPVwibXQtNCBmbGV4IGl0ZW1zLWNlbnRlciB0ZXh0LWdyYXktNjAwXCI+PGRpdiBjbGFzc05hbWU9XCJhbmltYXRlLXNwaW4gcm91bmRlZC1mdWxsIGgtNSB3LTUgYm9yZGVyLWItMiBib3JkZXItaW5kaWdvLTYwMCBtci0zXCI+PC9kaXY+PHNwYW4+Q29udGFjdGluZyBXYXRzb254LmFpIGZvciBpbnNpZ2h0cy4uLiBQbGVhc2Ugd2FpdC48L3NwYW4+PC9kaXY+KX1cbiAgICAgICAgICB7YWlFcnJvciAmJiAoPGRpdiBjbGFzc05hbWU9XCJtdC00IGJnLXJlZC01MCBib3JkZXIgYm9yZGVyLXJlZC0yMDAgdGV4dC1yZWQtNzAwIHB4LTQgcHktMyByb3VuZGVkXCI+PHN0cm9uZz5FcnJvcjo8L3N0cm9uZz4ge2FpRXJyb3J9PC9kaXY+KX1cbiAgICAgICAgICB7YWlBbmFseXNpcyAmJiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTQgcC00IGJvcmRlciBib3JkZXItaW5kaWdvLTIwMCByb3VuZGVkLWxnIGJnLWluZGlnby01MFwiPlxuICAgICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwidGV4dC1tZCBmb250LXNlbWlib2xkIG1iLTIgdGV4dC1pbmRpZ28tOTAwXCI+QUkgRmluYW5jaWFsIFN1bW1hcnk6PC9oND5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktODAwIHdoaXRlc3BhY2UtcHJlLXdyYXBcIj57YWlBbmFseXNpc308L3A+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG5cbiAgICAgIHsvKiDinIUgTmV3IEluc3RydWN0aW9ucyBTZWN0aW9uICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTYgcC00IGJvcmRlciBib3JkZXIteWVsbG93LTIwMCBiZy15ZWxsb3ctNTAgcm91bmRlZC1sZ1wiPlxuICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgdGV4dC15ZWxsb3ctODAwIG1iLTJcIj5JbnN0cnVjdGlvbnM8L2gyPlxuICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJsaXN0LWRpc2MgbGlzdC1pbnNpZGUgdGV4dC1zbSB0ZXh0LWdyYXktNzAwIHNwYWNlLXktMVwiPlxuICAgICAgICAgICAgPGxpPlVwbG9hZCB5b3VyIFByb2ZpdCAmIExvc3MgKFBuTCkgc3RhdGVtZW50IGluIFBERiBvciBpbWFnZSBmb3JtYXQuPC9saT5cbiAgICAgICAgICAgIDxsaT5UaGUgc3lzdGVtIHdpbGwgYXV0b21hdGljYWxseSBydW4gT0NSIHRvIGV4dHJhY3QgdGV4dCBmcm9tIHlvdXIgZG9jdW1lbnQuPC9saT5cbiAgICAgICAgICAgIDxsaT5Sb3dzIHNob3VsZCBmb2xsb3cgdGhlIGZvcm1hdCA8Y29kZT5KYW4tMjQgUmV2ZW51ZSBFeHBlbnNlcyBJbnRlcmVzdCBFTUkgQ2FzaDwvY29kZT4uPC9saT5cbiAgICAgICAgICAgIDxsaT5PbmNlIGRhdGEgaXMgcGFyc2VkLCB5b3UgY2FuIHJldmlldyB0aGUgcmF3IE9DUiBvdXRwdXQgYW5kIHN0cnVjdHVyZWQgcm93cy48L2xpPlxuICAgICAgICAgICAgPGxpPkNsaWNrIDxzdHJvbmc+U2F2ZSBFeHRyYWN0ZWQgRGF0YTwvc3Ryb25nPiB0byBzdG9yZSB0aGUgcmVzdWx0cyBpbiB0aGUgPGNvZGU+cG5sPC9jb2RlPiBkYXRhYmFzZSB0YWJsZS48L2xpPlxuICAgICAgICAgICAgPGxpPk9wdGlvbmFsbHksIHVzZSA8c3Ryb25nPkFuYWx5emUgd2l0aCBXYXRzb254IEFJPC9zdHJvbmc+IHRvIGdlbmVyYXRlIGF1dG9tYXRlZCBmaW5hbmNpYWwgaW5zaWdodHMuPC9saT5cbiAgICAgICAgICA8L3VsPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgXG5cbiAgICAgIFxuICAgIDwvZGl2PlxuICApO1xufSJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsInN1cGFiYXNlIiwiVGVzc2VyYWN0IiwicGRmanNMaWIiLCJ1cGRhdGVQbkxEYXRhIiwiR2xvYmFsV29ya2VyT3B0aW9ucyIsIndvcmtlclNyYyIsInZlcnNpb24iLCJEYXRhVGFibGVQYXJzZXIiLCJwYXJzZSIsInRleHQiLCJkYXRhUm93cyIsImxpbmVzIiwic3BsaXQiLCJsaW5lIiwidHJpbW1lZExpbmUiLCJ0cmltIiwidGVzdCIsInZhbHVlcyIsImxlbmd0aCIsInJvd09iamVjdCIsIm1vbnRoIiwicmV2ZW51ZSIsIm9wZXJhdGluZ19leHBlbnNlcyIsImludGVyZXN0X2V4cGVuc2UiLCJlbWlfdG90YWwiLCJjYXNoX29uX2hhbmQiLCJwdXNoIiwiRmluYW5jaWFsRGF0YVRhYmxlUmVhZGVyIiwib25Qcm9jZXNzQ29tcGxldGUiLCJmaWxlIiwic2V0RmlsZSIsImxvYWRpbmciLCJzZXRMb2FkaW5nIiwiZXJyb3IiLCJzZXRFcnJvciIsIm9jclByb2dyZXNzIiwic2V0T2NyUHJvZ3Jlc3MiLCJvY3JPdXRwdXQiLCJzZXRPY3JPdXRwdXQiLCJwYXJzZWREYXRhIiwic2V0UGFyc2VkRGF0YSIsImFpQW5hbHlzaXMiLCJzZXRBaUFuYWx5c2lzIiwiYWlMb2FkaW5nIiwic2V0QWlMb2FkaW5nIiwiYWlFcnJvciIsInNldEFpRXJyb3IiLCJzYXZlTG9hZGluZyIsInNldFNhdmVMb2FkaW5nIiwic2F2ZVN1Y2Nlc3MiLCJzZXRTYXZlU3VjY2VzcyIsImNvbnZlcnRQREZUb0ltYWdlcyIsImFycmF5QnVmZmVyIiwicGRmIiwiZ2V0RG9jdW1lbnQiLCJwcm9taXNlIiwiaW1hZ2VzIiwiaSIsIm51bVBhZ2VzIiwicGFnZSIsImdldFBhZ2UiLCJ2aWV3cG9ydCIsImdldFZpZXdwb3J0Iiwic2NhbGUiLCJjYW52YXMiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjb250ZXh0IiwiZ2V0Q29udGV4dCIsImhlaWdodCIsIndpZHRoIiwicmVuZGVyIiwiY2FudmFzQ29udGV4dCIsInRvRGF0YVVSTCIsInBlcmZvcm1PQ1IiLCJmdWxsVGV4dCIsImRhdGEiLCJyZWNvZ25pemUiLCJsb2dnZXIiLCJtIiwic3RhdHVzIiwiTWF0aCIsInJvdW5kIiwicHJvZ3Jlc3MiLCJ0ZXNzZWRpdF9wYWdlc2VnX21vZGUiLCJoYW5kbGVGaWxlVXBsb2FkIiwiZXZlbnQiLCJ1cGxvYWRlZEZpbGUiLCJ0YXJnZXQiLCJmaWxlcyIsImV4dHJhY3RlZFRleHQiLCJlcnIiLCJtZXNzYWdlIiwiaGFuZGxlQWlBbmFseXNpcyIsInJlc3BvbnNlIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJqc29uIiwib2siLCJFcnJvciIsImRldGFpbHMiLCJhbmFseXNpcyIsInNhdmVUb0RhdGFiYXNlIiwiZGF0YVRvSW5zZXJ0IiwibWFwIiwicm93IiwicGFyc2VGbG9hdCIsIlN0cmluZyIsInJlcGxhY2UiLCJmcm9tIiwiaW5zZXJ0IiwiY29uc29sZSIsImRpdiIsImNsYXNzTmFtZSIsImgyIiwibGFiZWwiLCJzdmciLCJmaWxsIiwic3Ryb2tlIiwidmlld0JveCIsInBhdGgiLCJzdHJva2VMaW5lY2FwIiwic3Ryb2tlTGluZWpvaW4iLCJzdHJva2VXaWR0aCIsImQiLCJwIiwic3BhbiIsImlucHV0IiwidHlwZSIsImFjY2VwdCIsIm9uQ2hhbmdlIiwiZGlzYWJsZWQiLCJuYW1lIiwidGV4dGFyZWEiLCJ2YWx1ZSIsInJlYWRPbmx5Iiwic3Ryb25nIiwiYnV0dG9uIiwib25DbGljayIsImgzIiwiaDQiLCJ1bCIsImxpIiwiY29kZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./components/pnlStatementReader.js\n");

/***/ }),

/***/ "./components/utils/constants.js":
/*!***************************************!*\
  !*** ./components/utils/constants.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DEFAULT_BANK: () => (/* binding */ DEFAULT_BANK),\n/* harmony export */   DEFAULT_PNL_TYPE: () => (/* binding */ DEFAULT_PNL_TYPE),\n/* harmony export */   SUPPORTED_BANKS: () => (/* binding */ SUPPORTED_BANKS),\n/* harmony export */   SUPPORTED_PNL_TYPES: () => (/* binding */ SUPPORTED_PNL_TYPES)\n/* harmony export */ });\n// utils/constants.js\n// Bank Statement Constants\nconst SUPPORTED_BANKS = {\n    HDFC: {\n        name: \"HDFC Bank\",\n        description: \"HDFC Bank statements\",\n        active: true\n    },\n    KOTAK: {\n        name: \"Kotak Bank\",\n        description: \"Kotak Bank Statements\",\n        active: false\n    },\n    ICICI: {\n        name: \"ICICI Bank\",\n        description: \"ICICI Bank statements\",\n        active: false\n    }\n};\nconst DEFAULT_BANK = \"HDFC\";\n// P&L Statement Constants\nconst SUPPORTED_PNL_TYPES = {\n    STANDARD: {\n        name: \"Standard P&L\",\n        description: \"Standard Profit & Loss format\",\n        active: true\n    }\n};\nconst DEFAULT_PNL_TYPE = \"STANDARD\";\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9jb21wb25lbnRzL3V0aWxzL2NvbnN0YW50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUEscUJBQXFCO0FBRXJCLDJCQUEyQjtBQUNwQixNQUFNQSxrQkFBa0I7SUFDN0JDLE1BQU07UUFDSkMsTUFBTTtRQUNOQyxhQUFhO1FBQ2JDLFFBQVE7SUFDVjtJQUNBQyxPQUFPO1FBQ0xILE1BQU07UUFDTkMsYUFBYTtRQUNiQyxRQUFRO0lBQ1Y7SUFDQUUsT0FBTztRQUNMSixNQUFNO1FBQ05DLGFBQWE7UUFDYkMsUUFBUTtJQUNWO0FBQ0YsRUFBRTtBQUVLLE1BQU1HLGVBQWUsT0FBTztBQUVuQywwQkFBMEI7QUFDbkIsTUFBTUMsc0JBQXNCO0lBQ2pDQyxVQUFVO1FBQ1JQLE1BQU07UUFDTkMsYUFBYTtRQUNiQyxRQUFRO0lBQ1Y7QUFDRixFQUFFO0FBRUssTUFBTU0sbUJBQW1CLFdBQVciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iYW5rLXN0YXRlbWVudC1yZWFkZXIvLi9jb21wb25lbnRzL3V0aWxzL2NvbnN0YW50cy5qcz84YjM0Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIHV0aWxzL2NvbnN0YW50cy5qc1xuXG4vLyBCYW5rIFN0YXRlbWVudCBDb25zdGFudHNcbmV4cG9ydCBjb25zdCBTVVBQT1JURURfQkFOS1MgPSB7XG4gIEhERkM6IHtcbiAgICBuYW1lOiAnSERGQyBCYW5rJyxcbiAgICBkZXNjcmlwdGlvbjogJ0hERkMgQmFuayBzdGF0ZW1lbnRzJyxcbiAgICBhY3RpdmU6IHRydWVcbiAgfSxcbiAgS09UQUs6IHtcbiAgICBuYW1lOiAnS290YWsgQmFuaycsXG4gICAgZGVzY3JpcHRpb246ICdLb3RhayBCYW5rIFN0YXRlbWVudHMnLFxuICAgIGFjdGl2ZTogZmFsc2VcbiAgfSxcbiAgSUNJQ0k6IHtcbiAgICBuYW1lOiAnSUNJQ0kgQmFuaycsXG4gICAgZGVzY3JpcHRpb246ICdJQ0lDSSBCYW5rIHN0YXRlbWVudHMnLFxuICAgIGFjdGl2ZTogZmFsc2VcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IERFRkFVTFRfQkFOSyA9ICdIREZDJztcblxuLy8gUCZMIFN0YXRlbWVudCBDb25zdGFudHNcbmV4cG9ydCBjb25zdCBTVVBQT1JURURfUE5MX1RZUEVTID0ge1xuICBTVEFOREFSRDoge1xuICAgIG5hbWU6ICdTdGFuZGFyZCBQJkwnLFxuICAgIGRlc2NyaXB0aW9uOiAnU3RhbmRhcmQgUHJvZml0ICYgTG9zcyBmb3JtYXQnLFxuICAgIGFjdGl2ZTogdHJ1ZVxuICB9XG59O1xuXG5leHBvcnQgY29uc3QgREVGQVVMVF9QTkxfVFlQRSA9ICdTVEFOREFSRCc7Il0sIm5hbWVzIjpbIlNVUFBPUlRFRF9CQU5LUyIsIkhERkMiLCJuYW1lIiwiZGVzY3JpcHRpb24iLCJhY3RpdmUiLCJLT1RBSyIsIklDSUNJIiwiREVGQVVMVF9CQU5LIiwiU1VQUE9SVEVEX1BOTF9UWVBFUyIsIlNUQU5EQVJEIiwiREVGQVVMVF9QTkxfVFlQRSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./components/utils/constants.js\n");

/***/ }),

/***/ "./lib/dataStore.js":
/*!**************************!*\
  !*** ./lib/dataStore.js ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getDataStore: () => (/* binding */ getDataStore),\n/* harmony export */   getDataStoreAsync: () => (/* binding */ getDataStoreAsync),\n/* harmony export */   refreshDataFromDatabase: () => (/* binding */ refreshDataFromDatabase),\n/* harmony export */   resetDataStore: () => (/* binding */ resetDataStore),\n/* harmony export */   updateBankData: () => (/* binding */ updateBankData),\n/* harmony export */   updateGSTData: () => (/* binding */ updateGSTData),\n/* harmony export */   updatePnLData: () => (/* binding */ updatePnLData)\n/* harmony export */ });\n// lib/dataStore.js - Fixed for Supabase integration\nlet dataStore = {\n    gstOCROutput: null,\n    categorizedOutput: null,\n    pnlOCROutput: null,\n    lastLoaded: null,\n    isLoading: false\n};\n// In-memory update functions\nconst updateGSTData = (data)=>{\n    dataStore.gstOCROutput = data;\n    dataStore.lastLoaded = new Date();\n    console.log(\"GST data updated in store\");\n};\nconst updateBankData = (data)=>{\n    dataStore.categorizedOutput = data;\n    dataStore.lastLoaded = new Date();\n    console.log(\"Bank data updated in store\");\n};\nconst updatePnLData = (data)=>{\n    dataStore.pnlOCROutput = data;\n    dataStore.lastLoaded = new Date();\n    console.log(\"P&L data updated in store\");\n};\n// Function to check if we're on the client side\nconst isClient = ()=>\"undefined\" !== \"undefined\";\n// Function to load from database (only on client side)\nconst loadFromDatabase = async ()=>{\n    // Only run on client side and prevent multiple simultaneous loads\n    if (!isClient() || dataStore.isLoading) return false;\n    try {\n        dataStore.isLoading = true;\n        console.log(\"Loading data from Supabase...\");\n        // Use absolute URL with window.location.origin for client-side requests\n        const baseUrl = window.location.origin;\n        const response = await fetch(`${baseUrl}/api/getStoredData`);\n        if (response.ok) {\n            const dbData = await response.json();\n            console.log(\"Data received from Supabase:\", {\n                bankData: !!dbData.bankData,\n                gstData: !!dbData.gstData,\n                pnlData: !!dbData.pnlData\n            });\n            // Update dataStore with database data\n            if (dbData.bankData) {\n                dataStore.categorizedOutput = dbData.bankData;\n                console.log(\"Bank data loaded from database\");\n            }\n            if (dbData.gstData) {\n                dataStore.gstOCROutput = dbData.gstData;\n                console.log(\"GST data loaded from database\");\n            }\n            if (dbData.pnlData) {\n                dataStore.pnlOCROutput = dbData.pnlData;\n                console.log(\"P&L data loaded from database\");\n            }\n            dataStore.lastLoaded = new Date();\n            return true;\n        } else {\n            console.error(\"Failed to fetch from database:\", response.status, response.statusText);\n            return false;\n        }\n    } catch (error) {\n        console.error(\"Failed to load data from database:\", error);\n        return false;\n    } finally{\n        dataStore.isLoading = false;\n    }\n};\n// FIXED: Function to load data on server side (for API routes)\nconst loadFromDatabaseServer = async ()=>{\n    try {\n        console.log(\"Loading data from Supabase (server-side)...\");\n        // Check environment variables first\n        const supabaseUrl = \"https://apftqchtwcwrnkmjzhcr.supabase.co\";\n        const supabaseServiceKey = process.env.SUPABASE_SERVICE_ROLE_KEY;\n        console.log(\"Environment check:\", {\n            hasUrl: !!supabaseUrl,\n            hasServiceKey: !!supabaseServiceKey,\n            urlPreview: supabaseUrl ? supabaseUrl.substring(0, 20) + \"...\" : \"missing\"\n        });\n        if (!supabaseUrl || !supabaseServiceKey) {\n            console.error(\"Missing Supabase environment variables\");\n            return false;\n        }\n        // Import Supabase client directly (server-side)\n        const { createClient } = await Promise.resolve(/*! import() */).then(__webpack_require__.t.bind(__webpack_require__, /*! @supabase/supabase-js */ \"@supabase/supabase-js\", 23));\n        const supabase = createClient(supabaseUrl, supabaseServiceKey, {\n            auth: {\n                autoRefreshToken: false,\n                persistSession: false\n            }\n        });\n        console.log(\"Supabase client created successfully\");\n        // Get latest bank statement data with single query (no .single())\n        const { data: bankResults, error: bankError } = await supabase.from(\"transactions\").select(\"*\").order(\"created_at\", {\n            ascending: false\n        }).limit(1);\n        console.log(\"Bank query results:\", {\n            error: bankError?.message,\n            dataLength: bankResults?.length,\n            hasData: !!bankResults && bankResults.length > 0\n        });\n        if (bankResults && bankResults.length > 0) {\n            const bankData = bankResults[0];\n            console.log(\"Raw bank data keys:\", Object.keys(bankData));\n            console.log(\"Raw bank data sample:\", JSON.stringify(bankData).substring(0, 200));\n            // Try different possible column names for the actual data\n            dataStore.categorizedOutput = bankData.categorized_output || bankData.data || bankData.processed_data || bankData.transactions || bankData.transaction_data || bankData;\n            console.log(\"Bank data processed:\", {\n                type: typeof dataStore.categorizedOutput,\n                hasData: !!dataStore.categorizedOutput,\n                keys: dataStore.categorizedOutput ? Object.keys(dataStore.categorizedOutput).slice(0, 10) : null\n            });\n        }\n        // Similar queries for GST and P&L (simplified)\n        try {\n            const { data: gstResults } = await supabase.from(\"gst3b\").select(\"*\").order(\"created_at\", {\n                ascending: false\n            }).limit(1);\n            if (gstResults && gstResults.length > 0) {\n                const gstData = gstResults[0];\n                dataStore.gstOCROutput = gstData.data || gstData.gst_ocr_output || gstData;\n                console.log(\"GST data loaded:\", !!dataStore.gstOCROutput);\n            }\n        } catch (gstError) {\n            console.log(\"GST query failed (table might not exist):\", gstError.message);\n        }\n        try {\n            const { data: pnlResults } = await supabase.from(\"pnl\").select(\"*\").order(\"created_at\", {\n                ascending: false\n            }).limit(1);\n            if (pnlResults && pnlResults.length > 0) {\n                const pnlData = pnlResults[0];\n                dataStore.pnlOCROutput = pnlData.data || pnlData.pnl_ocr_output || pnlData;\n                console.log(\"P&L data loaded:\", !!dataStore.pnlOCROutput);\n            }\n        } catch (pnlError) {\n            console.log(\"P&L query failed (table might not exist):\", pnlError.message);\n        }\n        dataStore.lastLoaded = new Date();\n        console.log(\"Server-side final data status:\", {\n            bank: !!dataStore.categorizedOutput,\n            gst: !!dataStore.gstOCROutput,\n            pnl: !!dataStore.pnlOCROutput\n        });\n        return true;\n    } catch (error) {\n        console.error(\"Server-side database load error:\", error);\n        return false;\n    }\n};\n// Synchronous getDataStore for immediate use\nconst getDataStore = ()=>{\n    return {\n        ...dataStore\n    };\n};\n// FIXED: Async version that loads from database with better error handling\nconst getDataStoreAsync = async ()=>{\n    try {\n        console.log(\"getDataStoreAsync called, isClient:\", isClient());\n        // Try to load from database on server side\n        if (!isClient()) {\n            console.log(\"Server-side: attempting to load from database...\");\n            const success = await loadFromDatabaseServer();\n            console.log(\"Server-side load result:\", success);\n        } else {\n            // Client side loading\n            const hasData = dataStore.gstOCROutput || dataStore.categorizedOutput || dataStore.pnlOCROutput;\n            const isStale = !dataStore.lastLoaded || new Date() - dataStore.lastLoaded > 300000;\n            console.log(\"Client-side check:\", {\n                hasData,\n                isStale\n            });\n            if (!hasData || isStale) {\n                console.log(\"Client-side: loading from database...\");\n                const success = await loadFromDatabase();\n                console.log(\"Client-side load result:\", success);\n            }\n        }\n        const result = {\n            ...dataStore\n        };\n        console.log(\"getDataStoreAsync returning:\", {\n            hasBank: !!result.categorizedOutput,\n            hasGST: !!result.gstOCROutput,\n            hasPNL: !!result.pnlOCROutput\n        });\n        return result;\n    } catch (error) {\n        console.error(\"getDataStoreAsync error:\", error);\n        // Return current dataStore even if loading fails\n        return {\n            ...dataStore\n        };\n    }\n};\n// Force refresh from database\nconst refreshDataFromDatabase = async ()=>{\n    try {\n        if (isClient()) {\n            await loadFromDatabase();\n        } else {\n            await loadFromDatabaseServer();\n        }\n        return {\n            ...dataStore\n        };\n    } catch (error) {\n        console.error(\"refreshDataFromDatabase error:\", error);\n        return {\n            ...dataStore\n        };\n    }\n};\n// Reset function for clearing data\nconst resetDataStore = ()=>{\n    dataStore = {\n        gstOCROutput: null,\n        categorizedOutput: null,\n        pnlOCROutput: null,\n        lastLoaded: null,\n        isLoading: false\n    };\n    console.log(\"Data store reset\");\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFRQyxHQUFHLENBQUM7Z0JBQ1osTUFBTW9FLFVBQVUsTUFBTWhFO2dCQUN0QkwsUUFBUUMsR0FBRyxDQUFDLDRCQUE0Qm9FO1lBQzFDO1FBQ0Y7UUFFQSxNQUFNRSxTQUFTO1lBQUUsR0FBR2hGLFNBQVM7UUFBQztRQUM5QlMsUUFBUUMsR0FBRyxDQUFDLGdDQUFnQztZQUMxQ3VFLFNBQVMsQ0FBQyxDQUFDRCxPQUFPOUUsaUJBQWlCO1lBQ25DZ0YsUUFBUSxDQUFDLENBQUNGLE9BQU8vRSxZQUFZO1lBQzdCa0YsUUFBUSxDQUFDLENBQUNILE9BQU83RSxZQUFZO1FBQy9CO1FBRUEsT0FBTzZFO0lBQ1QsRUFBRSxPQUFPckQsT0FBTztRQUNkbEIsUUFBUWtCLEtBQUssQ0FBQyw0QkFBNEJBO1FBQzFDLGlEQUFpRDtRQUNqRCxPQUFPO1lBQUUsR0FBRzNCLFNBQVM7UUFBQztJQUN4QjtBQUNGLEVBQUU7QUFFRiw4QkFBOEI7QUFDdkIsTUFBTW9GLDBCQUEwQjtJQUNyQyxJQUFJO1FBQ0YsSUFBSXZFLFlBQVk7WUFDZCxNQUFNQztRQUNSLE9BQU87WUFDTCxNQUFNZ0I7UUFDUjtRQUNBLE9BQU87WUFBRSxHQUFHOUIsU0FBUztRQUFDO0lBQ3hCLEVBQUUsT0FBTzJCLE9BQU87UUFDZGxCLFFBQVFrQixLQUFLLENBQUMsa0NBQWtDQTtRQUNoRCxPQUFPO1lBQUUsR0FBRzNCLFNBQVM7UUFBQztJQUN4QjtBQUNGLEVBQUU7QUFFRixtQ0FBbUM7QUFDNUIsTUFBTXFGLGlCQUFpQjtJQUM1QnJGLFlBQVk7UUFDVkMsY0FBYztRQUNkQyxtQkFBbUI7UUFDbkJDLGNBQWM7UUFDZEMsWUFBWTtRQUNaQyxXQUFXO0lBQ2I7SUFDQUksUUFBUUMsR0FBRyxDQUFDO0FBQ2QsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL2Jhbmstc3RhdGVtZW50LXJlYWRlci8uL2xpYi9kYXRhU3RvcmUuanM/NWQxZiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBsaWIvZGF0YVN0b3JlLmpzIC0gRml4ZWQgZm9yIFN1cGFiYXNlIGludGVncmF0aW9uXG5sZXQgZGF0YVN0b3JlID0ge1xuICAgIGdzdE9DUk91dHB1dDogbnVsbCxcbiAgICBjYXRlZ29yaXplZE91dHB1dDogbnVsbCxcbiAgICBwbmxPQ1JPdXRwdXQ6IG51bGwsXG4gICAgbGFzdExvYWRlZDogbnVsbCxcbiAgICBpc0xvYWRpbmc6IGZhbHNlXG4gIH07XG4gIFxuICAvLyBJbi1tZW1vcnkgdXBkYXRlIGZ1bmN0aW9uc1xuICBleHBvcnQgY29uc3QgdXBkYXRlR1NURGF0YSA9IChkYXRhKSA9PiB7XG4gICAgZGF0YVN0b3JlLmdzdE9DUk91dHB1dCA9IGRhdGE7XG4gICAgZGF0YVN0b3JlLmxhc3RMb2FkZWQgPSBuZXcgRGF0ZSgpO1xuICAgIGNvbnNvbGUubG9nKCdHU1QgZGF0YSB1cGRhdGVkIGluIHN0b3JlJyk7XG4gIH07XG4gIFxuICBleHBvcnQgY29uc3QgdXBkYXRlQmFua0RhdGEgPSAoZGF0YSkgPT4ge1xuICAgIGRhdGFTdG9yZS5jYXRlZ29yaXplZE91dHB1dCA9IGRhdGE7XG4gICAgZGF0YVN0b3JlLmxhc3RMb2FkZWQgPSBuZXcgRGF0ZSgpO1xuICAgIGNvbnNvbGUubG9nKCdCYW5rIGRhdGEgdXBkYXRlZCBpbiBzdG9yZScpO1xuICB9O1xuICBcbiAgZXhwb3J0IGNvbnN0IHVwZGF0ZVBuTERhdGEgPSAoZGF0YSkgPT4ge1xuICAgIGRhdGFTdG9yZS5wbmxPQ1JPdXRwdXQgPSBkYXRhO1xuICAgIGRhdGFTdG9yZS5sYXN0TG9hZGVkID0gbmV3IERhdGUoKTtcbiAgICBjb25zb2xlLmxvZygnUCZMIGRhdGEgdXBkYXRlZCBpbiBzdG9yZScpO1xuICB9O1xuICBcbiAgLy8gRnVuY3Rpb24gdG8gY2hlY2sgaWYgd2UncmUgb24gdGhlIGNsaWVudCBzaWRlXG4gIGNvbnN0IGlzQ2xpZW50ID0gKCkgPT4gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCc7XG4gIFxuICAvLyBGdW5jdGlvbiB0byBsb2FkIGZyb20gZGF0YWJhc2UgKG9ubHkgb24gY2xpZW50IHNpZGUpXG4gIGNvbnN0IGxvYWRGcm9tRGF0YWJhc2UgPSBhc3luYyAoKSA9PiB7XG4gICAgLy8gT25seSBydW4gb24gY2xpZW50IHNpZGUgYW5kIHByZXZlbnQgbXVsdGlwbGUgc2ltdWx0YW5lb3VzIGxvYWRzXG4gICAgaWYgKCFpc0NsaWVudCgpIHx8IGRhdGFTdG9yZS5pc0xvYWRpbmcpIHJldHVybiBmYWxzZTtcbiAgICBcbiAgICB0cnkge1xuICAgICAgZGF0YVN0b3JlLmlzTG9hZGluZyA9IHRydWU7XG4gICAgICBjb25zb2xlLmxvZygnTG9hZGluZyBkYXRhIGZyb20gU3VwYWJhc2UuLi4nKTtcbiAgICAgIFxuICAgICAgLy8gVXNlIGFic29sdXRlIFVSTCB3aXRoIHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4gZm9yIGNsaWVudC1zaWRlIHJlcXVlc3RzXG4gICAgICBjb25zdCBiYXNlVXJsID0gd2luZG93LmxvY2F0aW9uLm9yaWdpbjtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7YmFzZVVybH0vYXBpL2dldFN0b3JlZERhdGFgKTtcbiAgICAgIFxuICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IGRiRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgY29uc29sZS5sb2coJ0RhdGEgcmVjZWl2ZWQgZnJvbSBTdXBhYmFzZTonLCB7XG4gICAgICAgICAgYmFua0RhdGE6ICEhZGJEYXRhLmJhbmtEYXRhLFxuICAgICAgICAgIGdzdERhdGE6ICEhZGJEYXRhLmdzdERhdGEsXG4gICAgICAgICAgcG5sRGF0YTogISFkYkRhdGEucG5sRGF0YVxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIC8vIFVwZGF0ZSBkYXRhU3RvcmUgd2l0aCBkYXRhYmFzZSBkYXRhXG4gICAgICAgIGlmIChkYkRhdGEuYmFua0RhdGEpIHtcbiAgICAgICAgICBkYXRhU3RvcmUuY2F0ZWdvcml6ZWRPdXRwdXQgPSBkYkRhdGEuYmFua0RhdGE7XG4gICAgICAgICAgY29uc29sZS5sb2coJ0JhbmsgZGF0YSBsb2FkZWQgZnJvbSBkYXRhYmFzZScpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYkRhdGEuZ3N0RGF0YSkge1xuICAgICAgICAgIGRhdGFTdG9yZS5nc3RPQ1JPdXRwdXQgPSBkYkRhdGEuZ3N0RGF0YTtcbiAgICAgICAgICBjb25zb2xlLmxvZygnR1NUIGRhdGEgbG9hZGVkIGZyb20gZGF0YWJhc2UnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGJEYXRhLnBubERhdGEpIHtcbiAgICAgICAgICBkYXRhU3RvcmUucG5sT0NST3V0cHV0ID0gZGJEYXRhLnBubERhdGE7XG4gICAgICAgICAgY29uc29sZS5sb2coJ1AmTCBkYXRhIGxvYWRlZCBmcm9tIGRhdGFiYXNlJyk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGRhdGFTdG9yZS5sYXN0TG9hZGVkID0gbmV3IERhdGUoKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gZmV0Y2ggZnJvbSBkYXRhYmFzZTonLCByZXNwb25zZS5zdGF0dXMsIHJlc3BvbnNlLnN0YXR1c1RleHQpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBsb2FkIGRhdGEgZnJvbSBkYXRhYmFzZTonLCBlcnJvcik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGRhdGFTdG9yZS5pc0xvYWRpbmcgPSBmYWxzZTtcbiAgICB9XG4gIH07XG4gIFxuICAvLyBGSVhFRDogRnVuY3Rpb24gdG8gbG9hZCBkYXRhIG9uIHNlcnZlciBzaWRlIChmb3IgQVBJIHJvdXRlcylcbiAgY29uc3QgbG9hZEZyb21EYXRhYmFzZVNlcnZlciA9IGFzeW5jICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc29sZS5sb2coJ0xvYWRpbmcgZGF0YSBmcm9tIFN1cGFiYXNlIChzZXJ2ZXItc2lkZSkuLi4nKTtcbiAgICAgIFxuICAgICAgLy8gQ2hlY2sgZW52aXJvbm1lbnQgdmFyaWFibGVzIGZpcnN0XG4gICAgICBjb25zdCBzdXBhYmFzZVVybCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTDtcbiAgICAgIGNvbnN0IHN1cGFiYXNlU2VydmljZUtleSA9IHByb2Nlc3MuZW52LlNVUEFCQVNFX1NFUlZJQ0VfUk9MRV9LRVk7XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKCdFbnZpcm9ubWVudCBjaGVjazonLCB7XG4gICAgICAgIGhhc1VybDogISFzdXBhYmFzZVVybCxcbiAgICAgICAgaGFzU2VydmljZUtleTogISFzdXBhYmFzZVNlcnZpY2VLZXksXG4gICAgICAgIHVybFByZXZpZXc6IHN1cGFiYXNlVXJsID8gc3VwYWJhc2VVcmwuc3Vic3RyaW5nKDAsIDIwKSArICcuLi4nIDogJ21pc3NpbmcnXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgaWYgKCFzdXBhYmFzZVVybCB8fCAhc3VwYWJhc2VTZXJ2aWNlS2V5KSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ01pc3NpbmcgU3VwYWJhc2UgZW52aXJvbm1lbnQgdmFyaWFibGVzJyk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgXG4gICAgICAvLyBJbXBvcnQgU3VwYWJhc2UgY2xpZW50IGRpcmVjdGx5IChzZXJ2ZXItc2lkZSlcbiAgICAgIGNvbnN0IHsgY3JlYXRlQ2xpZW50IH0gPSBhd2FpdCBpbXBvcnQoJ0BzdXBhYmFzZS9zdXBhYmFzZS1qcycpO1xuICAgICAgXG4gICAgICBjb25zdCBzdXBhYmFzZSA9IGNyZWF0ZUNsaWVudChzdXBhYmFzZVVybCwgc3VwYWJhc2VTZXJ2aWNlS2V5LCB7XG4gICAgICAgIGF1dGg6IHtcbiAgICAgICAgICBhdXRvUmVmcmVzaFRva2VuOiBmYWxzZSxcbiAgICAgICAgICBwZXJzaXN0U2Vzc2lvbjogZmFsc2VcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIFxuICAgICAgY29uc29sZS5sb2coJ1N1cGFiYXNlIGNsaWVudCBjcmVhdGVkIHN1Y2Nlc3NmdWxseScpO1xuICBcbiAgICAgIC8vIEdldCBsYXRlc3QgYmFuayBzdGF0ZW1lbnQgZGF0YSB3aXRoIHNpbmdsZSBxdWVyeSAobm8gLnNpbmdsZSgpKVxuICAgICAgY29uc3QgeyBkYXRhOiBiYW5rUmVzdWx0cywgZXJyb3I6IGJhbmtFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ3RyYW5zYWN0aW9ucycpXG4gICAgICAgIC5zZWxlY3QoJyonKVxuICAgICAgICAub3JkZXIoJ2NyZWF0ZWRfYXQnLCB7IGFzY2VuZGluZzogZmFsc2UgfSlcbiAgICAgICAgLmxpbWl0KDEpO1xuICAgICAgXG4gICAgICBjb25zb2xlLmxvZygnQmFuayBxdWVyeSByZXN1bHRzOicsIHtcbiAgICAgICAgZXJyb3I6IGJhbmtFcnJvcj8ubWVzc2FnZSxcbiAgICAgICAgZGF0YUxlbmd0aDogYmFua1Jlc3VsdHM/Lmxlbmd0aCxcbiAgICAgICAgaGFzRGF0YTogISFiYW5rUmVzdWx0cyAmJiBiYW5rUmVzdWx0cy5sZW5ndGggPiAwXG4gICAgICB9KTtcbiAgXG4gICAgICBpZiAoYmFua1Jlc3VsdHMgJiYgYmFua1Jlc3VsdHMubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCBiYW5rRGF0YSA9IGJhbmtSZXN1bHRzWzBdO1xuICAgICAgICBjb25zb2xlLmxvZygnUmF3IGJhbmsgZGF0YSBrZXlzOicsIE9iamVjdC5rZXlzKGJhbmtEYXRhKSk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdSYXcgYmFuayBkYXRhIHNhbXBsZTonLCBKU09OLnN0cmluZ2lmeShiYW5rRGF0YSkuc3Vic3RyaW5nKDAsIDIwMCkpO1xuICAgICAgICBcbiAgICAgICAgLy8gVHJ5IGRpZmZlcmVudCBwb3NzaWJsZSBjb2x1bW4gbmFtZXMgZm9yIHRoZSBhY3R1YWwgZGF0YVxuICAgICAgICBkYXRhU3RvcmUuY2F0ZWdvcml6ZWRPdXRwdXQgPSBcbiAgICAgICAgICBiYW5rRGF0YS5jYXRlZ29yaXplZF9vdXRwdXQgfHwgXG4gICAgICAgICAgYmFua0RhdGEuZGF0YSB8fCBcbiAgICAgICAgICBiYW5rRGF0YS5wcm9jZXNzZWRfZGF0YSB8fFxuICAgICAgICAgIGJhbmtEYXRhLnRyYW5zYWN0aW9ucyB8fFxuICAgICAgICAgIGJhbmtEYXRhLnRyYW5zYWN0aW9uX2RhdGEgfHxcbiAgICAgICAgICBiYW5rRGF0YTtcbiAgICAgICAgICBcbiAgICAgICAgY29uc29sZS5sb2coJ0JhbmsgZGF0YSBwcm9jZXNzZWQ6Jywge1xuICAgICAgICAgIHR5cGU6IHR5cGVvZiBkYXRhU3RvcmUuY2F0ZWdvcml6ZWRPdXRwdXQsXG4gICAgICAgICAgaGFzRGF0YTogISFkYXRhU3RvcmUuY2F0ZWdvcml6ZWRPdXRwdXQsXG4gICAgICAgICAga2V5czogZGF0YVN0b3JlLmNhdGVnb3JpemVkT3V0cHV0ID8gT2JqZWN0LmtleXMoZGF0YVN0b3JlLmNhdGVnb3JpemVkT3V0cHV0KS5zbGljZSgwLCAxMCkgOiBudWxsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICBcbiAgICAgIC8vIFNpbWlsYXIgcXVlcmllcyBmb3IgR1NUIGFuZCBQJkwgKHNpbXBsaWZpZWQpXG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCB7IGRhdGE6IGdzdFJlc3VsdHMgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgICAgLmZyb20oJ2dzdDNiJylcbiAgICAgICAgICAuc2VsZWN0KCcqJylcbiAgICAgICAgICAub3JkZXIoJ2NyZWF0ZWRfYXQnLCB7IGFzY2VuZGluZzogZmFsc2UgfSlcbiAgICAgICAgICAubGltaXQoMSk7XG4gICAgICAgICAgXG4gICAgICAgIGlmIChnc3RSZXN1bHRzICYmIGdzdFJlc3VsdHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGNvbnN0IGdzdERhdGEgPSBnc3RSZXN1bHRzWzBdO1xuICAgICAgICAgIGRhdGFTdG9yZS5nc3RPQ1JPdXRwdXQgPSBnc3REYXRhLmRhdGEgfHwgZ3N0RGF0YS5nc3Rfb2NyX291dHB1dCB8fCBnc3REYXRhO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdHU1QgZGF0YSBsb2FkZWQ6JywgISFkYXRhU3RvcmUuZ3N0T0NST3V0cHV0KTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZ3N0RXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ0dTVCBxdWVyeSBmYWlsZWQgKHRhYmxlIG1pZ2h0IG5vdCBleGlzdCk6JywgZ3N0RXJyb3IubWVzc2FnZSk7XG4gICAgICB9XG4gIFxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgeyBkYXRhOiBwbmxSZXN1bHRzIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAgIC5mcm9tKCdwbmwnKVxuICAgICAgICAgIC5zZWxlY3QoJyonKVxuICAgICAgICAgIC5vcmRlcignY3JlYXRlZF9hdCcsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KVxuICAgICAgICAgIC5saW1pdCgxKTtcbiAgICAgICAgICBcbiAgICAgICAgaWYgKHBubFJlc3VsdHMgJiYgcG5sUmVzdWx0cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgY29uc3QgcG5sRGF0YSA9IHBubFJlc3VsdHNbMF07XG4gICAgICAgICAgZGF0YVN0b3JlLnBubE9DUk91dHB1dCA9IHBubERhdGEuZGF0YSB8fCBwbmxEYXRhLnBubF9vY3Jfb3V0cHV0IHx8IHBubERhdGE7XG4gICAgICAgICAgY29uc29sZS5sb2coJ1AmTCBkYXRhIGxvYWRlZDonLCAhIWRhdGFTdG9yZS5wbmxPQ1JPdXRwdXQpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChwbmxFcnJvcikge1xuICAgICAgICBjb25zb2xlLmxvZygnUCZMIHF1ZXJ5IGZhaWxlZCAodGFibGUgbWlnaHQgbm90IGV4aXN0KTonLCBwbmxFcnJvci5tZXNzYWdlKTtcbiAgICAgIH1cbiAgXG4gICAgICBkYXRhU3RvcmUubGFzdExvYWRlZCA9IG5ldyBEYXRlKCk7XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKCdTZXJ2ZXItc2lkZSBmaW5hbCBkYXRhIHN0YXR1czonLCB7XG4gICAgICAgIGJhbms6ICEhZGF0YVN0b3JlLmNhdGVnb3JpemVkT3V0cHV0LFxuICAgICAgICBnc3Q6ICEhZGF0YVN0b3JlLmdzdE9DUk91dHB1dCxcbiAgICAgICAgcG5sOiAhIWRhdGFTdG9yZS5wbmxPQ1JPdXRwdXRcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignU2VydmVyLXNpZGUgZGF0YWJhc2UgbG9hZCBlcnJvcjonLCBlcnJvcik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9O1xuICBcbiAgLy8gU3luY2hyb25vdXMgZ2V0RGF0YVN0b3JlIGZvciBpbW1lZGlhdGUgdXNlXG4gIGV4cG9ydCBjb25zdCBnZXREYXRhU3RvcmUgPSAoKSA9PiB7XG4gICAgcmV0dXJuIHsgLi4uZGF0YVN0b3JlIH07XG4gIH07XG4gIFxuICAvLyBGSVhFRDogQXN5bmMgdmVyc2lvbiB0aGF0IGxvYWRzIGZyb20gZGF0YWJhc2Ugd2l0aCBiZXR0ZXIgZXJyb3IgaGFuZGxpbmdcbiAgZXhwb3J0IGNvbnN0IGdldERhdGFTdG9yZUFzeW5jID0gYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZygnZ2V0RGF0YVN0b3JlQXN5bmMgY2FsbGVkLCBpc0NsaWVudDonLCBpc0NsaWVudCgpKTtcbiAgICAgIFxuICAgICAgLy8gVHJ5IHRvIGxvYWQgZnJvbSBkYXRhYmFzZSBvbiBzZXJ2ZXIgc2lkZVxuICAgICAgaWYgKCFpc0NsaWVudCgpKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdTZXJ2ZXItc2lkZTogYXR0ZW1wdGluZyB0byBsb2FkIGZyb20gZGF0YWJhc2UuLi4nKTtcbiAgICAgICAgY29uc3Qgc3VjY2VzcyA9IGF3YWl0IGxvYWRGcm9tRGF0YWJhc2VTZXJ2ZXIoKTtcbiAgICAgICAgY29uc29sZS5sb2coJ1NlcnZlci1zaWRlIGxvYWQgcmVzdWx0OicsIHN1Y2Nlc3MpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gQ2xpZW50IHNpZGUgbG9hZGluZ1xuICAgICAgICBjb25zdCBoYXNEYXRhID0gZGF0YVN0b3JlLmdzdE9DUk91dHB1dCB8fCBkYXRhU3RvcmUuY2F0ZWdvcml6ZWRPdXRwdXQgfHwgZGF0YVN0b3JlLnBubE9DUk91dHB1dDtcbiAgICAgICAgY29uc3QgaXNTdGFsZSA9ICFkYXRhU3RvcmUubGFzdExvYWRlZCB8fCAobmV3IERhdGUoKSAtIGRhdGFTdG9yZS5sYXN0TG9hZGVkKSA+IDMwMDAwMDtcbiAgICAgICAgXG4gICAgICAgIGNvbnNvbGUubG9nKCdDbGllbnQtc2lkZSBjaGVjazonLCB7IGhhc0RhdGEsIGlzU3RhbGUgfSk7XG4gICAgICAgIFxuICAgICAgICBpZiAoIWhhc0RhdGEgfHwgaXNTdGFsZSkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdDbGllbnQtc2lkZTogbG9hZGluZyBmcm9tIGRhdGFiYXNlLi4uJyk7XG4gICAgICAgICAgY29uc3Qgc3VjY2VzcyA9IGF3YWl0IGxvYWRGcm9tRGF0YWJhc2UoKTtcbiAgICAgICAgICBjb25zb2xlLmxvZygnQ2xpZW50LXNpZGUgbG9hZCByZXN1bHQ6Jywgc3VjY2Vzcyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3QgcmVzdWx0ID0geyAuLi5kYXRhU3RvcmUgfTtcbiAgICAgIGNvbnNvbGUubG9nKCdnZXREYXRhU3RvcmVBc3luYyByZXR1cm5pbmc6Jywge1xuICAgICAgICBoYXNCYW5rOiAhIXJlc3VsdC5jYXRlZ29yaXplZE91dHB1dCxcbiAgICAgICAgaGFzR1NUOiAhIXJlc3VsdC5nc3RPQ1JPdXRwdXQsXG4gICAgICAgIGhhc1BOTDogISFyZXN1bHQucG5sT0NST3V0cHV0XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignZ2V0RGF0YVN0b3JlQXN5bmMgZXJyb3I6JywgZXJyb3IpO1xuICAgICAgLy8gUmV0dXJuIGN1cnJlbnQgZGF0YVN0b3JlIGV2ZW4gaWYgbG9hZGluZyBmYWlsc1xuICAgICAgcmV0dXJuIHsgLi4uZGF0YVN0b3JlIH07XG4gICAgfVxuICB9O1xuICBcbiAgLy8gRm9yY2UgcmVmcmVzaCBmcm9tIGRhdGFiYXNlXG4gIGV4cG9ydCBjb25zdCByZWZyZXNoRGF0YUZyb21EYXRhYmFzZSA9IGFzeW5jICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgaWYgKGlzQ2xpZW50KCkpIHtcbiAgICAgICAgYXdhaXQgbG9hZEZyb21EYXRhYmFzZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXdhaXQgbG9hZEZyb21EYXRhYmFzZVNlcnZlcigpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHsgLi4uZGF0YVN0b3JlIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ3JlZnJlc2hEYXRhRnJvbURhdGFiYXNlIGVycm9yOicsIGVycm9yKTtcbiAgICAgIHJldHVybiB7IC4uLmRhdGFTdG9yZSB9O1xuICAgIH1cbiAgfTtcbiAgXG4gIC8vIFJlc2V0IGZ1bmN0aW9uIGZvciBjbGVhcmluZyBkYXRhXG4gIGV4cG9ydCBjb25zdCByZXNldERhdGFTdG9yZSA9ICgpID0+IHtcbiAgICBkYXRhU3RvcmUgPSB7XG4gICAgICBnc3RPQ1JPdXRwdXQ6IG51bGwsXG4gICAgICBjYXRlZ29yaXplZE91dHB1dDogbnVsbCxcbiAgICAgIHBubE9DUk91dHB1dDogbnVsbCxcbiAgICAgIGxhc3RMb2FkZWQ6IG51bGwsXG4gICAgICBpc0xvYWRpbmc6IGZhbHNlXG4gICAgfTtcbiAgICBjb25zb2xlLmxvZygnRGF0YSBzdG9yZSByZXNldCcpO1xuICB9OyJdLCJuYW1lcyI6WyJkYXRhU3RvcmUiLCJnc3RPQ1JPdXRwdXQiLCJjYXRlZ29yaXplZE91dHB1dCIsInBubE9DUk91dHB1dCIsImxhc3RMb2FkZWQiLCJpc0xvYWRpbmciLCJ1cGRhdGVHU1REYXRhIiwiZGF0YSIsIkRhdGUiLCJjb25zb2xlIiwibG9nIiwidXBkYXRlQmFua0RhdGEiLCJ1cGRhdGVQbkxEYXRhIiwiaXNDbGllbnQiLCJsb2FkRnJvbURhdGFiYXNlIiwiYmFzZVVybCIsIndpbmRvdyIsImxvY2F0aW9uIiwib3JpZ2luIiwicmVzcG9uc2UiLCJmZXRjaCIsIm9rIiwiZGJEYXRhIiwianNvbiIsImJhbmtEYXRhIiwiZ3N0RGF0YSIsInBubERhdGEiLCJlcnJvciIsInN0YXR1cyIsInN0YXR1c1RleHQiLCJsb2FkRnJvbURhdGFiYXNlU2VydmVyIiwic3VwYWJhc2VVcmwiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMIiwic3VwYWJhc2VTZXJ2aWNlS2V5IiwiU1VQQUJBU0VfU0VSVklDRV9ST0xFX0tFWSIsImhhc1VybCIsImhhc1NlcnZpY2VLZXkiLCJ1cmxQcmV2aWV3Iiwic3Vic3RyaW5nIiwiY3JlYXRlQ2xpZW50Iiwic3VwYWJhc2UiLCJhdXRoIiwiYXV0b1JlZnJlc2hUb2tlbiIsInBlcnNpc3RTZXNzaW9uIiwiYmFua1Jlc3VsdHMiLCJiYW5rRXJyb3IiLCJmcm9tIiwic2VsZWN0Iiwib3JkZXIiLCJhc2NlbmRpbmciLCJsaW1pdCIsIm1lc3NhZ2UiLCJkYXRhTGVuZ3RoIiwibGVuZ3RoIiwiaGFzRGF0YSIsIk9iamVjdCIsImtleXMiLCJKU09OIiwic3RyaW5naWZ5IiwiY2F0ZWdvcml6ZWRfb3V0cHV0IiwicHJvY2Vzc2VkX2RhdGEiLCJ0cmFuc2FjdGlvbnMiLCJ0cmFuc2FjdGlvbl9kYXRhIiwidHlwZSIsInNsaWNlIiwiZ3N0UmVzdWx0cyIsImdzdF9vY3Jfb3V0cHV0IiwiZ3N0RXJyb3IiLCJwbmxSZXN1bHRzIiwicG5sX29jcl9vdXRwdXQiLCJwbmxFcnJvciIsImJhbmsiLCJnc3QiLCJwbmwiLCJnZXREYXRhU3RvcmUiLCJnZXREYXRhU3RvcmVBc3luYyIsInN1Y2Nlc3MiLCJpc1N0YWxlIiwicmVzdWx0IiwiaGFzQmFuayIsImhhc0dTVCIsImhhc1BOTCIsInJlZnJlc2hEYXRhRnJvbURhdGFiYXNlIiwicmVzZXREYXRhU3RvcmUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/dataStore.js\n");

/***/ }),

/***/ "./lib/datastore.js":
/*!**************************!*\
  !*** ./lib/datastore.js ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getDataStore: () => (/* binding */ getDataStore),\n/* harmony export */   getDataStoreAsync: () => (/* binding */ getDataStoreAsync),\n/* harmony export */   refreshDataFromDatabase: () => (/* binding */ refreshDataFromDatabase),\n/* harmony export */   resetDataStore: () => (/* binding */ resetDataStore),\n/* harmony export */   updateBankData: () => (/* binding */ updateBankData),\n/* harmony export */   updateGSTData: () => (/* binding */ updateGSTData),\n/* harmony export */   updatePnLData: () => (/* binding */ updatePnLData)\n/* harmony export */ });\n// lib/dataStore.js - Fixed for Supabase integration\nlet dataStore = {\n    gstOCROutput: null,\n    categorizedOutput: null,\n    pnlOCROutput: null,\n    lastLoaded: null,\n    isLoading: false\n};\n// In-memory update functions\nconst updateGSTData = (data)=>{\n    dataStore.gstOCROutput = data;\n    dataStore.lastLoaded = new Date();\n    console.log(\"GST data updated in store\");\n};\nconst updateBankData = (data)=>{\n    dataStore.categorizedOutput = data;\n    dataStore.lastLoaded = new Date();\n    console.log(\"Bank data updated in store\");\n};\nconst updatePnLData = (data)=>{\n    dataStore.pnlOCROutput = data;\n    dataStore.lastLoaded = new Date();\n    console.log(\"P&L data updated in store\");\n};\n// Function to check if we're on the client side\nconst isClient = ()=>\"undefined\" !== \"undefined\";\n// Function to load from database (only on client side)\nconst loadFromDatabase = async ()=>{\n    // Only run on client side and prevent multiple simultaneous loads\n    if (!isClient() || dataStore.isLoading) return false;\n    try {\n        dataStore.isLoading = true;\n        console.log(\"Loading data from Supabase...\");\n        // Use absolute URL with window.location.origin for client-side requests\n        const baseUrl = window.location.origin;\n        const response = await fetch(`${baseUrl}/api/getStoredData`);\n        if (response.ok) {\n            const dbData = await response.json();\n            console.log(\"Data received from Supabase:\", {\n                bankData: !!dbData.bankData,\n                gstData: !!dbData.gstData,\n                pnlData: !!dbData.pnlData\n            });\n            // Update dataStore with database data\n            if (dbData.bankData) {\n                dataStore.categorizedOutput = dbData.bankData;\n                console.log(\"Bank data loaded from database\");\n            }\n            if (dbData.gstData) {\n                dataStore.gstOCROutput = dbData.gstData;\n                console.log(\"GST data loaded from database\");\n            }\n            if (dbData.pnlData) {\n                dataStore.pnlOCROutput = dbData.pnlData;\n                console.log(\"P&L data loaded from database\");\n            }\n            dataStore.lastLoaded = new Date();\n            return true;\n        } else {\n            console.error(\"Failed to fetch from database:\", response.status, response.statusText);\n            return false;\n        }\n    } catch (error) {\n        console.error(\"Failed to load data from database:\", error);\n        return false;\n    } finally{\n        dataStore.isLoading = false;\n    }\n};\n// FIXED: Function to load data on server side (for API routes)\nconst loadFromDatabaseServer = async ()=>{\n    try {\n        console.log(\"Loading data from Supabase (server-side)...\");\n        // Check environment variables first\n        const supabaseUrl = \"https://apftqchtwcwrnkmjzhcr.supabase.co\";\n        const supabaseServiceKey = process.env.SUPABASE_SERVICE_ROLE_KEY;\n        console.log(\"Environment check:\", {\n            hasUrl: !!supabaseUrl,\n            hasServiceKey: !!supabaseServiceKey,\n            urlPreview: supabaseUrl ? supabaseUrl.substring(0, 20) + \"...\" : \"missing\"\n        });\n        if (!supabaseUrl || !supabaseServiceKey) {\n            console.error(\"Missing Supabase environment variables\");\n            return false;\n        }\n        // Import Supabase client directly (server-side)\n        const { createClient } = await Promise.resolve(/*! import() */).then(__webpack_require__.t.bind(__webpack_require__, /*! @supabase/supabase-js */ \"@supabase/supabase-js\", 23));\n        const supabase = createClient(supabaseUrl, supabaseServiceKey, {\n            auth: {\n                autoRefreshToken: false,\n                persistSession: false\n            }\n        });\n        console.log(\"Supabase client created successfully\");\n        // Get latest bank statement data with single query (no .single())\n        const { data: bankResults, error: bankError } = await supabase.from(\"transactions\").select(\"*\").order(\"created_at\", {\n            ascending: false\n        }).limit(1);\n        console.log(\"Bank query results:\", {\n            error: bankError?.message,\n            dataLength: bankResults?.length,\n            hasData: !!bankResults && bankResults.length > 0\n        });\n        if (bankResults && bankResults.length > 0) {\n            const bankData = bankResults[0];\n            console.log(\"Raw bank data keys:\", Object.keys(bankData));\n            console.log(\"Raw bank data sample:\", JSON.stringify(bankData).substring(0, 200));\n            // Try different possible column names for the actual data\n            dataStore.categorizedOutput = bankData.categorized_output || bankData.data || bankData.processed_data || bankData.transactions || bankData.transaction_data || bankData;\n            console.log(\"Bank data processed:\", {\n                type: typeof dataStore.categorizedOutput,\n                hasData: !!dataStore.categorizedOutput,\n                keys: dataStore.categorizedOutput ? Object.keys(dataStore.categorizedOutput).slice(0, 10) : null\n            });\n        }\n        // Similar queries for GST and P&L (simplified)\n        try {\n            const { data: gstResults } = await supabase.from(\"gst3b\").select(\"*\").order(\"created_at\", {\n                ascending: false\n            }).limit(1);\n            if (gstResults && gstResults.length > 0) {\n                const gstData = gstResults[0];\n                dataStore.gstOCROutput = gstData.data || gstData.gst_ocr_output || gstData;\n                console.log(\"GST data loaded:\", !!dataStore.gstOCROutput);\n            }\n        } catch (gstError) {\n            console.log(\"GST query failed (table might not exist):\", gstError.message);\n        }\n        try {\n            const { data: pnlResults } = await supabase.from(\"pnl\").select(\"*\").order(\"created_at\", {\n                ascending: false\n            }).limit(1);\n            if (pnlResults && pnlResults.length > 0) {\n                const pnlData = pnlResults[0];\n                dataStore.pnlOCROutput = pnlData.data || pnlData.pnl_ocr_output || pnlData;\n                console.log(\"P&L data loaded:\", !!dataStore.pnlOCROutput);\n            }\n        } catch (pnlError) {\n            console.log(\"P&L query failed (table might not exist):\", pnlError.message);\n        }\n        dataStore.lastLoaded = new Date();\n        console.log(\"Server-side final data status:\", {\n            bank: !!dataStore.categorizedOutput,\n            gst: !!dataStore.gstOCROutput,\n            pnl: !!dataStore.pnlOCROutput\n        });\n        return true;\n    } catch (error) {\n        console.error(\"Server-side database load error:\", error);\n        return false;\n    }\n};\n// Synchronous getDataStore for immediate use\nconst getDataStore = ()=>{\n    return {\n        ...dataStore\n    };\n};\n// FIXED: Async version that loads from database with better error handling\nconst getDataStoreAsync = async ()=>{\n    try {\n        console.log(\"getDataStoreAsync called, isClient:\", isClient());\n        // Try to load from database on server side\n        if (!isClient()) {\n            console.log(\"Server-side: attempting to load from database...\");\n            const success = await loadFromDatabaseServer();\n            console.log(\"Server-side load result:\", success);\n        } else {\n            // Client side loading\n            const hasData = dataStore.gstOCROutput || dataStore.categorizedOutput || dataStore.pnlOCROutput;\n            const isStale = !dataStore.lastLoaded || new Date() - dataStore.lastLoaded > 300000;\n            console.log(\"Client-side check:\", {\n                hasData,\n                isStale\n            });\n            if (!hasData || isStale) {\n                console.log(\"Client-side: loading from database...\");\n                const success = await loadFromDatabase();\n                console.log(\"Client-side load result:\", success);\n            }\n        }\n        const result = {\n            ...dataStore\n        };\n        console.log(\"getDataStoreAsync returning:\", {\n            hasBank: !!result.categorizedOutput,\n            hasGST: !!result.gstOCROutput,\n            hasPNL: !!result.pnlOCROutput\n        });\n        return result;\n    } catch (error) {\n        console.error(\"getDataStoreAsync error:\", error);\n        // Return current dataStore even if loading fails\n        return {\n            ...dataStore\n        };\n    }\n};\n// Force refresh from database\nconst refreshDataFromDatabase = async ()=>{\n    try {\n        if (isClient()) {\n            await loadFromDatabase();\n        } else {\n            await loadFromDatabaseServer();\n        }\n        return {\n            ...dataStore\n        };\n    } catch (error) {\n        console.error(\"refreshDataFromDatabase error:\", error);\n        return {\n            ...dataStore\n        };\n    }\n};\n// Reset function for clearing data\nconst resetDataStore = ()=>{\n    dataStore = {\n        gstOCROutput: null,\n        categorizedOutput: null,\n        pnlOCROutput: null,\n        lastLoaded: null,\n        isLoading: false\n    };\n    console.log(\"Data store reset\");\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFRQyxHQUFHLENBQUM7Z0JBQ1osTUFBTW9FLFVBQVUsTUFBTWhFO2dCQUN0QkwsUUFBUUMsR0FBRyxDQUFDLDRCQUE0Qm9FO1lBQzFDO1FBQ0Y7UUFFQSxNQUFNRSxTQUFTO1lBQUUsR0FBR2hGLFNBQVM7UUFBQztRQUM5QlMsUUFBUUMsR0FBRyxDQUFDLGdDQUFnQztZQUMxQ3VFLFNBQVMsQ0FBQyxDQUFDRCxPQUFPOUUsaUJBQWlCO1lBQ25DZ0YsUUFBUSxDQUFDLENBQUNGLE9BQU8vRSxZQUFZO1lBQzdCa0YsUUFBUSxDQUFDLENBQUNILE9BQU83RSxZQUFZO1FBQy9CO1FBRUEsT0FBTzZFO0lBQ1QsRUFBRSxPQUFPckQsT0FBTztRQUNkbEIsUUFBUWtCLEtBQUssQ0FBQyw0QkFBNEJBO1FBQzFDLGlEQUFpRDtRQUNqRCxPQUFPO1lBQUUsR0FBRzNCLFNBQVM7UUFBQztJQUN4QjtBQUNGLEVBQUU7QUFFRiw4QkFBOEI7QUFDdkIsTUFBTW9GLDBCQUEwQjtJQUNyQyxJQUFJO1FBQ0YsSUFBSXZFLFlBQVk7WUFDZCxNQUFNQztRQUNSLE9BQU87WUFDTCxNQUFNZ0I7UUFDUjtRQUNBLE9BQU87WUFBRSxHQUFHOUIsU0FBUztRQUFDO0lBQ3hCLEVBQUUsT0FBTzJCLE9BQU87UUFDZGxCLFFBQVFrQixLQUFLLENBQUMsa0NBQWtDQTtRQUNoRCxPQUFPO1lBQUUsR0FBRzNCLFNBQVM7UUFBQztJQUN4QjtBQUNGLEVBQUU7QUFFRixtQ0FBbUM7QUFDNUIsTUFBTXFGLGlCQUFpQjtJQUM1QnJGLFlBQVk7UUFDVkMsY0FBYztRQUNkQyxtQkFBbUI7UUFDbkJDLGNBQWM7UUFDZEMsWUFBWTtRQUNaQyxXQUFXO0lBQ2I7SUFDQUksUUFBUUMsR0FBRyxDQUFDO0FBQ2QsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL2Jhbmstc3RhdGVtZW50LXJlYWRlci8uL2xpYi9kYXRhc3RvcmUuanM/Nzc2YyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBsaWIvZGF0YVN0b3JlLmpzIC0gRml4ZWQgZm9yIFN1cGFiYXNlIGludGVncmF0aW9uXG5sZXQgZGF0YVN0b3JlID0ge1xuICAgIGdzdE9DUk91dHB1dDogbnVsbCxcbiAgICBjYXRlZ29yaXplZE91dHB1dDogbnVsbCxcbiAgICBwbmxPQ1JPdXRwdXQ6IG51bGwsXG4gICAgbGFzdExvYWRlZDogbnVsbCxcbiAgICBpc0xvYWRpbmc6IGZhbHNlXG4gIH07XG4gIFxuICAvLyBJbi1tZW1vcnkgdXBkYXRlIGZ1bmN0aW9uc1xuICBleHBvcnQgY29uc3QgdXBkYXRlR1NURGF0YSA9IChkYXRhKSA9PiB7XG4gICAgZGF0YVN0b3JlLmdzdE9DUk91dHB1dCA9IGRhdGE7XG4gICAgZGF0YVN0b3JlLmxhc3RMb2FkZWQgPSBuZXcgRGF0ZSgpO1xuICAgIGNvbnNvbGUubG9nKCdHU1QgZGF0YSB1cGRhdGVkIGluIHN0b3JlJyk7XG4gIH07XG4gIFxuICBleHBvcnQgY29uc3QgdXBkYXRlQmFua0RhdGEgPSAoZGF0YSkgPT4ge1xuICAgIGRhdGFTdG9yZS5jYXRlZ29yaXplZE91dHB1dCA9IGRhdGE7XG4gICAgZGF0YVN0b3JlLmxhc3RMb2FkZWQgPSBuZXcgRGF0ZSgpO1xuICAgIGNvbnNvbGUubG9nKCdCYW5rIGRhdGEgdXBkYXRlZCBpbiBzdG9yZScpO1xuICB9O1xuICBcbiAgZXhwb3J0IGNvbnN0IHVwZGF0ZVBuTERhdGEgPSAoZGF0YSkgPT4ge1xuICAgIGRhdGFTdG9yZS5wbmxPQ1JPdXRwdXQgPSBkYXRhO1xuICAgIGRhdGFTdG9yZS5sYXN0TG9hZGVkID0gbmV3IERhdGUoKTtcbiAgICBjb25zb2xlLmxvZygnUCZMIGRhdGEgdXBkYXRlZCBpbiBzdG9yZScpO1xuICB9O1xuICBcbiAgLy8gRnVuY3Rpb24gdG8gY2hlY2sgaWYgd2UncmUgb24gdGhlIGNsaWVudCBzaWRlXG4gIGNvbnN0IGlzQ2xpZW50ID0gKCkgPT4gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCc7XG4gIFxuICAvLyBGdW5jdGlvbiB0byBsb2FkIGZyb20gZGF0YWJhc2UgKG9ubHkgb24gY2xpZW50IHNpZGUpXG4gIGNvbnN0IGxvYWRGcm9tRGF0YWJhc2UgPSBhc3luYyAoKSA9PiB7XG4gICAgLy8gT25seSBydW4gb24gY2xpZW50IHNpZGUgYW5kIHByZXZlbnQgbXVsdGlwbGUgc2ltdWx0YW5lb3VzIGxvYWRzXG4gICAgaWYgKCFpc0NsaWVudCgpIHx8IGRhdGFTdG9yZS5pc0xvYWRpbmcpIHJldHVybiBmYWxzZTtcbiAgICBcbiAgICB0cnkge1xuICAgICAgZGF0YVN0b3JlLmlzTG9hZGluZyA9IHRydWU7XG4gICAgICBjb25zb2xlLmxvZygnTG9hZGluZyBkYXRhIGZyb20gU3VwYWJhc2UuLi4nKTtcbiAgICAgIFxuICAgICAgLy8gVXNlIGFic29sdXRlIFVSTCB3aXRoIHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4gZm9yIGNsaWVudC1zaWRlIHJlcXVlc3RzXG4gICAgICBjb25zdCBiYXNlVXJsID0gd2luZG93LmxvY2F0aW9uLm9yaWdpbjtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7YmFzZVVybH0vYXBpL2dldFN0b3JlZERhdGFgKTtcbiAgICAgIFxuICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IGRiRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgY29uc29sZS5sb2coJ0RhdGEgcmVjZWl2ZWQgZnJvbSBTdXBhYmFzZTonLCB7XG4gICAgICAgICAgYmFua0RhdGE6ICEhZGJEYXRhLmJhbmtEYXRhLFxuICAgICAgICAgIGdzdERhdGE6ICEhZGJEYXRhLmdzdERhdGEsXG4gICAgICAgICAgcG5sRGF0YTogISFkYkRhdGEucG5sRGF0YVxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIC8vIFVwZGF0ZSBkYXRhU3RvcmUgd2l0aCBkYXRhYmFzZSBkYXRhXG4gICAgICAgIGlmIChkYkRhdGEuYmFua0RhdGEpIHtcbiAgICAgICAgICBkYXRhU3RvcmUuY2F0ZWdvcml6ZWRPdXRwdXQgPSBkYkRhdGEuYmFua0RhdGE7XG4gICAgICAgICAgY29uc29sZS5sb2coJ0JhbmsgZGF0YSBsb2FkZWQgZnJvbSBkYXRhYmFzZScpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYkRhdGEuZ3N0RGF0YSkge1xuICAgICAgICAgIGRhdGFTdG9yZS5nc3RPQ1JPdXRwdXQgPSBkYkRhdGEuZ3N0RGF0YTtcbiAgICAgICAgICBjb25zb2xlLmxvZygnR1NUIGRhdGEgbG9hZGVkIGZyb20gZGF0YWJhc2UnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGJEYXRhLnBubERhdGEpIHtcbiAgICAgICAgICBkYXRhU3RvcmUucG5sT0NST3V0cHV0ID0gZGJEYXRhLnBubERhdGE7XG4gICAgICAgICAgY29uc29sZS5sb2coJ1AmTCBkYXRhIGxvYWRlZCBmcm9tIGRhdGFiYXNlJyk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGRhdGFTdG9yZS5sYXN0TG9hZGVkID0gbmV3IERhdGUoKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gZmV0Y2ggZnJvbSBkYXRhYmFzZTonLCByZXNwb25zZS5zdGF0dXMsIHJlc3BvbnNlLnN0YXR1c1RleHQpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBsb2FkIGRhdGEgZnJvbSBkYXRhYmFzZTonLCBlcnJvcik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGRhdGFTdG9yZS5pc0xvYWRpbmcgPSBmYWxzZTtcbiAgICB9XG4gIH07XG4gIFxuICAvLyBGSVhFRDogRnVuY3Rpb24gdG8gbG9hZCBkYXRhIG9uIHNlcnZlciBzaWRlIChmb3IgQVBJIHJvdXRlcylcbiAgY29uc3QgbG9hZEZyb21EYXRhYmFzZVNlcnZlciA9IGFzeW5jICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc29sZS5sb2coJ0xvYWRpbmcgZGF0YSBmcm9tIFN1cGFiYXNlIChzZXJ2ZXItc2lkZSkuLi4nKTtcbiAgICAgIFxuICAgICAgLy8gQ2hlY2sgZW52aXJvbm1lbnQgdmFyaWFibGVzIGZpcnN0XG4gICAgICBjb25zdCBzdXBhYmFzZVVybCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTDtcbiAgICAgIGNvbnN0IHN1cGFiYXNlU2VydmljZUtleSA9IHByb2Nlc3MuZW52LlNVUEFCQVNFX1NFUlZJQ0VfUk9MRV9LRVk7XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKCdFbnZpcm9ubWVudCBjaGVjazonLCB7XG4gICAgICAgIGhhc1VybDogISFzdXBhYmFzZVVybCxcbiAgICAgICAgaGFzU2VydmljZUtleTogISFzdXBhYmFzZVNlcnZpY2VLZXksXG4gICAgICAgIHVybFByZXZpZXc6IHN1cGFiYXNlVXJsID8gc3VwYWJhc2VVcmwuc3Vic3RyaW5nKDAsIDIwKSArICcuLi4nIDogJ21pc3NpbmcnXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgaWYgKCFzdXBhYmFzZVVybCB8fCAhc3VwYWJhc2VTZXJ2aWNlS2V5KSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ01pc3NpbmcgU3VwYWJhc2UgZW52aXJvbm1lbnQgdmFyaWFibGVzJyk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgXG4gICAgICAvLyBJbXBvcnQgU3VwYWJhc2UgY2xpZW50IGRpcmVjdGx5IChzZXJ2ZXItc2lkZSlcbiAgICAgIGNvbnN0IHsgY3JlYXRlQ2xpZW50IH0gPSBhd2FpdCBpbXBvcnQoJ0BzdXBhYmFzZS9zdXBhYmFzZS1qcycpO1xuICAgICAgXG4gICAgICBjb25zdCBzdXBhYmFzZSA9IGNyZWF0ZUNsaWVudChzdXBhYmFzZVVybCwgc3VwYWJhc2VTZXJ2aWNlS2V5LCB7XG4gICAgICAgIGF1dGg6IHtcbiAgICAgICAgICBhdXRvUmVmcmVzaFRva2VuOiBmYWxzZSxcbiAgICAgICAgICBwZXJzaXN0U2Vzc2lvbjogZmFsc2VcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIFxuICAgICAgY29uc29sZS5sb2coJ1N1cGFiYXNlIGNsaWVudCBjcmVhdGVkIHN1Y2Nlc3NmdWxseScpO1xuICBcbiAgICAgIC8vIEdldCBsYXRlc3QgYmFuayBzdGF0ZW1lbnQgZGF0YSB3aXRoIHNpbmdsZSBxdWVyeSAobm8gLnNpbmdsZSgpKVxuICAgICAgY29uc3QgeyBkYXRhOiBiYW5rUmVzdWx0cywgZXJyb3I6IGJhbmtFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ3RyYW5zYWN0aW9ucycpXG4gICAgICAgIC5zZWxlY3QoJyonKVxuICAgICAgICAub3JkZXIoJ2NyZWF0ZWRfYXQnLCB7IGFzY2VuZGluZzogZmFsc2UgfSlcbiAgICAgICAgLmxpbWl0KDEpO1xuICAgICAgXG4gICAgICBjb25zb2xlLmxvZygnQmFuayBxdWVyeSByZXN1bHRzOicsIHtcbiAgICAgICAgZXJyb3I6IGJhbmtFcnJvcj8ubWVzc2FnZSxcbiAgICAgICAgZGF0YUxlbmd0aDogYmFua1Jlc3VsdHM/Lmxlbmd0aCxcbiAgICAgICAgaGFzRGF0YTogISFiYW5rUmVzdWx0cyAmJiBiYW5rUmVzdWx0cy5sZW5ndGggPiAwXG4gICAgICB9KTtcbiAgXG4gICAgICBpZiAoYmFua1Jlc3VsdHMgJiYgYmFua1Jlc3VsdHMubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCBiYW5rRGF0YSA9IGJhbmtSZXN1bHRzWzBdO1xuICAgICAgICBjb25zb2xlLmxvZygnUmF3IGJhbmsgZGF0YSBrZXlzOicsIE9iamVjdC5rZXlzKGJhbmtEYXRhKSk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdSYXcgYmFuayBkYXRhIHNhbXBsZTonLCBKU09OLnN0cmluZ2lmeShiYW5rRGF0YSkuc3Vic3RyaW5nKDAsIDIwMCkpO1xuICAgICAgICBcbiAgICAgICAgLy8gVHJ5IGRpZmZlcmVudCBwb3NzaWJsZSBjb2x1bW4gbmFtZXMgZm9yIHRoZSBhY3R1YWwgZGF0YVxuICAgICAgICBkYXRhU3RvcmUuY2F0ZWdvcml6ZWRPdXRwdXQgPSBcbiAgICAgICAgICBiYW5rRGF0YS5jYXRlZ29yaXplZF9vdXRwdXQgfHwgXG4gICAgICAgICAgYmFua0RhdGEuZGF0YSB8fCBcbiAgICAgICAgICBiYW5rRGF0YS5wcm9jZXNzZWRfZGF0YSB8fFxuICAgICAgICAgIGJhbmtEYXRhLnRyYW5zYWN0aW9ucyB8fFxuICAgICAgICAgIGJhbmtEYXRhLnRyYW5zYWN0aW9uX2RhdGEgfHxcbiAgICAgICAgICBiYW5rRGF0YTtcbiAgICAgICAgICBcbiAgICAgICAgY29uc29sZS5sb2coJ0JhbmsgZGF0YSBwcm9jZXNzZWQ6Jywge1xuICAgICAgICAgIHR5cGU6IHR5cGVvZiBkYXRhU3RvcmUuY2F0ZWdvcml6ZWRPdXRwdXQsXG4gICAgICAgICAgaGFzRGF0YTogISFkYXRhU3RvcmUuY2F0ZWdvcml6ZWRPdXRwdXQsXG4gICAgICAgICAga2V5czogZGF0YVN0b3JlLmNhdGVnb3JpemVkT3V0cHV0ID8gT2JqZWN0LmtleXMoZGF0YVN0b3JlLmNhdGVnb3JpemVkT3V0cHV0KS5zbGljZSgwLCAxMCkgOiBudWxsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICBcbiAgICAgIC8vIFNpbWlsYXIgcXVlcmllcyBmb3IgR1NUIGFuZCBQJkwgKHNpbXBsaWZpZWQpXG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCB7IGRhdGE6IGdzdFJlc3VsdHMgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgICAgLmZyb20oJ2dzdDNiJylcbiAgICAgICAgICAuc2VsZWN0KCcqJylcbiAgICAgICAgICAub3JkZXIoJ2NyZWF0ZWRfYXQnLCB7IGFzY2VuZGluZzogZmFsc2UgfSlcbiAgICAgICAgICAubGltaXQoMSk7XG4gICAgICAgICAgXG4gICAgICAgIGlmIChnc3RSZXN1bHRzICYmIGdzdFJlc3VsdHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGNvbnN0IGdzdERhdGEgPSBnc3RSZXN1bHRzWzBdO1xuICAgICAgICAgIGRhdGFTdG9yZS5nc3RPQ1JPdXRwdXQgPSBnc3REYXRhLmRhdGEgfHwgZ3N0RGF0YS5nc3Rfb2NyX291dHB1dCB8fCBnc3REYXRhO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdHU1QgZGF0YSBsb2FkZWQ6JywgISFkYXRhU3RvcmUuZ3N0T0NST3V0cHV0KTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZ3N0RXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ0dTVCBxdWVyeSBmYWlsZWQgKHRhYmxlIG1pZ2h0IG5vdCBleGlzdCk6JywgZ3N0RXJyb3IubWVzc2FnZSk7XG4gICAgICB9XG4gIFxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgeyBkYXRhOiBwbmxSZXN1bHRzIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAgIC5mcm9tKCdwbmwnKVxuICAgICAgICAgIC5zZWxlY3QoJyonKVxuICAgICAgICAgIC5vcmRlcignY3JlYXRlZF9hdCcsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KVxuICAgICAgICAgIC5saW1pdCgxKTtcbiAgICAgICAgICBcbiAgICAgICAgaWYgKHBubFJlc3VsdHMgJiYgcG5sUmVzdWx0cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgY29uc3QgcG5sRGF0YSA9IHBubFJlc3VsdHNbMF07XG4gICAgICAgICAgZGF0YVN0b3JlLnBubE9DUk91dHB1dCA9IHBubERhdGEuZGF0YSB8fCBwbmxEYXRhLnBubF9vY3Jfb3V0cHV0IHx8IHBubERhdGE7XG4gICAgICAgICAgY29uc29sZS5sb2coJ1AmTCBkYXRhIGxvYWRlZDonLCAhIWRhdGFTdG9yZS5wbmxPQ1JPdXRwdXQpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChwbmxFcnJvcikge1xuICAgICAgICBjb25zb2xlLmxvZygnUCZMIHF1ZXJ5IGZhaWxlZCAodGFibGUgbWlnaHQgbm90IGV4aXN0KTonLCBwbmxFcnJvci5tZXNzYWdlKTtcbiAgICAgIH1cbiAgXG4gICAgICBkYXRhU3RvcmUubGFzdExvYWRlZCA9IG5ldyBEYXRlKCk7XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKCdTZXJ2ZXItc2lkZSBmaW5hbCBkYXRhIHN0YXR1czonLCB7XG4gICAgICAgIGJhbms6ICEhZGF0YVN0b3JlLmNhdGVnb3JpemVkT3V0cHV0LFxuICAgICAgICBnc3Q6ICEhZGF0YVN0b3JlLmdzdE9DUk91dHB1dCxcbiAgICAgICAgcG5sOiAhIWRhdGFTdG9yZS5wbmxPQ1JPdXRwdXRcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignU2VydmVyLXNpZGUgZGF0YWJhc2UgbG9hZCBlcnJvcjonLCBlcnJvcik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9O1xuICBcbiAgLy8gU3luY2hyb25vdXMgZ2V0RGF0YVN0b3JlIGZvciBpbW1lZGlhdGUgdXNlXG4gIGV4cG9ydCBjb25zdCBnZXREYXRhU3RvcmUgPSAoKSA9PiB7XG4gICAgcmV0dXJuIHsgLi4uZGF0YVN0b3JlIH07XG4gIH07XG4gIFxuICAvLyBGSVhFRDogQXN5bmMgdmVyc2lvbiB0aGF0IGxvYWRzIGZyb20gZGF0YWJhc2Ugd2l0aCBiZXR0ZXIgZXJyb3IgaGFuZGxpbmdcbiAgZXhwb3J0IGNvbnN0IGdldERhdGFTdG9yZUFzeW5jID0gYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZygnZ2V0RGF0YVN0b3JlQXN5bmMgY2FsbGVkLCBpc0NsaWVudDonLCBpc0NsaWVudCgpKTtcbiAgICAgIFxuICAgICAgLy8gVHJ5IHRvIGxvYWQgZnJvbSBkYXRhYmFzZSBvbiBzZXJ2ZXIgc2lkZVxuICAgICAgaWYgKCFpc0NsaWVudCgpKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdTZXJ2ZXItc2lkZTogYXR0ZW1wdGluZyB0byBsb2FkIGZyb20gZGF0YWJhc2UuLi4nKTtcbiAgICAgICAgY29uc3Qgc3VjY2VzcyA9IGF3YWl0IGxvYWRGcm9tRGF0YWJhc2VTZXJ2ZXIoKTtcbiAgICAgICAgY29uc29sZS5sb2coJ1NlcnZlci1zaWRlIGxvYWQgcmVzdWx0OicsIHN1Y2Nlc3MpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gQ2xpZW50IHNpZGUgbG9hZGluZ1xuICAgICAgICBjb25zdCBoYXNEYXRhID0gZGF0YVN0b3JlLmdzdE9DUk91dHB1dCB8fCBkYXRhU3RvcmUuY2F0ZWdvcml6ZWRPdXRwdXQgfHwgZGF0YVN0b3JlLnBubE9DUk91dHB1dDtcbiAgICAgICAgY29uc3QgaXNTdGFsZSA9ICFkYXRhU3RvcmUubGFzdExvYWRlZCB8fCAobmV3IERhdGUoKSAtIGRhdGFTdG9yZS5sYXN0TG9hZGVkKSA+IDMwMDAwMDtcbiAgICAgICAgXG4gICAgICAgIGNvbnNvbGUubG9nKCdDbGllbnQtc2lkZSBjaGVjazonLCB7IGhhc0RhdGEsIGlzU3RhbGUgfSk7XG4gICAgICAgIFxuICAgICAgICBpZiAoIWhhc0RhdGEgfHwgaXNTdGFsZSkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdDbGllbnQtc2lkZTogbG9hZGluZyBmcm9tIGRhdGFiYXNlLi4uJyk7XG4gICAgICAgICAgY29uc3Qgc3VjY2VzcyA9IGF3YWl0IGxvYWRGcm9tRGF0YWJhc2UoKTtcbiAgICAgICAgICBjb25zb2xlLmxvZygnQ2xpZW50LXNpZGUgbG9hZCByZXN1bHQ6Jywgc3VjY2Vzcyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3QgcmVzdWx0ID0geyAuLi5kYXRhU3RvcmUgfTtcbiAgICAgIGNvbnNvbGUubG9nKCdnZXREYXRhU3RvcmVBc3luYyByZXR1cm5pbmc6Jywge1xuICAgICAgICBoYXNCYW5rOiAhIXJlc3VsdC5jYXRlZ29yaXplZE91dHB1dCxcbiAgICAgICAgaGFzR1NUOiAhIXJlc3VsdC5nc3RPQ1JPdXRwdXQsXG4gICAgICAgIGhhc1BOTDogISFyZXN1bHQucG5sT0NST3V0cHV0XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignZ2V0RGF0YVN0b3JlQXN5bmMgZXJyb3I6JywgZXJyb3IpO1xuICAgICAgLy8gUmV0dXJuIGN1cnJlbnQgZGF0YVN0b3JlIGV2ZW4gaWYgbG9hZGluZyBmYWlsc1xuICAgICAgcmV0dXJuIHsgLi4uZGF0YVN0b3JlIH07XG4gICAgfVxuICB9O1xuICBcbiAgLy8gRm9yY2UgcmVmcmVzaCBmcm9tIGRhdGFiYXNlXG4gIGV4cG9ydCBjb25zdCByZWZyZXNoRGF0YUZyb21EYXRhYmFzZSA9IGFzeW5jICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgaWYgKGlzQ2xpZW50KCkpIHtcbiAgICAgICAgYXdhaXQgbG9hZEZyb21EYXRhYmFzZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXdhaXQgbG9hZEZyb21EYXRhYmFzZVNlcnZlcigpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHsgLi4uZGF0YVN0b3JlIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ3JlZnJlc2hEYXRhRnJvbURhdGFiYXNlIGVycm9yOicsIGVycm9yKTtcbiAgICAgIHJldHVybiB7IC4uLmRhdGFTdG9yZSB9O1xuICAgIH1cbiAgfTtcbiAgXG4gIC8vIFJlc2V0IGZ1bmN0aW9uIGZvciBjbGVhcmluZyBkYXRhXG4gIGV4cG9ydCBjb25zdCByZXNldERhdGFTdG9yZSA9ICgpID0+IHtcbiAgICBkYXRhU3RvcmUgPSB7XG4gICAgICBnc3RPQ1JPdXRwdXQ6IG51bGwsXG4gICAgICBjYXRlZ29yaXplZE91dHB1dDogbnVsbCxcbiAgICAgIHBubE9DUk91dHB1dDogbnVsbCxcbiAgICAgIGxhc3RMb2FkZWQ6IG51bGwsXG4gICAgICBpc0xvYWRpbmc6IGZhbHNlXG4gICAgfTtcbiAgICBjb25zb2xlLmxvZygnRGF0YSBzdG9yZSByZXNldCcpO1xuICB9OyJdLCJuYW1lcyI6WyJkYXRhU3RvcmUiLCJnc3RPQ1JPdXRwdXQiLCJjYXRlZ29yaXplZE91dHB1dCIsInBubE9DUk91dHB1dCIsImxhc3RMb2FkZWQiLCJpc0xvYWRpbmciLCJ1cGRhdGVHU1REYXRhIiwiZGF0YSIsIkRhdGUiLCJjb25zb2xlIiwibG9nIiwidXBkYXRlQmFua0RhdGEiLCJ1cGRhdGVQbkxEYXRhIiwiaXNDbGllbnQiLCJsb2FkRnJvbURhdGFiYXNlIiwiYmFzZVVybCIsIndpbmRvdyIsImxvY2F0aW9uIiwib3JpZ2luIiwicmVzcG9uc2UiLCJmZXRjaCIsIm9rIiwiZGJEYXRhIiwianNvbiIsImJhbmtEYXRhIiwiZ3N0RGF0YSIsInBubERhdGEiLCJlcnJvciIsInN0YXR1cyIsInN0YXR1c1RleHQiLCJsb2FkRnJvbURhdGFiYXNlU2VydmVyIiwic3VwYWJhc2VVcmwiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMIiwic3VwYWJhc2VTZXJ2aWNlS2V5IiwiU1VQQUJBU0VfU0VSVklDRV9ST0xFX0tFWSIsImhhc1VybCIsImhhc1NlcnZpY2VLZXkiLCJ1cmxQcmV2aWV3Iiwic3Vic3RyaW5nIiwiY3JlYXRlQ2xpZW50Iiwic3VwYWJhc2UiLCJhdXRoIiwiYXV0b1JlZnJlc2hUb2tlbiIsInBlcnNpc3RTZXNzaW9uIiwiYmFua1Jlc3VsdHMiLCJiYW5rRXJyb3IiLCJmcm9tIiwic2VsZWN0Iiwib3JkZXIiLCJhc2NlbmRpbmciLCJsaW1pdCIsIm1lc3NhZ2UiLCJkYXRhTGVuZ3RoIiwibGVuZ3RoIiwiaGFzRGF0YSIsIk9iamVjdCIsImtleXMiLCJKU09OIiwic3RyaW5naWZ5IiwiY2F0ZWdvcml6ZWRfb3V0cHV0IiwicHJvY2Vzc2VkX2RhdGEiLCJ0cmFuc2FjdGlvbnMiLCJ0cmFuc2FjdGlvbl9kYXRhIiwidHlwZSIsInNsaWNlIiwiZ3N0UmVzdWx0cyIsImdzdF9vY3Jfb3V0cHV0IiwiZ3N0RXJyb3IiLCJwbmxSZXN1bHRzIiwicG5sX29jcl9vdXRwdXQiLCJwbmxFcnJvciIsImJhbmsiLCJnc3QiLCJwbmwiLCJnZXREYXRhU3RvcmUiLCJnZXREYXRhU3RvcmVBc3luYyIsInN1Y2Nlc3MiLCJpc1N0YWxlIiwicmVzdWx0IiwiaGFzQmFuayIsImhhc0dTVCIsImhhc1BOTCIsInJlZnJlc2hEYXRhRnJvbURhdGFiYXNlIiwicmVzZXREYXRhU3RvcmUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/datastore.js\n");

/***/ }),

/***/ "./lib/supabase.js":
/*!*************************!*\
  !*** ./lib/supabase.js ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   bankStatementOperations: () => (/* binding */ bankStatementOperations),\n/* harmony export */   subscribeToStatements: () => (/* binding */ subscribeToStatements),\n/* harmony export */   subscribeToTransactions: () => (/* binding */ subscribeToTransactions),\n/* harmony export */   supabase: () => (/* binding */ supabase)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"@supabase/supabase-js\");\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__);\n// lib/supabase.js\n\nconst supabaseUrl = \"https://apftqchtwcwrnkmjzhcr.supabase.co\";\nconst supabaseKey = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFwZnRxY2h0d2N3cm5rbWp6aGNyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY0NDUzNDQsImV4cCI6MjA3MjAyMTM0NH0.Iz94Nyyn9RFj4DvLWlW5UtNqQXGihSX5eQvoZoiYsw8\";\nif (!supabaseUrl || !supabaseKey) {\n    throw new Error(\"Missing Supabase environment variables. Please check your .env.local file.\");\n}\nconst supabase = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseKey);\n// Helper functions for bank statement operations\nconst bankStatementOperations = {\n    // Insert a new bank statement\n    async insertStatement (statementData) {\n        const { data, error } = await supabase.from(\"bank_statements\").insert(statementData).select().single();\n        if (error) throw error;\n        return data;\n    },\n    // Insert multiple transactions\n    async insertTransactions (transactions) {\n        const { data, error } = await supabase.from(\"transactions\").insert(transactions).select();\n        if (error) throw error;\n        return data;\n    },\n    // Get all statements for a user (if using auth)\n    async getStatements (limit = 50) {\n        const { data, error } = await supabase.from(\"bank_statements\").select(`\n        *,\n        transactions(count)\n      `).order(\"upload_date\", {\n            ascending: false\n        }).limit(limit);\n        if (error) throw error;\n        return data;\n    },\n    // Get transactions for a specific statement\n    async getStatementTransactions (statementId) {\n        const { data, error } = await supabase.from(\"transactions\").select(\"*\").eq(\"statement_id\", statementId).order(\"date\", {\n            ascending: false\n        });\n        if (error) throw error;\n        return data;\n    },\n    // Get transactions by date range\n    async getTransactionsByDateRange (startDate, endDate, bank = null) {\n        let query = supabase.from(\"transactions\").select(\"*\").gte(\"date\", startDate).lte(\"date\", endDate).order(\"date\", {\n            ascending: false\n        });\n        if (bank) {\n            query = query.eq(\"bank\", bank);\n        }\n        const { data, error } = await query;\n        if (error) throw error;\n        return data;\n    },\n    // Get spending by category\n    async getSpendingByCategory (startDate = null, endDate = null) {\n        let query = supabase.from(\"transactions\").select(\"category, amount\").lt(\"amount\", 0) // Only expenses (negative amounts)\n        ;\n        if (startDate) query = query.gte(\"date\", startDate);\n        if (endDate) query = query.lte(\"date\", endDate);\n        const { data, error } = await query;\n        if (error) throw error;\n        // Group by category and sum amounts\n        const categoryTotals = data.reduce((acc, transaction)=>{\n            const category = transaction.category || \"Uncategorized\";\n            acc[category] = (acc[category] || 0) + Math.abs(transaction.amount);\n            return acc;\n        }, {});\n        return Object.entries(categoryTotals).map(([category, total])=>({\n                category,\n                total: Math.round(total * 100) / 100 // Round to 2 decimal places\n            }));\n    },\n    // Delete a statement and its transactions\n    async deleteStatement (statementId) {\n        // Transactions will be automatically deleted due to CASCADE\n        const { error } = await supabase.from(\"bank_statements\").delete().eq(\"id\", statementId);\n        if (error) throw error;\n        return true;\n    },\n    // Debug function to analyze transaction parsing\n    async analyzeParsingIssues (categorizedText) {\n        const lines = categorizedText.split(\"\\n\");\n        const analysis = {\n            totalLines: lines.length,\n            nonEmptyLines: 0,\n            linesWithDates: 0,\n            linesWithAmounts: 0,\n            sampleLines: []\n        };\n        const datePattern = /(\\d{1,2}[\\/\\-]\\d{1,2}[\\/\\-]\\d{4})/;\n        const amountPattern = /([+-]?\\$?\\s*\\d{1,3}(?:,\\d{3})*\\.?\\d{0,2})/;\n        lines.forEach((line, index)=>{\n            const trimmed = line.trim();\n            if (!trimmed || trimmed.startsWith(\"=\") || trimmed.includes(\"PAGE\")) return;\n            analysis.nonEmptyLines++;\n            if (datePattern.test(trimmed)) analysis.linesWithDates++;\n            if (amountPattern.test(trimmed)) analysis.linesWithAmounts++;\n            // Collect first 5 sample lines for debugging\n            if (analysis.sampleLines.length < 5) {\n                analysis.sampleLines.push({\n                    lineNumber: index + 1,\n                    content: trimmed,\n                    hasDate: datePattern.test(trimmed),\n                    hasAmount: amountPattern.test(trimmed)\n                });\n            }\n        });\n        return analysis;\n    }\n};\n// Real-time subscription helper\nconst subscribeToStatements = (callback)=>{\n    return supabase.channel(\"bank_statements_changes\").on(\"postgres_changes\", {\n        event: \"*\",\n        schema: \"public\",\n        table: \"bank_statements\"\n    }, callback).subscribe();\n};\n// Transaction subscription helper\nconst subscribeToTransactions = (callback)=>{\n    return supabase.channel(\"transactions_changes\").on(\"postgres_changes\", {\n        event: \"*\",\n        schema: \"public\",\n        table: \"transactions\"\n    }, callback).subscribe();\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFDSixVQUFVWixTQUFTSyxnQkFBZ0I7WUFFMUQsNkNBQTZDO1lBQzdDLElBQUlMLFNBQVNNLFdBQVcsQ0FBQ0osTUFBTSxHQUFHLEdBQUc7Z0JBQ25DRixTQUFTTSxXQUFXLENBQUNXLElBQUksQ0FBQztvQkFDeEJDLFlBQVlQLFFBQVE7b0JBQ3BCUSxTQUFTUDtvQkFDVFEsU0FBU2IsWUFBWVMsSUFBSSxDQUFDSjtvQkFDMUJTLFdBQVdiLGNBQWNRLElBQUksQ0FBQ0o7Z0JBQ2hDO1lBQ0Y7UUFDRjtRQUVBLE9BQU9aO0lBQ1Q7QUFDRixFQUFDO0FBRUQsZ0NBQWdDO0FBQ3pCLE1BQU1zQix3QkFBd0IsQ0FBQ0M7SUFDcEMsT0FBT3RFLFNBQ0p1RSxPQUFPLENBQUMsMkJBQ1JDLEVBQUUsQ0FBQyxvQkFDRjtRQUFFQyxPQUFPO1FBQUtDLFFBQVE7UUFBVUMsT0FBTztJQUFrQixHQUN6REwsVUFFRE0sU0FBUztBQUNkLEVBQUM7QUFFRCxrQ0FBa0M7QUFDM0IsTUFBTUMsMEJBQTBCLENBQUNQO0lBQ3RDLE9BQU90RSxTQUNKdUUsT0FBTyxDQUFDLHdCQUNSQyxFQUFFLENBQUMsb0JBQ0Y7UUFBRUMsT0FBTztRQUFLQyxRQUFRO1FBQVVDLE9BQU87SUFBZSxHQUN0REwsVUFFRE0sU0FBUztBQUNkLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iYW5rLXN0YXRlbWVudC1yZWFkZXIvLi9saWIvc3VwYWJhc2UuanM/MTU5OCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBsaWIvc3VwYWJhc2UuanNcbmltcG9ydCB7IGNyZWF0ZUNsaWVudCB9IGZyb20gJ0BzdXBhYmFzZS9zdXBhYmFzZS1qcydcblxuY29uc3Qgc3VwYWJhc2VVcmwgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkxcbmNvbnN0IHN1cGFiYXNlS2V5ID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVlcblxuaWYgKCFzdXBhYmFzZVVybCB8fCAhc3VwYWJhc2VLZXkpIHtcbiAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIFN1cGFiYXNlIGVudmlyb25tZW50IHZhcmlhYmxlcy4gUGxlYXNlIGNoZWNrIHlvdXIgLmVudi5sb2NhbCBmaWxlLicpXG59XG5cbmV4cG9ydCBjb25zdCBzdXBhYmFzZSA9IGNyZWF0ZUNsaWVudChzdXBhYmFzZVVybCwgc3VwYWJhc2VLZXkpXG5cbi8vIEhlbHBlciBmdW5jdGlvbnMgZm9yIGJhbmsgc3RhdGVtZW50IG9wZXJhdGlvbnNcbmV4cG9ydCBjb25zdCBiYW5rU3RhdGVtZW50T3BlcmF0aW9ucyA9IHtcbiAgLy8gSW5zZXJ0IGEgbmV3IGJhbmsgc3RhdGVtZW50XG4gIGFzeW5jIGluc2VydFN0YXRlbWVudChzdGF0ZW1lbnREYXRhKSB7XG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCdiYW5rX3N0YXRlbWVudHMnKVxuICAgICAgLmluc2VydChzdGF0ZW1lbnREYXRhKVxuICAgICAgLnNlbGVjdCgpXG4gICAgICAuc2luZ2xlKClcbiAgICBcbiAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yXG4gICAgcmV0dXJuIGRhdGFcbiAgfSxcblxuICAvLyBJbnNlcnQgbXVsdGlwbGUgdHJhbnNhY3Rpb25zXG4gIGFzeW5jIGluc2VydFRyYW5zYWN0aW9ucyh0cmFuc2FjdGlvbnMpIHtcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ3RyYW5zYWN0aW9ucycpXG4gICAgICAuaW5zZXJ0KHRyYW5zYWN0aW9ucylcbiAgICAgIC5zZWxlY3QoKVxuICAgIFxuICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3JcbiAgICByZXR1cm4gZGF0YVxuICB9LFxuXG4gIC8vIEdldCBhbGwgc3RhdGVtZW50cyBmb3IgYSB1c2VyIChpZiB1c2luZyBhdXRoKVxuICBhc3luYyBnZXRTdGF0ZW1lbnRzKGxpbWl0ID0gNTApIHtcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ2Jhbmtfc3RhdGVtZW50cycpXG4gICAgICAuc2VsZWN0KGBcbiAgICAgICAgKixcbiAgICAgICAgdHJhbnNhY3Rpb25zKGNvdW50KVxuICAgICAgYClcbiAgICAgIC5vcmRlcigndXBsb2FkX2RhdGUnLCB7IGFzY2VuZGluZzogZmFsc2UgfSlcbiAgICAgIC5saW1pdChsaW1pdClcbiAgICBcbiAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yXG4gICAgcmV0dXJuIGRhdGFcbiAgfSxcblxuICAvLyBHZXQgdHJhbnNhY3Rpb25zIGZvciBhIHNwZWNpZmljIHN0YXRlbWVudFxuICBhc3luYyBnZXRTdGF0ZW1lbnRUcmFuc2FjdGlvbnMoc3RhdGVtZW50SWQpIHtcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ3RyYW5zYWN0aW9ucycpXG4gICAgICAuc2VsZWN0KCcqJylcbiAgICAgIC5lcSgnc3RhdGVtZW50X2lkJywgc3RhdGVtZW50SWQpXG4gICAgICAub3JkZXIoJ2RhdGUnLCB7IGFzY2VuZGluZzogZmFsc2UgfSlcbiAgICBcbiAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yXG4gICAgcmV0dXJuIGRhdGFcbiAgfSxcblxuICAvLyBHZXQgdHJhbnNhY3Rpb25zIGJ5IGRhdGUgcmFuZ2VcbiAgYXN5bmMgZ2V0VHJhbnNhY3Rpb25zQnlEYXRlUmFuZ2Uoc3RhcnREYXRlLCBlbmREYXRlLCBiYW5rID0gbnVsbCkge1xuICAgIGxldCBxdWVyeSA9IHN1cGFiYXNlXG4gICAgICAuZnJvbSgndHJhbnNhY3Rpb25zJylcbiAgICAgIC5zZWxlY3QoJyonKVxuICAgICAgLmd0ZSgnZGF0ZScsIHN0YXJ0RGF0ZSlcbiAgICAgIC5sdGUoJ2RhdGUnLCBlbmREYXRlKVxuICAgICAgLm9yZGVyKCdkYXRlJywgeyBhc2NlbmRpbmc6IGZhbHNlIH0pXG4gICAgXG4gICAgaWYgKGJhbmspIHtcbiAgICAgIHF1ZXJ5ID0gcXVlcnkuZXEoJ2JhbmsnLCBiYW5rKVxuICAgIH1cbiAgICBcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBxdWVyeVxuICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3JcbiAgICByZXR1cm4gZGF0YVxuICB9LFxuXG4gIC8vIEdldCBzcGVuZGluZyBieSBjYXRlZ29yeVxuICBhc3luYyBnZXRTcGVuZGluZ0J5Q2F0ZWdvcnkoc3RhcnREYXRlID0gbnVsbCwgZW5kRGF0ZSA9IG51bGwpIHtcbiAgICBsZXQgcXVlcnkgPSBzdXBhYmFzZVxuICAgICAgLmZyb20oJ3RyYW5zYWN0aW9ucycpXG4gICAgICAuc2VsZWN0KCdjYXRlZ29yeSwgYW1vdW50JylcbiAgICAgIC5sdCgnYW1vdW50JywgMCkgLy8gT25seSBleHBlbnNlcyAobmVnYXRpdmUgYW1vdW50cylcbiAgICBcbiAgICBpZiAoc3RhcnREYXRlKSBxdWVyeSA9IHF1ZXJ5Lmd0ZSgnZGF0ZScsIHN0YXJ0RGF0ZSlcbiAgICBpZiAoZW5kRGF0ZSkgcXVlcnkgPSBxdWVyeS5sdGUoJ2RhdGUnLCBlbmREYXRlKVxuICAgIFxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHF1ZXJ5XG4gICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvclxuICAgIFxuICAgIC8vIEdyb3VwIGJ5IGNhdGVnb3J5IGFuZCBzdW0gYW1vdW50c1xuICAgIGNvbnN0IGNhdGVnb3J5VG90YWxzID0gZGF0YS5yZWR1Y2UoKGFjYywgdHJhbnNhY3Rpb24pID0+IHtcbiAgICAgIGNvbnN0IGNhdGVnb3J5ID0gdHJhbnNhY3Rpb24uY2F0ZWdvcnkgfHwgJ1VuY2F0ZWdvcml6ZWQnXG4gICAgICBhY2NbY2F0ZWdvcnldID0gKGFjY1tjYXRlZ29yeV0gfHwgMCkgKyBNYXRoLmFicyh0cmFuc2FjdGlvbi5hbW91bnQpXG4gICAgICByZXR1cm4gYWNjXG4gICAgfSwge30pXG4gICAgXG4gICAgcmV0dXJuIE9iamVjdC5lbnRyaWVzKGNhdGVnb3J5VG90YWxzKS5tYXAoKFtjYXRlZ29yeSwgdG90YWxdKSA9PiAoe1xuICAgICAgY2F0ZWdvcnksXG4gICAgICB0b3RhbDogTWF0aC5yb3VuZCh0b3RhbCAqIDEwMCkgLyAxMDAgLy8gUm91bmQgdG8gMiBkZWNpbWFsIHBsYWNlc1xuICAgIH0pKVxuICB9LFxuXG4gIC8vIERlbGV0ZSBhIHN0YXRlbWVudCBhbmQgaXRzIHRyYW5zYWN0aW9uc1xuICBhc3luYyBkZWxldGVTdGF0ZW1lbnQoc3RhdGVtZW50SWQpIHtcbiAgICAvLyBUcmFuc2FjdGlvbnMgd2lsbCBiZSBhdXRvbWF0aWNhbGx5IGRlbGV0ZWQgZHVlIHRvIENBU0NBREVcbiAgICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ2Jhbmtfc3RhdGVtZW50cycpXG4gICAgICAuZGVsZXRlKClcbiAgICAgIC5lcSgnaWQnLCBzdGF0ZW1lbnRJZClcbiAgICBcbiAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yXG4gICAgcmV0dXJuIHRydWVcbiAgfSxcblxuICAvLyBEZWJ1ZyBmdW5jdGlvbiB0byBhbmFseXplIHRyYW5zYWN0aW9uIHBhcnNpbmdcbiAgYXN5bmMgYW5hbHl6ZVBhcnNpbmdJc3N1ZXMoY2F0ZWdvcml6ZWRUZXh0KSB7XG4gICAgY29uc3QgbGluZXMgPSBjYXRlZ29yaXplZFRleHQuc3BsaXQoJ1xcbicpO1xuICAgIGNvbnN0IGFuYWx5c2lzID0ge1xuICAgICAgdG90YWxMaW5lczogbGluZXMubGVuZ3RoLFxuICAgICAgbm9uRW1wdHlMaW5lczogMCxcbiAgICAgIGxpbmVzV2l0aERhdGVzOiAwLFxuICAgICAgbGluZXNXaXRoQW1vdW50czogMCxcbiAgICAgIHNhbXBsZUxpbmVzOiBbXVxuICAgIH07XG5cbiAgICBjb25zdCBkYXRlUGF0dGVybiA9IC8oXFxkezEsMn1bXFwvXFwtXVxcZHsxLDJ9W1xcL1xcLV1cXGR7NH0pLztcbiAgICBjb25zdCBhbW91bnRQYXR0ZXJuID0gLyhbKy1dP1xcJD9cXHMqXFxkezEsM30oPzosXFxkezN9KSpcXC4/XFxkezAsMn0pLztcblxuICAgIGxpbmVzLmZvckVhY2goKGxpbmUsIGluZGV4KSA9PiB7XG4gICAgICBjb25zdCB0cmltbWVkID0gbGluZS50cmltKCk7XG4gICAgICBpZiAoIXRyaW1tZWQgfHwgdHJpbW1lZC5zdGFydHNXaXRoKCc9JykgfHwgdHJpbW1lZC5pbmNsdWRlcygnUEFHRScpKSByZXR1cm47XG4gICAgICBcbiAgICAgIGFuYWx5c2lzLm5vbkVtcHR5TGluZXMrKztcbiAgICAgIFxuICAgICAgaWYgKGRhdGVQYXR0ZXJuLnRlc3QodHJpbW1lZCkpIGFuYWx5c2lzLmxpbmVzV2l0aERhdGVzKys7XG4gICAgICBpZiAoYW1vdW50UGF0dGVybi50ZXN0KHRyaW1tZWQpKSBhbmFseXNpcy5saW5lc1dpdGhBbW91bnRzKys7XG4gICAgICBcbiAgICAgIC8vIENvbGxlY3QgZmlyc3QgNSBzYW1wbGUgbGluZXMgZm9yIGRlYnVnZ2luZ1xuICAgICAgaWYgKGFuYWx5c2lzLnNhbXBsZUxpbmVzLmxlbmd0aCA8IDUpIHtcbiAgICAgICAgYW5hbHlzaXMuc2FtcGxlTGluZXMucHVzaCh7XG4gICAgICAgICAgbGluZU51bWJlcjogaW5kZXggKyAxLFxuICAgICAgICAgIGNvbnRlbnQ6IHRyaW1tZWQsXG4gICAgICAgICAgaGFzRGF0ZTogZGF0ZVBhdHRlcm4udGVzdCh0cmltbWVkKSxcbiAgICAgICAgICBoYXNBbW91bnQ6IGFtb3VudFBhdHRlcm4udGVzdCh0cmltbWVkKVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiBhbmFseXNpcztcbiAgfVxufVxuXG4vLyBSZWFsLXRpbWUgc3Vic2NyaXB0aW9uIGhlbHBlclxuZXhwb3J0IGNvbnN0IHN1YnNjcmliZVRvU3RhdGVtZW50cyA9IChjYWxsYmFjaykgPT4ge1xuICByZXR1cm4gc3VwYWJhc2VcbiAgICAuY2hhbm5lbCgnYmFua19zdGF0ZW1lbnRzX2NoYW5nZXMnKVxuICAgIC5vbigncG9zdGdyZXNfY2hhbmdlcycsIFxuICAgICAgeyBldmVudDogJyonLCBzY2hlbWE6ICdwdWJsaWMnLCB0YWJsZTogJ2Jhbmtfc3RhdGVtZW50cycgfSxcbiAgICAgIGNhbGxiYWNrXG4gICAgKVxuICAgIC5zdWJzY3JpYmUoKVxufVxuXG4vLyBUcmFuc2FjdGlvbiBzdWJzY3JpcHRpb24gaGVscGVyXG5leHBvcnQgY29uc3Qgc3Vic2NyaWJlVG9UcmFuc2FjdGlvbnMgPSAoY2FsbGJhY2spID0+IHtcbiAgcmV0dXJuIHN1cGFiYXNlXG4gICAgLmNoYW5uZWwoJ3RyYW5zYWN0aW9uc19jaGFuZ2VzJylcbiAgICAub24oJ3Bvc3RncmVzX2NoYW5nZXMnLCBcbiAgICAgIHsgZXZlbnQ6ICcqJywgc2NoZW1hOiAncHVibGljJywgdGFibGU6ICd0cmFuc2FjdGlvbnMnIH0sXG4gICAgICBjYWxsYmFja1xuICAgIClcbiAgICAuc3Vic2NyaWJlKClcbn0iXSwibmFtZXMiOlsiY3JlYXRlQ2xpZW50Iiwic3VwYWJhc2VVcmwiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMIiwic3VwYWJhc2VLZXkiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSIsIkVycm9yIiwic3VwYWJhc2UiLCJiYW5rU3RhdGVtZW50T3BlcmF0aW9ucyIsImluc2VydFN0YXRlbWVudCIsInN0YXRlbWVudERhdGEiLCJkYXRhIiwiZXJyb3IiLCJmcm9tIiwiaW5zZXJ0Iiwic2VsZWN0Iiwic2luZ2xlIiwiaW5zZXJ0VHJhbnNhY3Rpb25zIiwidHJhbnNhY3Rpb25zIiwiZ2V0U3RhdGVtZW50cyIsImxpbWl0Iiwib3JkZXIiLCJhc2NlbmRpbmciLCJnZXRTdGF0ZW1lbnRUcmFuc2FjdGlvbnMiLCJzdGF0ZW1lbnRJZCIsImVxIiwiZ2V0VHJhbnNhY3Rpb25zQnlEYXRlUmFuZ2UiLCJzdGFydERhdGUiLCJlbmREYXRlIiwiYmFuayIsInF1ZXJ5IiwiZ3RlIiwibHRlIiwiZ2V0U3BlbmRpbmdCeUNhdGVnb3J5IiwibHQiLCJjYXRlZ29yeVRvdGFscyIsInJlZHVjZSIsImFjYyIsInRyYW5zYWN0aW9uIiwiY2F0ZWdvcnkiLCJNYXRoIiwiYWJzIiwiYW1vdW50IiwiT2JqZWN0IiwiZW50cmllcyIsIm1hcCIsInRvdGFsIiwicm91bmQiLCJkZWxldGVTdGF0ZW1lbnQiLCJkZWxldGUiLCJhbmFseXplUGFyc2luZ0lzc3VlcyIsImNhdGVnb3JpemVkVGV4dCIsImxpbmVzIiwic3BsaXQiLCJhbmFseXNpcyIsInRvdGFsTGluZXMiLCJsZW5ndGgiLCJub25FbXB0eUxpbmVzIiwibGluZXNXaXRoRGF0ZXMiLCJsaW5lc1dpdGhBbW91bnRzIiwic2FtcGxlTGluZXMiLCJkYXRlUGF0dGVybiIsImFtb3VudFBhdHRlcm4iLCJmb3JFYWNoIiwibGluZSIsImluZGV4IiwidHJpbW1lZCIsInRyaW0iLCJzdGFydHNXaXRoIiwiaW5jbHVkZXMiLCJ0ZXN0IiwicHVzaCIsImxpbmVOdW1iZXIiLCJjb250ZW50IiwiaGFzRGF0ZSIsImhhc0Ftb3VudCIsInN1YnNjcmliZVRvU3RhdGVtZW50cyIsImNhbGxiYWNrIiwiY2hhbm5lbCIsIm9uIiwiZXZlbnQiLCJzY2hlbWEiLCJ0YWJsZSIsInN1YnNjcmliZSIsInN1YnNjcmliZVRvVHJhbnNhY3Rpb25zIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./lib/supabase.js\n");

/***/ }),

/***/ "./pages/_app.js":
/*!***********************!*\
  !*** ./pages/_app.js ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _styles_globals_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../styles/globals.css */ \"./styles/globals.css\");\n/* harmony import */ var _styles_globals_css__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_styles_globals_css__WEBPACK_IMPORTED_MODULE_1__);\n// pages/_app.js (for Pages Router)\n\n\nfunction App({ Component, pageProps }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Component, {\n            ...pageProps\n        }, void 0, false, {\n            fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/pages/_app.js\",\n            lineNumber: 10,\n            columnNumber: 7\n        }, this)\n    }, void 0, false);\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (App);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWdlcy9fYXBwLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBRUEsbUNBQW1DOztBQUVKO0FBRS9CLFNBQVNBLElBQUksRUFBRUMsU0FBUyxFQUFFQyxTQUFTLEVBQUU7SUFDbkMscUJBQ0U7a0JBQ0UsNEVBQUNEO1lBQVcsR0FBR0MsU0FBUzs7Ozs7OztBQUc5QjtBQUVBLGlFQUFlRixHQUFHQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmFuay1zdGF0ZW1lbnQtcmVhZGVyLy4vcGFnZXMvX2FwcC5qcz9lMGFkIl0sInNvdXJjZXNDb250ZW50IjpbIlxuXG4vLyBwYWdlcy9fYXBwLmpzIChmb3IgUGFnZXMgUm91dGVyKVxuXG5pbXBvcnQgJy4uL3N0eWxlcy9nbG9iYWxzLmNzcyc7XG5cbmZ1bmN0aW9uIEFwcCh7IENvbXBvbmVudCwgcGFnZVByb3BzIH0pIHtcbiAgcmV0dXJuIChcbiAgICA8PlxuICAgICAgPENvbXBvbmVudCB7Li4ucGFnZVByb3BzfSAvPlxuICAgIDwvPlxuICApO1xufVxuXG5leHBvcnQgZGVmYXVsdCBBcHA7Il0sIm5hbWVzIjpbIkFwcCIsIkNvbXBvbmVudCIsInBhZ2VQcm9wcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./pages/_app.js\n");

/***/ }),

/***/ "./pages/index.js":
/*!************************!*\
  !*** ./pages/index.js ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ HomePage)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/link */ \"./node_modules/next/link.js\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_link__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _components_OCRBankStatementReader__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/OCRBankStatementReader */ \"./components/OCRBankStatementReader.js\");\n/* harmony import */ var _components_pnlStatementReader__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/pnlStatementReader */ \"./components/pnlStatementReader.js\");\n/* harmony import */ var _components_gstReader__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../components/gstReader */ \"./components/gstReader.js\");\n/* harmony import */ var _components_chatBot__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../components/chatBot */ \"./components/chatBot.js\");\n// pages/index.js\n\n\n\n\n\n\n\nfunction HomePage() {\n    const [analysisSummary, setAnalysisSummary] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    //  1. Add state to track if each document has been processed\n    const [isBankStatementProcessed, setIsBankStatementProcessed] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isPnlProcessed, setIsPnlProcessed] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isGstProcessed, setIsGstProcessed] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const handleGetAnalysis = async ()=>{\n        // ... (this function remains the same)\n        setIsLoading(true);\n        setError(\"\");\n        setAnalysisSummary(\"\");\n        try {\n            const response = await fetch(\"/api/getAnalysis\");\n            if (!response.ok) {\n                throw new Error(\"Failed to fetch analysis from the server.\");\n            }\n            const data = await response.json();\n            setAnalysisSummary(data.summary);\n        } catch (err) {\n            setError(err.message);\n        } finally{\n            setIsLoading(false);\n        }\n    };\n    //  2. Create a variable to easily check if both are done\n    const areBothStatementsProcessed = isBankStatementProcessed && isPnlProcessed && isGstProcessed;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"min-h-screen bg-gray-50 p-6\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"max-w-6xl mx-auto space-y-12\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_OCRBankStatementReader__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                    onProcessComplete: setIsBankStatementProcessed\n                }, void 0, false, {\n                    fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/pages/index.js\",\n                    lineNumber: 50,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_pnlStatementReader__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                    onProcessComplete: setIsPnlProcessed\n                }, void 0, false, {\n                    fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/pages/index.js\",\n                    lineNumber: 51,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_gstReader__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                    onProcessComplete: setIsGstProcessed\n                }, void 0, false, {\n                    fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/pages/index.js\",\n                    lineNumber: 52,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"fixed bottom-4 right-4\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_chatBot__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {}, void 0, false, {\n                        fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/pages/index.js\",\n                        lineNumber: 55,\n                        columnNumber: 5\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/pages/index.js\",\n                    lineNumber: 54,\n                    columnNumber: 3\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"mt-12 p-6 bg-white rounded-lg shadow-lg\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex flex-col md:flex-row items-center justify-center gap-4\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_2___default()), {\n                                href: \"/deep-analytics\",\n                                // The 'pointer-events-none' and 'opacity-50' classes visually disable the Link\n                                className: `px-6 py-3 bg-indigo-600 text-white text-center font-semibold rounded-lg shadow-md hover:bg-indigo-700 transition-colors w-full md:w-auto ${!areBothStatementsProcessed ? \"pointer-events-none opacity-50\" : \"\"}`,\n                                \"aria-disabled\": !areBothStatementsProcessed,\n                                tabIndex: !areBothStatementsProcessed ? -1 : undefined,\n                                children: \"Deep Analysis\"\n                            }, void 0, false, {\n                                fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/pages/index.js\",\n                                lineNumber: 62,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/pages/index.js\",\n                            lineNumber: 59,\n                            columnNumber: 11\n                        }, this),\n                        analysisSummary && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"mt-6 p-4 border border-green-200 rounded-lg bg-green-50\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                    className: \"text-md font-semibold mb-2 text-green-900\",\n                                    children: \"Analysis Summary:\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/pages/index.js\",\n                                    lineNumber: 78,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-sm text-gray-800\",\n                                    children: analysisSummary\n                                }, void 0, false, {\n                                    fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/pages/index.js\",\n                                    lineNumber: 79,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/pages/index.js\",\n                            lineNumber: 77,\n                            columnNumber: 13\n                        }, this),\n                        error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"mt-6 p-4 bg-red-50 border border-red-200 text-red-700 rounded\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                    children: \"Error:\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/pages/index.js\",\n                                    lineNumber: 84,\n                                    columnNumber: 15\n                                }, this),\n                                \" \",\n                                error\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/pages/index.js\",\n                            lineNumber: 83,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/pages/index.js\",\n                    lineNumber: 58,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/pages/index.js\",\n            lineNumber: 47,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/medhanshnair/Desktop/bank-statement-reader copy 7/pages/index.js\",\n        lineNumber: 46,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWdlcy9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFBLGlCQUFpQjs7QUFFZ0I7QUFDSjtBQUM2QztBQUNMO0FBQ2xCO0FBRVA7QUFJN0IsU0FBU007SUFDdEIsTUFBTSxDQUFDQyxpQkFBaUJDLG1CQUFtQixHQUFHUiwrQ0FBUUEsQ0FBQztJQUN2RCxNQUFNLENBQUNTLFdBQVdDLGFBQWEsR0FBR1YsK0NBQVFBLENBQUM7SUFDM0MsTUFBTSxDQUFDVyxPQUFPQyxTQUFTLEdBQUdaLCtDQUFRQSxDQUFDO0lBRW5DLDhEQUE4RDtJQUM5RCxNQUFNLENBQUNhLDBCQUEwQkMsNEJBQTRCLEdBQUdkLCtDQUFRQSxDQUFDO0lBQ3pFLE1BQU0sQ0FBQ2UsZ0JBQWdCQyxrQkFBa0IsR0FBR2hCLCtDQUFRQSxDQUFDO0lBQ3JELE1BQU0sQ0FBQ2lCLGdCQUFnQkMsa0JBQWtCLEdBQUdsQiwrQ0FBUUEsQ0FBQztJQUVyRCxNQUFNbUIsb0JBQW9CO1FBQ3hCLHVDQUF1QztRQUN2Q1QsYUFBYTtRQUNiRSxTQUFTO1FBQ1RKLG1CQUFtQjtRQUNuQixJQUFJO1lBQ0YsTUFBTVksV0FBVyxNQUFNQyxNQUFNO1lBQzdCLElBQUksQ0FBQ0QsU0FBU0UsRUFBRSxFQUFFO2dCQUNoQixNQUFNLElBQUlDLE1BQU07WUFDbEI7WUFDQSxNQUFNQyxPQUFPLE1BQU1KLFNBQVNLLElBQUk7WUFDaENqQixtQkFBbUJnQixLQUFLRSxPQUFPO1FBQ2pDLEVBQUUsT0FBT0MsS0FBSztZQUNaZixTQUFTZSxJQUFJQyxPQUFPO1FBQ3RCLFNBQVU7WUFDUmxCLGFBQWE7UUFDZjtJQUNGO0lBRUEsMERBQTBEO0lBQzFELE1BQU1tQiw2QkFBNkJoQiw0QkFBNEJFLGtCQUFrQkU7SUFFakYscUJBQ0UsOERBQUNhO1FBQUlDLFdBQVU7a0JBQ2IsNEVBQUNEO1lBQUlDLFdBQVU7OzhCQUdiLDhEQUFDN0IsMEVBQXNCQTtvQkFBQzhCLG1CQUFtQmxCOzs7Ozs7OEJBQzNDLDhEQUFDWCxzRUFBcUJBO29CQUFDNkIsbUJBQW1CaEI7Ozs7Ozs4QkFDMUMsOERBQUNaLDZEQUFZQTtvQkFBQzRCLG1CQUFtQmQ7Ozs7Ozs4QkFFdkMsOERBQUNZO29CQUFJQyxXQUFVOzhCQUNiLDRFQUFDMUIsMkRBQU9BOzs7Ozs7Ozs7OzhCQUdKLDhEQUFDeUI7b0JBQUlDLFdBQVU7O3NDQUNiLDhEQUFDRDs0QkFBSUMsV0FBVTtzQ0FHYiw0RUFBQzlCLGtEQUFJQTtnQ0FDSGdDLE1BQUs7Z0NBQ0wsK0VBQStFO2dDQUMvRUYsV0FBVyxDQUFDLHlJQUF5SSxFQUNuSixDQUFDRiw2QkFBNkIsbUNBQW1DLEdBQ2xFLENBQUM7Z0NBQ0ZLLGlCQUFlLENBQUNMO2dDQUNoQk0sVUFBVSxDQUFDTiw2QkFBNkIsQ0FBQyxJQUFJTzswQ0FDOUM7Ozs7Ozs7Ozs7O3dCQU1GN0IsaUNBQ0MsOERBQUN1Qjs0QkFBSUMsV0FBVTs7OENBQ2IsOERBQUNNO29DQUFHTixXQUFVOzhDQUE0Qzs7Ozs7OzhDQUMxRCw4REFBQ087b0NBQUVQLFdBQVU7OENBQXlCeEI7Ozs7Ozs7Ozs7Ozt3QkFHekNJLHVCQUNDLDhEQUFDbUI7NEJBQUlDLFdBQVU7OzhDQUNiLDhEQUFDUTs4Q0FBTzs7Ozs7O2dDQUFlO2dDQUFFNUI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQU92QyIsInNvdXJjZXMiOlsid2VicGFjazovL2Jhbmstc3RhdGVtZW50LXJlYWRlci8uL3BhZ2VzL2luZGV4LmpzP2JlZTciXSwic291cmNlc0NvbnRlbnQiOlsiLy8gcGFnZXMvaW5kZXguanNcblxuaW1wb3J0IHsgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgTGluayBmcm9tICduZXh0L2xpbmsnO1xuaW1wb3J0IE9DUkJhbmtTdGF0ZW1lbnRSZWFkZXIgZnJvbSAnLi4vY29tcG9uZW50cy9PQ1JCYW5rU3RhdGVtZW50UmVhZGVyJztcbmltcG9ydCBPQ1JQbkxTdGF0ZW1lbnRSZWFkZXIgZnJvbSAnLi4vY29tcG9uZW50cy9wbmxTdGF0ZW1lbnRSZWFkZXInO1xuaW1wb3J0IE9DUkdzdFJlYWRlciBmcm9tICcuLi9jb21wb25lbnRzL2dzdFJlYWRlcic7XG5cbmltcG9ydCBDaGF0Qm90IGZyb20gJy4uL2NvbXBvbmVudHMvY2hhdEJvdCc7XG5cblxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBIb21lUGFnZSgpIHtcbiAgY29uc3QgW2FuYWx5c2lzU3VtbWFyeSwgc2V0QW5hbHlzaXNTdW1tYXJ5XSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW2lzTG9hZGluZywgc2V0SXNMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZSgnJyk7XG5cbiAgLy8g4pyFIDEuIEFkZCBzdGF0ZSB0byB0cmFjayBpZiBlYWNoIGRvY3VtZW50IGhhcyBiZWVuIHByb2Nlc3NlZFxuICBjb25zdCBbaXNCYW5rU3RhdGVtZW50UHJvY2Vzc2VkLCBzZXRJc0JhbmtTdGF0ZW1lbnRQcm9jZXNzZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbaXNQbmxQcm9jZXNzZWQsIHNldElzUG5sUHJvY2Vzc2VkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2lzR3N0UHJvY2Vzc2VkLCBzZXRJc0dzdFByb2Nlc3NlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG5cbiAgY29uc3QgaGFuZGxlR2V0QW5hbHlzaXMgPSBhc3luYyAoKSA9PiB7XG4gICAgLy8gLi4uICh0aGlzIGZ1bmN0aW9uIHJlbWFpbnMgdGhlIHNhbWUpXG4gICAgc2V0SXNMb2FkaW5nKHRydWUpO1xuICAgIHNldEVycm9yKCcnKTtcbiAgICBzZXRBbmFseXNpc1N1bW1hcnkoJycpO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL2dldEFuYWx5c2lzJyk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGZldGNoIGFuYWx5c2lzIGZyb20gdGhlIHNlcnZlci4nKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICBzZXRBbmFseXNpc1N1bW1hcnkoZGF0YS5zdW1tYXJ5KTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHNldEVycm9yKGVyci5tZXNzYWdlKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgLy8g4pyFIDIuIENyZWF0ZSBhIHZhcmlhYmxlIHRvIGVhc2lseSBjaGVjayBpZiBib3RoIGFyZSBkb25lXG4gIGNvbnN0IGFyZUJvdGhTdGF0ZW1lbnRzUHJvY2Vzc2VkID0gaXNCYW5rU3RhdGVtZW50UHJvY2Vzc2VkICYmIGlzUG5sUHJvY2Vzc2VkICYmIGlzR3N0UHJvY2Vzc2VkO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJtaW4taC1zY3JlZW4gYmctZ3JheS01MCBwLTZcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWF4LXctNnhsIG14LWF1dG8gc3BhY2UteS0xMlwiPlxuICAgICAgICBcbiAgICAgICAgey8qIOKchSAzLiBQYXNzIHRoZSBzdGF0ZS1zZXR0aW5nIGZ1bmN0aW9ucyBkb3duIGFzIHByb3BzICovfVxuICAgICAgICA8T0NSQmFua1N0YXRlbWVudFJlYWRlciBvblByb2Nlc3NDb21wbGV0ZT17c2V0SXNCYW5rU3RhdGVtZW50UHJvY2Vzc2VkfSAvPlxuICAgICAgICA8T0NSUG5MU3RhdGVtZW50UmVhZGVyIG9uUHJvY2Vzc0NvbXBsZXRlPXtzZXRJc1BubFByb2Nlc3NlZH0gLz5cbiAgICAgICAgPE9DUkdzdFJlYWRlciBvblByb2Nlc3NDb21wbGV0ZT17c2V0SXNHc3RQcm9jZXNzZWR9Lz5cblxuICA8ZGl2IGNsYXNzTmFtZT1cImZpeGVkIGJvdHRvbS00IHJpZ2h0LTRcIj5cbiAgICA8Q2hhdEJvdCAvPlxuICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTEyIHAtNiBiZy13aGl0ZSByb3VuZGVkLWxnIHNoYWRvdy1sZ1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBtZDpmbGV4LXJvdyBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgZ2FwLTRcIj5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgXG4gICAgICAgICAgICA8TGluayBcbiAgICAgICAgICAgICAgaHJlZj1cIi9kZWVwLWFuYWx5dGljc1wiXG4gICAgICAgICAgICAgIC8vIFRoZSAncG9pbnRlci1ldmVudHMtbm9uZScgYW5kICdvcGFjaXR5LTUwJyBjbGFzc2VzIHZpc3VhbGx5IGRpc2FibGUgdGhlIExpbmtcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgcHgtNiBweS0zIGJnLWluZGlnby02MDAgdGV4dC13aGl0ZSB0ZXh0LWNlbnRlciBmb250LXNlbWlib2xkIHJvdW5kZWQtbGcgc2hhZG93LW1kIGhvdmVyOmJnLWluZGlnby03MDAgdHJhbnNpdGlvbi1jb2xvcnMgdy1mdWxsIG1kOnctYXV0byAke1xuICAgICAgICAgICAgICAgICFhcmVCb3RoU3RhdGVtZW50c1Byb2Nlc3NlZCA/IFwicG9pbnRlci1ldmVudHMtbm9uZSBvcGFjaXR5LTUwXCIgOiBcIlwiXG4gICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICBhcmlhLWRpc2FibGVkPXshYXJlQm90aFN0YXRlbWVudHNQcm9jZXNzZWR9XG4gICAgICAgICAgICAgIHRhYkluZGV4PXshYXJlQm90aFN0YXRlbWVudHNQcm9jZXNzZWQgPyAtMSA6IHVuZGVmaW5lZH1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgRGVlcCBBbmFseXNpc1xuICAgICAgICAgICAgPC9MaW5rPlxuXG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgXG4gICAgICAgICAge2FuYWx5c2lzU3VtbWFyeSAmJiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTYgcC00IGJvcmRlciBib3JkZXItZ3JlZW4tMjAwIHJvdW5kZWQtbGcgYmctZ3JlZW4tNTBcIj5cbiAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQtbWQgZm9udC1zZW1pYm9sZCBtYi0yIHRleHQtZ3JlZW4tOTAwXCI+QW5hbHlzaXMgU3VtbWFyeTo8L2gzPlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS04MDBcIj57YW5hbHlzaXNTdW1tYXJ5fTwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgICAge2Vycm9yICYmIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNiBwLTQgYmctcmVkLTUwIGJvcmRlciBib3JkZXItcmVkLTIwMCB0ZXh0LXJlZC03MDAgcm91bmRlZFwiPlxuICAgICAgICAgICAgICA8c3Ryb25nPkVycm9yOjwvc3Ryb25nPiB7ZXJyb3J9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufSJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsIkxpbmsiLCJPQ1JCYW5rU3RhdGVtZW50UmVhZGVyIiwiT0NSUG5MU3RhdGVtZW50UmVhZGVyIiwiT0NSR3N0UmVhZGVyIiwiQ2hhdEJvdCIsIkhvbWVQYWdlIiwiYW5hbHlzaXNTdW1tYXJ5Iiwic2V0QW5hbHlzaXNTdW1tYXJ5IiwiaXNMb2FkaW5nIiwic2V0SXNMb2FkaW5nIiwiZXJyb3IiLCJzZXRFcnJvciIsImlzQmFua1N0YXRlbWVudFByb2Nlc3NlZCIsInNldElzQmFua1N0YXRlbWVudFByb2Nlc3NlZCIsImlzUG5sUHJvY2Vzc2VkIiwic2V0SXNQbmxQcm9jZXNzZWQiLCJpc0dzdFByb2Nlc3NlZCIsInNldElzR3N0UHJvY2Vzc2VkIiwiaGFuZGxlR2V0QW5hbHlzaXMiLCJyZXNwb25zZSIsImZldGNoIiwib2siLCJFcnJvciIsImRhdGEiLCJqc29uIiwic3VtbWFyeSIsImVyciIsIm1lc3NhZ2UiLCJhcmVCb3RoU3RhdGVtZW50c1Byb2Nlc3NlZCIsImRpdiIsImNsYXNzTmFtZSIsIm9uUHJvY2Vzc0NvbXBsZXRlIiwiaHJlZiIsImFyaWEtZGlzYWJsZWQiLCJ0YWJJbmRleCIsInVuZGVmaW5lZCIsImgzIiwicCIsInN0cm9uZyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./pages/index.js\n");

/***/ }),

/***/ "./styles/globals.css":
/*!****************************!*\
  !*** ./styles/globals.css ***!
  \****************************/
/***/ (() => {



/***/ }),

/***/ "@supabase/supabase-js":
/*!****************************************!*\
  !*** external "@supabase/supabase-js" ***!
  \****************************************/
/***/ ((module) => {

"use strict";
module.exports = require("@supabase/supabase-js");

/***/ }),

/***/ "next/dist/compiled/next-server/pages.runtime.dev.js":
/*!**********************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages.runtime.dev.js" ***!
  \**********************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/pages.runtime.dev.js");

/***/ }),

/***/ "pdfjs-dist":
/*!*****************************!*\
  !*** external "pdfjs-dist" ***!
  \*****************************/
/***/ ((module) => {

"use strict";
module.exports = require("pdfjs-dist");

/***/ }),

/***/ "react":
/*!************************!*\
  !*** external "react" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("react");

/***/ }),

/***/ "react/jsx-dev-runtime":
/*!****************************************!*\
  !*** external "react/jsx-dev-runtime" ***!
  \****************************************/
/***/ ((module) => {

"use strict";
module.exports = require("react/jsx-dev-runtime");

/***/ }),

/***/ "tesseract.js":
/*!*******************************!*\
  !*** external "tesseract.js" ***!
  \*******************************/
/***/ ((module) => {

"use strict";
module.exports = require("tesseract.js");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@swc"], () => (__webpack_exec__("./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2F&preferredRegion=&absolutePagePath=.%2Fpages%2Findex.js&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();